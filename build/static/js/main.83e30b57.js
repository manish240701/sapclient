/*! For license information please see main.83e30b57.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),a=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var u="\n"+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function _e(e){if(e=ka(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ie(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function De(e,t,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Ue=!1,Fe=null,ze={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,a,i,o,s,u){Le=!1,Me=null,De.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=ft(s):0!==(i&=o)&&(r=ft(i))}else 0!==(o=n&~a)?r=ft(o):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,_t,Tt=!1,Ct=[],Nt=null,It=null,At=null,jt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ka(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ya(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ka(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Tt=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),null!==At&&Ut(At)&&(At=null),jt.forEach(Ft),Ot.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==It&&Vt(It,e),null!==At&&Vt(At,e),jt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var a=kt,i=qt.transition;qt.transition=null;try{kt=1,Qt(e,t,n,r)}finally{kt=a,qt.transition=i}}function Gt(e,t,n,r){var a=kt,i=qt.transition;qt.transition=null;try{kt=4,Qt(e,t,n,r)}finally{kt=a,qt.transition=i}}function Qt(e,t,n,r){if(Ht){var a=Yt(e,t,n,r);if(null===a)Hr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,a),!0;case"dragenter":return It=Lt(It,e,t,n,r,a),!0;case"mouseover":return At=Lt(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return jt.set(i,Lt(jt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ot.set(i,Lt(Ot.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==a;){var i=ka(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=ya(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var Tn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),Nn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(jn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,Mn=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Kn(e){Ur(e,0)}function Yn(e){if(Q(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Wn(t,Qn,e,we(e)),je(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=lr(n,i);var o=lr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function _r(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=_r("animationend"),Cr=_r("animationiteration"),Nr=_r("animationstart"),Ir=_r("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<jr.length;Rr++){var Pr=jr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,s,c),i=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var a=Wt;break;case 4:a=Gt;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=i,a=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Tr:case Cr:case Nr:u=gn;break;case Ir:u=An;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ba(u),d=null==c?s:ba(c),(s=new l(v,p+"leave",u,n,a)).target=f,s.relatedTarget=d,v=null,ya(a)===r&&((l=new l(h,p+"enter",c,n,a)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Qr(l),h=Qr(h)}l=null}else l=null;null!==u&&Kr(o,s,u,l,!1),null!==c&&null!==f&&Kr(o,f,c,l,!0)}if("select"===(u=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=or;else{m=ar;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Wn(o,m,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ba(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,a)}var y;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Zt="value"in(Jt=a)?Jt.value:Jt.textContent,Bn=!0)),0<(g=Gr(r,k)).length&&(k=new bn(k,e,null,n,a),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Vn(n))&&(k.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&zn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Oe(e,n))&&r.unshift(Wr(e,i,a)),null!=(i=Oe(e,t))&&r.push(Wr(e,i,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Oe(n,i))&&o.unshift(Wr(n,u,s)):a||null!=(u=Oe(n,i))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),ha="__reactFiber$"+fa,da="__reactProps$"+fa,pa="__reactContainer$"+fa,va="__reactEvents$"+fa,ma="__reactListeners$"+fa,ga="__reactHandles$"+fa;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[ha])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function ka(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[da]||null}var xa=[],Sa=-1;function Ea(e){return{current:e}}function _a(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ta(e,t){Sa++,xa[Sa]=e.current,e.current=t}var Ca={},Na=Ea(Ca),Ia=Ea(!1),Aa=Ca;function ja(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){_a(Ia),_a(Na)}function Pa(e,t,n){if(Na.current!==Ca)throw Error(i(168));Ta(Na,t),Ta(Ia,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,q(e)||"Unknown",a));return M({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=Na.current,Ta(Na,e),Ta(Ia,Ia.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Da(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,_a(Ia),_a(Na),Ta(Na,e)):_a(Ia),Ta(Ia,n)}var Ua=null,Fa=!1,za=!1;function Va(e){null===Ua?Ua=[e]:Ua.push(e)}function Ba(){if(!za&&null!==Ua){za=!0;var e=0,t=kt;try{var n=Ua;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Fa=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),Qe($e,Ba),a}finally{kt=t,za=!1}}return null}var qa=[],Ha=0,Wa=null,Ga=0,Qa=[],Ka=0,Ya=null,Xa=1,Ja="";function Za(e,t){qa[Ha++]=Ga,qa[Ha++]=Wa,Wa=e,Ga=t}function $a(e,t,n){Qa[Ka++]=Xa,Qa[Ka++]=Ja,Qa[Ka++]=Ya,Ya=e;var r=Xa;e=Ja;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Ja=i+e}else Xa=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ti(e){for(;e===Wa;)Wa=qa[--Ha],qa[Ha]=null,Ga=qa[--Ha],qa[Ha]=null;for(;e===Ya;)Ya=Qa[--Ka],Qa[Ka]=null,Ja=Qa[--Ka],Qa[Ka]=null,Xa=Qa[--Ka],Qa[Ka]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(ui(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function li(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function fi(e){if(e!==ni)return!1;if(!ai)return li(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(ui(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(li(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function di(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var vi=b.ReactCurrentBatchConfig;function mi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Ea(null),yi=null,ki=null,bi=null;function wi(){bi=ki=yi=null}function xi(e){var t=gi.current;_a(gi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){yi=e,bi=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===yi)throw Error(i(308));ki=e,yi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Ci(e){null===Ti?Ti=[e]:Ti.push(e)}function Ni(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ci(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ai=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,Ci(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var a=e.updateQueue;Ai=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?i=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==i){var f=a.baseState;for(o=0,l=c=u=null,s=i;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Ai=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===l&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Fi=(new r.Component).refs;function zi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Ri(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Pi(e,i,a))&&(nc(t,e,a,r),Di(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Ri(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Pi(e,i,a))&&(nc(t,e,a,r),Di(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ri(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Pi(e,a,r))&&(nc(t,e,r,n),Di(t,e,r))}};function Bi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,i))}function qi(e,t,n){var r=!1,a=Ca,i=t.contextType;return"object"===typeof i&&null!==i?i=_i(i):(a=Oa(t)?Aa:Na.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ja(e,a):Ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Fi,ji(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=_i(i):(i=Oa(t)?Aa:Na.current,a.context=ja(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Vi.enqueueReplaceState(a,a.state,null),Mi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Fi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ki(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&Ki(i)===t.type)?((r=a(t,n.props)).ref=Gi(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Gi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Gi(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Qi(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case x:return n.key===a?l(e,t,n,r):null;case O:return d(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:f(e,t,n,r,null);Qi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,a,null);Qi(t,r)}return null}function v(a,i,s,u){for(var c=null,l=null,f=i,v=i=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(a,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),i=o(g,i,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(a,f),ai&&Za(a,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(a,s[v],u))&&(i=o(f,i,v),null===l?c=f:l.sibling=f,l=f);return ai&&Za(a,v),c}for(f=r(a,f);v<s.length;v++)null!==(m=p(f,a,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=o(m,i,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),ai&&Za(a,v),c}function m(a,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(a,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(a,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(a,v),ai&&Za(a,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(a,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ai&&Za(a,m),l}for(v=r(a,v);!y.done;m++,y=u.next())null!==(y=p(v,a,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),ai&&Za(a,m),l}return function e(r,i,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=i;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(i=a(l,o.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ki(c)===l.type){n(r,l.sibling),(i=a(l,o.props)).ref=Gi(r,l,o),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((i=Dc(o.props.children,r.mode,u,o.key)).return=r,r=i):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Gi(r,i,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(o,r.mode,u)).return=r,r=i}return s(r);case O:return e(r,i,(l=o._init)(o._payload),u)}if(te(o))return v(r,i,o,u);if(D(o))return m(r,i,o,u);Qi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Mc(o,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Xi=Yi(!0),Ji=Yi(!1),Zi={},$i=Ea(Zi),eo=Ea(Zi),to=Ea(Zi);function no(e){if(e===Zi)throw Error(i(174));return e}function ro(e,t){switch(Ta(to,t),Ta(eo,e),Ta($i,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a($i),Ta($i,t)}function ao(){_a($i),_a(eo),_a(to)}function io(e){no(to.current);var t=no($i.current),n=ue(t,e.type);t!==n&&(Ta(eo,e),Ta($i,n))}function oo(e){eo.current===e&&(_a($i),_a(eo))}var so=Ea(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(i(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,a,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,a),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(i(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,a)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(i(300));return e}function _o(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=mo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,vo.lanes|=o,Lu|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Oo(e,t){var n=vo,r=Co(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,Ho(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,a,t),void 0,null),null===Iu)throw Error(i(349));0!==(30&po)||Ro(n,t,a)}return a}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Do(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Co().memoizedState}function Vo(e,t,n,r){var a=To();vo.flags|=e,a.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var a=Co();r=void 0===r?null:r;var i=void 0;if(null!==mo){var o=mo.memoizedState;if(i=o.destroy,null!==r&&So(r,o.deps))return void(a.memoizedState=Fo(t,n,i,r))}vo.flags|=e,a.memoizedState=Fo(1|t,n,i,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Qo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ni(e,t,n,r))){nc(n,e,r,ec()),is(n,t,r)}}function ns(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(a.next=a,Ci(t)):(a.next=u.next,u.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ni(e,t,a,r))&&(nc(n,e,r,a=ec()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function as(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:_i,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:_i,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,a=To();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Iu)throw Error(i(349));0!==(30&po)||Ro(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,qo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Iu.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:_i,useCallback:Xo,useContext:_i,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Io,useRef:zo,useState:function(){return Io(No)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[Io(No)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:_i,useCallback:Xo,useContext:_i,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:zo,useState:function(){return Ao(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(No)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,Pi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ji(t,null,n,r):Xi(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var i=t.ref;return Ei(t,a),r=Eo(e,t,n,r,i,a),n=_o(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Es(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,a)}function _s(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ta(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ta(Ru,Ou),Ou|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ta(Ru,Ou),Ou|=r;return ws(e,t,a,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,a){var i=Oa(n)?Aa:Na.current;return i=ja(t,i),Ei(t,a),n=Eo(e,t,n,r,i,a),r=_o(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ns(e,t,n,r,a){if(Oa(n)){var i=!0;La(t)}else i=!1;if(Ei(t,a),null===t.stateNode)qs(e,t),qi(t,n,r),Wi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_i(c):c=ja(t,c=Oa(n)?Aa:Na.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Hi(t,o,r,c),Ai=!1;var h=t.memoizedState;o.state=h,Mi(t,r,o,a),u=t.memoizedState,s!==r||h!==u||Ia.current||Ai?("function"===typeof l&&(zi(t,n,l,r),u=t.memoizedState),(s=Ai||Bi(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=_i(u):u=ja(t,u=Oa(n)?Aa:Na.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Hi(t,o,r,u),Ai=!1,h=t.memoizedState,o.state=h,Mi(t,r,o,a);var p=t.memoizedState;s!==f||h!==p||Ia.current||Ai?("function"===typeof d&&(zi(t,n,d,r),p=t.memoizedState),(c=Ai||Bi(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,a)}function Is(e,t,n,r,a,i){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ma(t,n,!1),Hs(e,t,i);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,a){return di(),pi(a),t.flags|=256,ws(e,t,n,r),t.child}var Os,Rs,Ps,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ta(so,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,a,0,null),e=Dc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(o=Dc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(i(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Iu)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ii(e,a),nc(r,e,a,-1))}return vc(),Fs(e,t,s,r=fs(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Qa[Ka++]=Xa,Qa[Ka++]=Ja,Qa[Ka++]=Ya,Xa=e.id,Ja=e.overflow,Ya=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,a,r,o,n);if(s){s=a.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&u)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,a}return e=(s=e.child).sibling,a=Rc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Us(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pi(r),Xi(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Vs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Bs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ta(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oa(t.type)&&Ra(),Gs(t),null;case 3:return r=t.stateNode,ao(),_a(Ia),_a(Na),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Gs(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=no($i.current),fi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[da]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var u in ye(n,o),a=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ha]=t,e[da]=r,Os(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=Y(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no($i.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Gs(t),null;case 13:if(_a(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),di(),t.flags|=98560,o=!1;else if(o=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else di(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return ao(),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xi(t.type._context),Gs(t),null;case 19:if(_a(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ta(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ai)return Gs(t),null}else 2*Je()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ta(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ti(t),t.tag){case 1:return Oa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),_a(Ia),_a(Na),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_a(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));di()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(so),null;case 4:return ao(),null;case 10:return xi(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no($i.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var u=a[l];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&eu(t,n,i)}a=a.next}while(a!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[da],delete t[va],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,a=fu;lu=null,hu(e,t,n),fu=a,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Bt(e)):ua(lu,n.stateNode));break;case 4:r=lu,a=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&eu(n,t,o),a=a.next}while(a!==r)}hu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(i(160));du(o,s,a),lu=null,fu=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(l){Ec(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(a,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(a,h):"dangerouslySetInnerHTML"===f?fe(a,h):"children"===f?he(a,h):k(a,f,h,l)}switch(u){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[da]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Vu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{a=h.stateNode,l?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cu(e,su(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(i(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var a=Zs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=u)&&!c)for(Zs=a;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(a):null!==u?(u.return=o,Zs=u):xu(a);for(;null!==i;)Zs=i,ku(i,t,n),i=i.sibling;Zs=a,Ys=s,Xs=c}bu(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zs=i):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ui(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ui(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){Ec(t,a,u)}}var i=t.return;try{au(t)}catch(u){Ec(t,i,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,_u=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Nu=0,Iu=null,Au=null,ju=0,Ou=0,Ru=Ea(0),Pu=0,Du=null,Lu=0,Mu=0,Uu=0,Fu=null,zu=null,Vu=0,Bu=1/0,qu=null,Hu=!1,Wu=null,Gu=null,Qu=!1,Ku=null,Yu=0,Xu=0,Ju=null,Zu=-1,$u=0;function ec(){return 0!==(6&Nu)?Je():-1!==Zu?Zu:Zu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==ju?ju&-ju:null!==vi.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(i(185));gt(e,n,r),0!==(2&Nu)&&e===Iu||(e===Iu&&(0===(2&Nu)&&(Mu|=n),4===Pu&&sc(e,ju)),rc(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=Je()+500,Fa&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,u=a[o];-1===u?0!==(s&n)&&0===(s&r)||(a[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Iu?ju:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fa=!0,Va(e)}(uc.bind(null,e)):Va(uc.bind(null,e)),oa((function(){0===(6&Nu)&&Ba()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,$u=0,0!==(6&Nu))throw Error(i(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Iu?ju:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=Nu;Nu|=2;var o=pc();for(Iu===e&&ju===t||(qu=null,Bu=Je()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}wi(),_u.current=o,Nu=a,null!==Au?t=0:(Iu=null,ju=0,t=Pu)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Du,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Du,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,zu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zu,qu),t);break}wc(e,zu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zu,qu),r);break}wc(e,zu,qu);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zu,zu=n,null!==t&&oc(t)),e}function oc(e){null===zu?zu=e:zu.push.apply(zu,e)}function sc(e,t){for(t&=~Uu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Nu))throw Error(i(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Du,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zu,qu),rc(e,Je()),null}function cc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=Je()+500,Fa&&Ba())}}function lc(e){null!==Ku&&0===Ku.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&Ba()}}function fc(){Ou=Ru.current,_a(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:ao(),_a(Ia),_a(Na),lo();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:_a(so);break;case 10:xi(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Iu=e,Au=e=Rc(e.current,null),ju=Ou=t,Pu=0,Du=null,Uu=Mu=Lu=0,zu=Fu=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ti=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wi(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Pu=1,Du=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=ju,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(i(426))}else if(ai&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pi(ls(c,u));break e}}o=c=ls(c,u),4!==Pu&&(Pu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Li(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Li(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=_u.current;return _u.current=os,null===e?os:e}function vc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Iu||0===(268435455&Lu)&&0===(268435455&Mu)||sc(Iu,ju)}function mc(e,t){var n=Nu;Nu|=2;var r=pc();for(Iu===e&&ju===t||(qu=null,hc(e,t));;)try{gc();break}catch(a){dc(e,a)}if(wi(),Nu=n,_u.current=r,null!==Au)throw Error(i(261));return Iu=null,ju=0,Pu}function gc(){for(;null!==Au;)kc(Au)}function yc(){for(;null!==Au&&!Ye();)kc(Au)}function kc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Tu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Pu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Pu&&(Pu=5)}function wc(e,t,n){var r=kt,a=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ku);if(0!==(6&Nu))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Iu&&(Au=Iu=null,ju=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ic(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ea=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(u=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===a&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:mi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,yu(n,e,a),Xe(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Ku=e,Yu=a),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Ba()}(e,t,n,r)}finally{Cu.transition=a,kt=r}return null}function xc(){if(null!==Ku){var e=bt(Yu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Yu=0,0!==(6&Nu))throw Error(i(331));var a=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(iu(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Pi(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Pi(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(ju&n)===n&&(4===Pu||3===Pu&&(130023424&ju)===ju&&500>Je()-Vu?hc(e,0):Uu|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ii(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tc(e,n)}function Ic(e,t){return Qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dc(n.children,a,o,t);case E:s=8,a|=8;break;case _:return(e=jc(12,n,t,2|a)).elementType=_,e.lanes=o,e;case I:return(e=jc(13,n,t,a)).elementType=I,e.lanes=o,e;case A:return(e=jc(19,n,t,a)).elementType=A,e.lanes=o,e;case R:return Lc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case j:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,i,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=jc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(i),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ca;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oa(n))return Da(e,n,t)}return t}function qc(e,t,n,r,a,i,o,s,u){return(e=zc(n,r,!0,e,0,i,0,s,u)).context=Bc(null),n=e.current,(i=Ri(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Pi(n,i,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pi(a,t,o))&&(nc(e,a,o,i),Di(e,a,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),di();break;case 5:io(t);break;case 1:Oa(t.type)&&La(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ta(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ta(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ta(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ta(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ta(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&$a(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=ja(t,Na.current);Ei(t,n),a=Eo(null,t,r,e,a,n);var o=_o();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ji(t),a.updater=Vi,t.stateNode=a,a._reactInternals=t,Wi(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(r),e=mi(r,e),a){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,mi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 3:e:{if(As(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Oi(e,t),Mi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,a=ls(Error(i(423)),t));break e}if(r!==a){t=js(e,t,r,n,a=ls(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(di(),r===a){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ta(gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ia.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ri(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Si(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Si(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ei(t,n),r=r(a=_i(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=mi(r=t.type,t.pendingProps),Ss(e,t,r,a=mi(r.type,a),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mi(r,a),qs(e,t),t.tag=1,Oa(r)?(e=!0,La(t)):e=!1,Ei(t,n),qi(t,r,a),Wi(t,r,a,n),Is(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return _s(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wc(o);i.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pa]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pa]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,a,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Nu)&&(Bu=Je()+500,Ba()))}break;case 13:lc((function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Qc(e,1)}},xt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},Et=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));Q(r),Z(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ie=lc;var tl={usingClientEntryPoint:!1,Events:[ka,ba,wa,Te,Ce,cc]},nl={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{at=al.inject(rl),it=al}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,a)&&!E.hasOwnProperty(a)&&(i[a]=t[a]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===i[a]&&(i[a]=u[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===i?"."+N(u,0):i,w(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),I(o,t,a,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var l=i+N(s=e[c],c);u+=I(s,t,a,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,a,l=i+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=k,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>i(u,n))c<a&&0>i(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<a&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var i=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,T=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function A(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof k)S=function(){k(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){g(A,0)};function R(e){_=e,E||(E=!0,S())}function P(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,P(w,i-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(i,o),i}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e=n(791),t=n.t(e,2),r=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,a=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||c(e,t)||l()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return u(e)}(e)||v(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=g(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var y=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=g(e))&&(r&&(r+=" "),r+=t);return r},k=["theme","type"],b=["delay","staleId"],w=function(e){return"number"==typeof e&&!isNaN(e)},x=function(e){return"string"==typeof e},S=function(e){return"function"==typeof e},E=function(e){return x(e)||S(e)?e:null},_=function(t){return(0,e.isValidElement)(t)||x(t)||S(t)||w(t)};function T(t){var n=t.enter,r=t.exit,a=t.appendPosition,i=void 0!==a&&a,o=t.collapse,s=void 0===o||o,u=t.collapseDuration,c=void 0===u?300:u;return function(t){var a=t.children,o=t.position,u=t.preventExitTransition,l=t.done,f=t.nodeRef,h=t.isIn,d=i?"".concat(n,"--").concat(o):n,p=i?"".concat(r,"--").concat(o):r,v=(0,e.useRef)(0);return(0,e.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var a;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===v.current&&"animationcancel"!==r.type&&(a=t.classList).remove.apply(a,m(n)))};(e=t.classList).add.apply(e,m(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,e.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,a=e.style;requestAnimationFrame((function(){a.minHeight="initial",a.height=r+"px",a.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(v.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[h]),e.createElement(e.Fragment,null,a)}}function C(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var N={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var a=setTimeout((function(){r.apply(void 0,m([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(a)}))}},I=function(t){var n=t.theme,r=t.type,a=p(t,k);return e.createElement("svg",d({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},a))},A={info:function(t){return e.createElement(I,d({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement(I,d({},t),e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement(I,d({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement(I,d({},t),e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function j(t){var n=(0,e.useReducer)((function(e){return e+1}),0),r=f(n,2)[1],a=f((0,e.useState)([]),2),i=a[0],o=a[1],s=(0,e.useRef)(null),u=(0,e.useRef)(new Map).current,c=function(e){return-1!==i.indexOf(e)},l=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function v(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function g(){var e=l.queue.shift();k(e.toastContent,e.toastProps,e.staleId)}function y(t,n){var a=n.delay,i=n.staleId,o=p(n,b);if(_(t)&&!function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,f=o.updateId,h=o.data,m=l.props,y=function(){return v(c)},T=null==f;T&&l.count++;var I,j,O=d(d(d({},m),{},{style:m.toastStyle,key:l.toastKey++},o),{},{toastId:c,updateId:f,data:h,closeToast:y,isIn:!1,className:E(o.className||m.toastClassName),bodyClassName:E(o.bodyClassName||m.bodyClassName),progressClassName:E(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(I=o.autoClose,j=m.autoClose,!1===I||w(I)&&I>0?I:j),deleteToast:function(){var e=C(u.get(c),"removed");u.delete(c),N.emit(4,e);var t=l.queue.length;if(l.count=null==c?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){var n=null==c?l.props.limit:1;if(1===t||1===n)l.displayedToast++,g();else{var a=n>t?t:n;l.displayedToast=a;for(var i=0;i<a;i++)g()}}else r()}});O.iconOut=function(t){var n=t.theme,r=t.type,a=t.isLoading,i=t.icon,o=null,s={theme:n,type:r};return!1===i||(S(i)?o=i(s):(0,e.isValidElement)(i)?o=(0,e.cloneElement)(i,s):x(i)||w(i)?o=i:a?o=A.spinner():function(e){return e in A}(r)&&(o=A[r](s))),o}(O),S(o.onOpen)&&(O.onOpen=o.onOpen),S(o.onClose)&&(O.onClose=o.onClose),O.closeButton=m.closeButton,!1===o.closeButton||_(o.closeButton)?O.closeButton=o.closeButton:!0===o.closeButton&&(O.closeButton=!_(m.closeButton)||m.closeButton);var R=t;(0,e.isValidElement)(t)&&!x(t.type)?R=(0,e.cloneElement)(t,{closeToast:y,toastProps:O,data:h}):S(t)&&(R=t({closeToast:y,toastProps:O,data:h})),m.limit&&m.limit>0&&l.count>m.limit&&T?l.queue.push({toastContent:R,toastProps:O,staleId:i}):w(a)?setTimeout((function(){k(R,O,i)}),a):k(R,O,i)}}function k(e,t,n){var r=t.toastId;n&&u.delete(n);var a={content:e,props:t};u.set(r,a),o((function(e){return[].concat(m(e),[r]).filter((function(e){return e!==n}))})),N.emit(4,C(a,null==a.props.updateId?"added":"updated"))}return(0,e.useEffect)((function(){return l.containerId=t.containerId,N.cancelEmit(3).on(0,y).on(1,(function(e){return s.current&&v(e)})).on(5,h).emit(2,l),function(){u.clear(),N.emit(3,l)}}),[]),(0,e.useEffect)((function(){l.props=t,l.isToastActive=c,l.displayedToast=i.length})),{getToastToRender:function(e){var n=new Map,r=Array.from(u.values());return t.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(t){return e(t[0],t[1])}))},containerRef:s,isToastActive:c}}function O(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function R(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function P(t){var n=f((0,e.useState)(!1),2),r=n[0],a=n[1],i=f((0,e.useState)(!1),2),o=i[0],s=i[1],u=(0,e.useRef)(null),c=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,e.useRef)(t),h=t.autoClose,d=t.pauseOnHover,p=t.closeToast,v=t.onClick,m=t.closeOnClick;function g(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=O(e.nativeEvent),c.y=R(e.nativeEvent),"x"===t.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(e){if(c.boundingRect){var n=c.boundingRect,r=n.top,a=n.bottom,i=n.left,o=n.right;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&c.x>=i&&c.x<=o&&c.y>=r&&c.y<=a?b():k()}}function k(){a(!0)}function b(){a(!1)}function w(e){var n=u.current;c.canDrag&&n&&(c.didMove=!0,r&&b(),c.x=O(e),c.y=R(e),c.delta="x"===t.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate".concat(t.draggableDirection,"(").concat(c.delta,"px)"),n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function x(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x);var e=u.current;if(c.canDrag&&c.didMove&&e){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate".concat(t.draggableDirection,"(0)"),e.style.opacity="1"}}(0,e.useEffect)((function(){l.current=t})),(0,e.useEffect)((function(){return u.current&&u.current.addEventListener("d",k,{once:!0}),S(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){var t=l.current;S(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)}}),[]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",k),window.addEventListener("blur",b)),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[t.pauseOnFocusLoss]);var E={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&d&&(E.onMouseEnter=b,E.onMouseLeave=k),m&&(E.onClick=function(e){v&&v(e),c.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:E}}function D(t){var n=t.closeToast,r=t.theme,a=t.ariaLabel,i=void 0===a?"close":a;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":i},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function L(t){var n=t.delay,r=t.isRunning,a=t.closeToast,i=t.type,s=void 0===i?"default":i,u=t.hide,c=t.className,l=t.style,f=t.controlledProgress,h=t.progress,p=t.rtl,v=t.isIn,m=t.theme,g=u||f&&0===h,k=d(d({},l),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:g?0:1});f&&(k.transform="scaleX(".concat(h,")"));var b=y("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":p}),w=S(c)?c({rtl:p,type:s,defaultClassName:b}):y(b,c);return e.createElement("div",o({role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:w,style:k},f&&h>=1?"onTransitionEnd":"onAnimationEnd",f&&h<1?null:function(){v&&a()}))}var M=function(t){var n=P(t),r=n.isRunning,a=n.preventExitTransition,i=n.toastRef,o=n.eventHandlers,s=t.closeButton,u=t.children,c=t.autoClose,l=t.onClick,f=t.type,h=t.hideProgressBar,p=t.closeToast,v=t.transition,m=t.position,g=t.className,k=t.style,b=t.bodyClassName,w=t.bodyStyle,x=t.progressClassName,E=t.progressStyle,_=t.updateId,T=t.role,C=t.progress,N=t.rtl,I=t.toastId,A=t.deleteToast,j=t.isIn,O=t.isLoading,R=t.iconOut,M=t.closeOnClick,U=t.theme,F=y("Toastify__toast","Toastify__toast-theme--".concat(U),"Toastify__toast--".concat(f),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":M}),z=S(g)?g({rtl:N,position:m,type:f,defaultClassName:F}):y(F,g),V=!!C||!c,B={closeToast:p,type:f,theme:U},q=null;return!1===s||(q=S(s)?s(B):(0,e.isValidElement)(s)?(0,e.cloneElement)(s,B):D(B)),e.createElement(v,{isIn:j,done:A,position:m,preventExitTransition:a,nodeRef:i},e.createElement("div",d(d({id:I,onClick:l,className:z},o),{},{style:k,ref:i}),e.createElement("div",d(d({},j&&{role:T}),{},{className:S(b)?b({type:f}):y("Toastify__toast-body",b),style:w}),null!=R&&e.createElement("div",{className:y("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},R),e.createElement("div",null,u)),q,e.createElement(L,d(d({},_&&!V?{key:"pb-".concat(_)}:{}),{},{rtl:N,theme:U,delay:c,isRunning:r,isIn:j,closeToast:p,hide:h,type:f,style:E,className:x,controlledProgress:V,progress:C||0}))))},U=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},F=T(U("bounce",!0)),z=(T(U("slide",!0)),T(U("zoom")),T(U("flip")),(0,e.forwardRef)((function(t,n){var r=j(t),a=r.getToastToRender,i=r.containerRef,o=r.isToastActive,s=t.className,u=t.style,c=t.rtl,l=t.containerId;function f(e){var t=y("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return S(s)?s({position:e,rtl:c,defaultClassName:t}):y(t,E(s))}return(0,e.useEffect)((function(){n&&(n.current=i.current)}),[]),e.createElement("div",{ref:i,className:"Toastify",id:l},a((function(t,n){var r=n.length?d({},u):d(d({},u),{},{pointerEvents:"none"});return e.createElement("div",{className:f(t),style:r,key:"container-".concat(t)},n.map((function(t,r){var a=t.content,i=t.props;return e.createElement(M,d(d({},i),{},{isIn:o(i.toastId),style:d(d({},i.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(i.key)}),a)})))})))})));z.displayName="ToastContainer",z.defaultProps={position:"top-right",transition:F,autoClose:5e3,closeButton:D,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var V,B=new Map,q=[],H=1;function W(){return""+H++}function G(e){return e&&(x(e.toastId)||w(e.toastId))?e.toastId:W()}function Q(e,t){return B.size>0?N.emit(0,e,t):q.push({content:e,options:t}),t.toastId}function K(e,t){return d(d({},t),{},{type:t&&t.type||e,toastId:G(t)})}function Y(e){return function(t,n){return Q(t,K(e,n))}}function X(e,t){return Q(e,K("default",t))}X.loading=function(e,t){return Q(e,K("default",d({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},X.promise=function(e,t,n){var r,a=t.pending,i=t.error,o=t.success;a&&(r=x(a)?X.loading(a,n):X.loading(a.render,d(d({},n),a)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,a){if(null!=t){var i=d(d(d({type:e},s),n),{},{data:a}),o=x(t)?{render:t}:t;return r?X.update(r,d(d({},i),o)):X(o.render,d(d({},i),o)),a}X.dismiss(r)},c=S(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",i,e)})),c},X.success=Y("success"),X.info=Y("info"),X.error=Y("error"),X.warning=Y("warning"),X.warn=X.warning,X.dark=function(e,t){return Q(e,K("default",d({theme:"dark"},t)))},X.dismiss=function(e){B.size>0?N.emit(1,e):q=q.filter((function(t){return null!=e&&t.options.toastId!==e}))},X.clearWaitingQueue=function(e){return void 0===e&&(e={}),N.emit(5,e)},X.isActive=function(e){var t=!1;return B.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},X.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=B.get(n||V);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,a=n.content,i=d(d(d({},r),t),{},{toastId:t.toastId||e,updateId:W()});i.toastId!==e&&(i.staleId=e);var o=i.render||a;delete i.render,Q(o,i)}}),0)},X.done=function(e){X.update(e,{progress:1})},X.onChange=function(e){return N.on(4,e),function(){N.off(4,e)}},X.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},X.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},N.on(2,(function(e){V=e.containerId||e,B.set(V,e),q.forEach((function(e){N.emit(0,e.content,e.options)})),q=[]})).on(3,(function(e){B.delete(e.containerId||e),0===B.size&&N.off(0).off(1).off(5)}));var J,Z=function(e,t){switch(t.type){case"YES":return{isNavbarOpen:!0};case"NO":return{isNavbarOpen:!1};default:return e}},$=n(184),ee={isNavbarOpen:!0},te=(0,e.createContext)(ee),ne=function(t){var n=t.children,r=f((0,e.useReducer)(Z,ee),2),a=r[0],i=r[1];return(0,$.jsx)(te.Provider,{value:{isNavbarOpen:a.isNavbarOpen,dispatch:i},children:n})};function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function ie(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function se(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function he(e){var t=ce();return function(){var n,r=ue(e);if(t){var a=ue(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fe(this,n)}}function de(e,t,n){return de=ce()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&oe(a,n.prototype),a},de.apply(null,arguments)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return de(e,arguments,ue(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),oe(n,e)},pe(e)}function ve(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(J||(J={}));var ge,ye="popstate";function ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function be(e,t){return{usr:e.state,key:e.key,idx:t}}function we(e,t,n,r){return void 0===n&&(n=null),me({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Se(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function xe(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,o=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Se(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ee(e,t,n,r){void 0===r&&(r={});var a=r,i=a.window,o=void 0===i?document.defaultView:i,s=a.v5Compat,u=void 0!==s&&s,c=o.history,l=J.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=J.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:xe(e);return ke(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(me({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ye,p),f=e,function(){o.removeEventListener(ye,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=J.Push;var r=we(m.location,e,t);n&&n(r,e);var a=be(r,h=d()+1),i=m.createHref(r);try{c.pushState(a,"",i)}catch(s){o.location.assign(i)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=J.Replace;var r=we(m.location,e,t);n&&n(r,e);var a=be(r,h=d()),i=m.createHref(r);c.replaceState(a,"",i),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function _e(e,t,n){void 0===n&&(n="/");var r=Pe(("string"===typeof t?Se(t):t).pathname||"/",n);if(null==r)return null;var a=Te(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var i=null,o=0;null==i&&o<a.length;++o)i=je(a[o],Re(r));return i}function Te(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,i){var o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(ke(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Fe([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(ke(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Te(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ae(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=ve(Ce(e.path));try{for(i.s();!(r=i.n()).done;){var o=r.value;a(e,t,o)}}catch(s){i.e(s)}finally{i.f()}}else a(e,t)})),t}function Ce(e){var t=e.split("/");if(0===t.length)return[];var n,r=s(n=t)||v(n)||c(n)||l(),a=r[0],i=r.slice(1),o=a.endsWith("?"),u=a.replace(/\?$/,"");if(0===i.length)return o?[u,""]:[u];var f=Ce(i.join("/")),h=[];return h.push.apply(h,m(f.map((function(e){return""===e?u:[u,e].join("/")})))),o&&h.push.apply(h,m(f)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ge||(ge={}));var Ne=/^:\w+$/,Ie=function(e){return"*"===e};function Ae(e,t){var n=e.split("/"),r=n.length;return n.some(Ie)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Ie(e)})).reduce((function(e,t){return e+(Ne.test(t)?3:""===t?1:10)}),r)}function je(e,t){for(var n=e.routesMeta,r={},a="/",i=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",l=Oe({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;i.push({params:r,pathname:Fe([a,l.pathname]),pathnameBase:ze(Fe([a,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(a=Fe([a,l.pathnameBase]))}return i}function Oe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);De("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),a=r[0],i=r[1],o=t.match(a);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return De(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Re(e){try{return decodeURI(e)}catch(t){return De(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Pe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function De(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Le(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Me(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Ue(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=Se(e):(ke(!(a=me({},e)).pathname||!a.pathname.includes("?"),Le("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),Le("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),Le("#","search","hash",a)));var i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;a.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Se(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Ve(i),hash:Be(s)}}(a,i),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Fe=function(e){return e.join("/").replace(/\/\/+/g,"/")},ze=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Ve=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Be=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},qe=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n)}(pe(Error));function He(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var We=["post","put","patch","delete"],Ge=(new Set(We),["get"].concat(We));new Set(Ge),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}var Ke="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ye=e.useState,Xe=e.useEffect,Je=e.useLayoutEffect,Ze=e.useDebugValue;function $e(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ke(n,r)}catch(a){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var et=e.createContext(null);var tt=e.createContext(null);var nt=e.createContext(null);var rt=e.createContext(null);var at=e.createContext(null);var it=e.createContext({outlet:null,matches:[]});var ot=e.createContext(null);function st(){return null!=e.useContext(at)}function ut(){return st()||ke(!1),e.useContext(at).location}function ct(){st()||ke(!1);var t=e.useContext(rt),n=t.basename,r=t.navigator,a=e.useContext(it).matches,i=ut().pathname,o=JSON.stringify(Me(a).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var a=Ue(e,JSON.parse(o),i,"path"===t.relative);"/"!==n&&(a.pathname="/"===a.pathname?n:Fe([n,a.pathname])),(t.replace?r.replace:r.push)(a,t.state,t)}else r.go(e)}),[n,r,o,i]);return u}function lt(){var t=function(){var t,n=e.useContext(ot),r=mt(ht.UseRouteError),a=gt(ht.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=He(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}var ft,ht,dt=function(t){se(r,t);var n=he(r);function r(e){var t;return re(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return ie(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(it.Provider,{value:this.props.routeContext},e.createElement(ot.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function pt(t){var n=t.routeContext,r=t.match,a=t.children,i=e.useContext(et);return i&&i.static&&i.staticContext&&r.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(it.Provider,{value:n},a)}function vt(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var a=t,i=null==r?void 0:r.errors;if(null!=i){var o=a.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));o>=0||ke(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((function(t,o,s){var u=o.route.id?null==i?void 0:i[o.route.id]:null,c=r?o.route.errorElement||e.createElement(lt,null):null,l=n.concat(a.slice(0,s+1)),f=function(){return e.createElement(pt,{match:o,routeContext:{outlet:t,matches:l}},u?c:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===s)?e.createElement(dt,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function mt(t){var n=e.useContext(tt);return n||ke(!1),n}function gt(t){var n=function(t){var n=e.useContext(it);return n||ke(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ke(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(ft||(ft={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ht||(ht={}));var yt;function kt(t){var n=t.to,r=t.replace,a=t.state,i=t.relative;st()||ke(!1);var o=e.useContext(tt),s=ct();return e.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:a,relative:i})})),null}function bt(e){ke(!1)}function wt(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,i=void 0===a?null:a,o=t.location,s=t.navigationType,u=void 0===s?J.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;st()&&ke(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=Se(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,_=e.useMemo((function(){var e=Pe(m,h);return null==e?null:{pathname:e,search:y,hash:b,state:x,key:E}}),[h,m,y,b,x,E]);return null==_?null:e.createElement(rt.Provider,{value:d},e.createElement(at.Provider,{children:i,value:{location:_,navigationType:u}}))}function xt(t){var n=t.children,r=t.location,a=e.useContext(et);return function(t,n){st()||ke(!1);var r,a=e.useContext(rt).navigator,i=e.useContext(tt),o=e.useContext(it).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,ut());if(n){var f,h="string"===typeof n?Se(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ke(!1),r=h}else r=l;var d=r.pathname||"/",p=_e(t,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=vt(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Fe([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Fe([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,i||void 0);return n&&v?e.createElement(at.Provider,{value:{location:Qe({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:J.Pop}},v):v}(a&&!n?a.router.routes:Et(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(yt||(yt={}));var St=new Promise((function(){}));e.Component;function Et(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,a){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==bt&&ke(!1),t.props.index&&t.props.children&&ke(!1);var i=[].concat(m(n),[a]),o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=Et(t.props.children,i)),r.push(o)}else r.push.apply(r,Et(t.props.children,n))})),r}function _t(t){var n,r=t.basename,a=t.children,i=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:i,v5Compat:!0})&&(n={}),Ee((function(e,t){var n=e.location;return we("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:xe(t)}),null,n)));var s=o.current,u=f(e.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return e.useLayoutEffect((function(){return s.listen(l)}),[s]),e.createElement(wt,{basename:r,children:a,location:c.location,navigationType:c.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Tt,Ct;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Tt||(Tt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ct||(Ct={}));var Nt=function(e,t){switch(t.type){case"LOGIN":return{currentUser:t.payload};case"LOGOUT":return{currentUser:null};default:return e}},It={currentUser:JSON.parse(localStorage.getItem("user"))||null},At=(0,e.createContext)(It),jt=function(t){var n=t.children,r=f((0,e.useReducer)(Nt,It),2),a=r[0],i=r[1];return(0,e.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a.currentUser))}),[a.currentUser]),(0,$.jsx)(At.Provider,{value:{currentUser:a.currentUser,dispatch:i},children:n})};function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),s=new T(a||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,o)&&(m=y);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,s,u){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),c(k,u,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Rt(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Rt(i,r,a,o,s,"next",e)}function s(e){Rt(i,r,a,o,s,"throw",e)}o(void 0)}))}}var Dt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,s=o?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,l=i>>2,f=(3&i)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0,s=++a<e.length?n[e.charAt(a)]:64,u=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==o||null==s||null==u)throw Error();var c=i<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mt=function(e){return function(e){var t=Dt(e);return Lt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ut=function(e){try{return Lt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Ft=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},zt=function(){try{return Ft()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ut(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Vt=function(e){var t,n;return null===(n=null===(t=zt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bt=function(e){var t=Vt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},qt=function(){var e;return null===(e=zt())||void 0===e?void 0:e.config},Ht=function(e){var t;return null===(t=zt())||void 0===t?void 0:t["_".concat(e)]},Wt=function(){function e(){var t=this;re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ie(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Gt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(i)),""].join(".")}function Qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kt(){var e,t=null===(e=zt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Yt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Xt=function(e){se(n,e);var t=he(n);function n(e,r,a){var i;return re(this,n),(i=t.call(this,r)).code=e,i.customData=a,i.name="FirebaseError",Object.setPrototypeOf(le(i),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(le(i),Jt.prototype.create),i}return ie(n)}(pe(Error)),Jt=function(){function e(t,n,r){re(this,e),this.service=t,this.serviceName=n,this.errors=r}return ie(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?Zt(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,")."),o=new Xt(n,i,t);return o}}]),e}();function Zt(e,t){return e.replace($t,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var $t=/\{\$([^}]+)}/g;function en(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(tn(s)&&tn(u)){if(!en(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function tn(e){return null!==e&&"object"===typeof e}function nn(e){for(var t=[],n=function(){var e=f(a[r],2),n=e[0],i=e[1];Array.isArray(i)?i.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function rn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],a=n[1];t[decodeURIComponent(r)]=decodeURIComponent(a)}})),t}function an(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var on=function(){function e(t,n){var r=this;re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ie(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ve(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(i){r.e(i)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=sn),void 0===r.error&&(r.error=sn),void 0===r.complete&&(r.complete=sn);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function sn(){}function un(e){return e&&e._delegate?e._delegate:e}var cn=function(){function e(t,n,r){re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ie(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ln="[DEFAULT]",fn=function(){function e(t,n){re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ie(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ln})}catch(u){}var t,n=ve(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),a=r[0],i=r[1],o=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,i=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ve(this.instancesDeferred.entries());try{for(o.s();!(a=o.n()).done;){var s=f(a.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(i)}}catch(h){o.e(h)}finally{o.f()}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(Cp){}}}catch(o){a.e(o)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ln?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(Cp){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;return this.component?this.component.multipleInstances?e:ln:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var hn,dn,pn=function(){function e(t){re(this,e),this.name=t,this.providers=new Map}return ie(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new fn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),vn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dn||(dn={}));var mn={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},gn=dn.INFO,yn=(o(hn={},dn.DEBUG,"log"),o(hn,dn.VERBOSE,"log"),o(hn,dn.INFO,"info"),o(hn,dn.WARN,"warn"),o(hn,dn.ERROR,"error"),hn),kn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=yn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},bn=function(){function e(t){re(this,e),this.name=t,this._logLevel=gn,this._logHandler=kn,this._userLogHandler=null,vn.push(this)}return ie(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in dn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?mn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dn.DEBUG].concat(t)),this._logHandler.apply(this,[this,dn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,dn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dn.INFO].concat(t)),this._logHandler.apply(this,[this,dn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dn.WARN].concat(t)),this._logHandler.apply(this,[this,dn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dn.ERROR].concat(t)),this._logHandler.apply(this,[this,dn.ERROR].concat(t))}}]),e}();var wn,xn;var Sn=new WeakMap,En=new WeakMap,_n=new WeakMap,Tn=new WeakMap,Cn=new WeakMap;var Nn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return En.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_n.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function In(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(On(this),n),jn(Sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(e.apply(On(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=e.call.apply(e,[On(this),t].concat(r));return _n.set(i,t.sort?t.sort():[t]),jn(i)}}function An(e){return"function"===typeof e?In(e):(e instanceof IDBTransaction&&function(e){if(!En.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));En.set(e,t)}}(e),t=e,(wn||(wn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Nn):e);var t}function jn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",i)},a=function(){t(jn(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((function(t){t instanceof IDBCursor&&Sn.set(t,e)})).catch((function(){})),Cn.set(t,e),t}(e);if(Tn.has(e))return Tn.get(e);var t=An(e);return t!==e&&(Tn.set(e,t),Cn.set(t,e)),t}var On=function(e){return Cn.get(e)};var Rn,Pn,Dn=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Mn=new Map;function Un(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Mn.get(t))return Mn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=Ln.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||Dn.includes(n))){var i=function(){var e=Pt(Ot().mark((function e(t){var i,o,s,u,c,l,f=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(i=s)[n].apply(i,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Mn.set(t,i),i}}}Nn=function(e){return d(d({},e),{},{get:function(t,n,r){return Un(t,n)||e.get(t,n,r)},has:function(t,n){return!!Un(t,n)||e.has(t,n)}})}(Nn);var Fn=function(){function e(t){re(this,e),this.container=t}return ie(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var zn="@firebase/app",Vn="0.9.1",Bn=new bn("@firebase/app"),qn="[DEFAULT]",Hn=(o(Rn={},zn,"fire-core"),o(Rn,"@firebase/app-compat","fire-core-compat"),o(Rn,"@firebase/analytics","fire-analytics"),o(Rn,"@firebase/analytics-compat","fire-analytics-compat"),o(Rn,"@firebase/app-check","fire-app-check"),o(Rn,"@firebase/app-check-compat","fire-app-check-compat"),o(Rn,"@firebase/auth","fire-auth"),o(Rn,"@firebase/auth-compat","fire-auth-compat"),o(Rn,"@firebase/database","fire-rtdb"),o(Rn,"@firebase/database-compat","fire-rtdb-compat"),o(Rn,"@firebase/functions","fire-fn"),o(Rn,"@firebase/functions-compat","fire-fn-compat"),o(Rn,"@firebase/installations","fire-iid"),o(Rn,"@firebase/installations-compat","fire-iid-compat"),o(Rn,"@firebase/messaging","fire-fcm"),o(Rn,"@firebase/messaging-compat","fire-fcm-compat"),o(Rn,"@firebase/performance","fire-perf"),o(Rn,"@firebase/performance-compat","fire-perf-compat"),o(Rn,"@firebase/remote-config","fire-rc"),o(Rn,"@firebase/remote-config-compat","fire-rc-compat"),o(Rn,"@firebase/storage","fire-gcs"),o(Rn,"@firebase/storage-compat","fire-gcs-compat"),o(Rn,"@firebase/firestore","fire-fst"),o(Rn,"@firebase/firestore-compat","fire-fst-compat"),o(Rn,"fire-js","fire-js"),o(Rn,"firebase","fire-js-all"),Rn),Wn=new Map,Gn=new Map;function Qn(e,t){try{e.container.addComponent(t)}catch(n){Bn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Kn(e){var t=e.name;if(Gn.has(t))return Bn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gn.set(t,e);var n,r=ve(Wn.values());try{for(r.s();!(n=r.n()).done;){Qn(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function Yn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Xn=(o(Pn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(Pn,"bad-app-name","Illegal App name: '{$appName}"),o(Pn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(Pn,"app-deleted","Firebase App named '{$appName}' already deleted"),o(Pn,"no-options","Need to provide options, when not being deployed to hosting via source."),o(Pn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(Pn,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(Pn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(Pn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(Pn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(Pn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Pn),Jn=new Jt("app","Firebase",Xn),Zn=function(){function e(t,n,r){var a=this;re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",(function(){return a}),"PUBLIC"))}return ie(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}]),e}(),$n="9.16.0";function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var a=Object.assign({name:qn,automaticDataCollectionEnabled:!1},t),i=a.name;if("string"!==typeof i||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=qt()),!n)throw Jn.create("no-options");var o=Wn.get(i);if(o){if(en(n,o.options)&&en(a,o.config))return o;throw Jn.create("duplicate-app",{appName:i})}var s,u=new pn(i),c=ve(Gn.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Zn(n,a,u);return Wn.set(i,f),f}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=Wn.get(e);if(!t&&e===qn)return er();if(!t)throw Jn.create("no-app",{appName:e});return t}function nr(e,t,n){var r,a=null!==(r=Hn[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bn.warn(s.join(" "))}Kn(new cn("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}var rr="firebase-heartbeat-store",ar=null;function ir(){return ar||(ar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,i=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=jn(s);return a&&s.addEventListener("upgradeneeded",(function(e){a(jn(s.result),e.oldVersion,e.newVersion,jn(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(rr)}}).catch((function(e){throw Jn.create("idb-open",{originalErrorMessage:e.message})}))),ar}function or(e){return sr.apply(this,arguments)}function sr(){return sr=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return n=e.sent,e.abrupt("return",n.transaction(rr).objectStore(rr).get(lr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Xt?Bn.warn(e.t0.message):(r=Jn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Bn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),sr.apply(this,arguments)}function ur(e,t){return cr.apply(this,arguments)}function cr(){return cr=Pt(Ot().mark((function e(t,n){var r,a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return r=e.sent,a=r.transaction(rr,"readwrite"),i=a.objectStore(rr),e.next=8,i.put(n,lr(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Xt?Bn.warn(e.t0.message):(o=Jn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Bn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),cr.apply(this,arguments)}function lr(e){return"".concat(e.name,"!").concat(e.options.appId)}var fr=function(){function e(t){var n=this;re(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ie(e,[{key:"triggerHeartbeat",value:function(){var e=Pt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=hr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pt(Ot().mark((function e(){var t,n,r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=hr(),n=dr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,i=Mt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hr(){return(new Date).toISOString().substring(0,10)}function dr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],a=e.slice(),i=ve(e);try{var o=function(){var e=t.value,i=r.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),mr(r)>n)return i.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mr(r)>n)return r.pop(),"break";a=a.slice(1)};for(i.s();!(t=i.n()).done;){var s=o();if("break"===s)break}}catch(u){i.e(u)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:a}}var pr,vr=function(){function e(t){re(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ie(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,or(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}pr="",Kn(new cn("platform-logger",(function(e){return new Fn(e)}),"PRIVATE")),Kn(new cn("heartbeat",(function(e){return new fr(e)}),"PRIVATE")),nr(zn,Vn,pr),nr(zn,Vn,"esm2017"),nr("fire-js","");function gr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}function yr(){return yr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gr(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},yr.apply(this,arguments)}nr("firebase","9.16.0","app");var kr,br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wr={},xr=xr||{},Sr=br||self;function Er(){}function _r(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cr="closure_uid_"+(1e9*Math.random()>>>0),Nr=0;function Ir(e,t,n){return e.call.apply(e.bind,arguments)}function Ar(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jr(e,t,n){return(jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ir:Ar).apply(null,arguments)}function Or(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function Pr(){this.s=this.s,this.o=this.o}Pr.prototype.s=!1,Pr.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Cr)&&e[Cr]||(e[Cr]=++Nr))},Pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(_r(r)){var a=e.length||0,i=r.length||0;e.length=a+i;for(var o=0;o<i;o++)e[a+o]=r[o]}else e.push(r)}}function Ur(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ur.prototype.h=function(){this.defaultPrevented=!0};var Fr=function(){if(!Sr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sr.addEventListener("test",Er,t),Sr.removeEventListener("test",Er,t)}catch(n){}return e}();function zr(e){return/^[\s\xa0]*$/.test(e)}var Vr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Br(e,t){return e<t?-1:e>t?1:0}function qr(){var e=Sr.navigator;return e&&(e=e.userAgent)?e:""}function Hr(e){return-1!=qr().indexOf(e)}function Wr(e){return Wr[" "](e),e}Wr[" "]=Er;var Gr,Qr=Hr("Opera"),Kr=Hr("Trident")||Hr("MSIE"),Yr=Hr("Edge"),Xr=Yr||Kr,Jr=Hr("Gecko")&&!(-1!=qr().toLowerCase().indexOf("webkit")&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),Zr=-1!=qr().toLowerCase().indexOf("webkit")&&!Hr("Edge");function $r(){var e=Sr.document;return e?e.documentMode:void 0}e:{var ea="",ta=function(){var e=qr();return Jr?/rv:([^\);]+)(\)|;)/.exec(e):Yr?/Edge\/([\d\.]+)/.exec(e):Kr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zr?/WebKit\/(\S+)/.exec(e):Qr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ta&&(ea=ta?ta[1]:""),Kr){var na=$r();if(null!=na&&na>parseFloat(ea)){Gr=String(na);break e}}Gr=ea}var ra,aa={};function ia(){return function(e){var t=aa;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Vr(String(Gr)).split("."),n=Vr("9").split("."),r=Math.max(t.length,n.length),a=0;0==e&&a<r;a++){var i=t[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=Br(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Br(0==i[2].length,0==o[2].length)||Br(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))}if(Sr.document&&Kr){var oa=$r();ra=oa||(parseInt(Gr,10)||void 0)}else ra=void 0;var sa=ra;function ua(e,t){if(Ur.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jr){e:{try{Wr(t.nodeName);var a=!0;break e}catch(_){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ca[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ua.X.h.call(this)}}Rr(ua,Ur);var ca={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var la="closure_listenable_"+(1e6*Math.random()|0),fa=0;function ha(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++fa,this.ba=this.ea=!1}function da(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function pa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function va(e){var t={};for(var n in e)t[n]=e[n];return t}var ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ga(e,t){for(var n,r,a=1;a<arguments.length;a++){for(n in r=arguments[a])e[n]=r[n];for(var i=0;i<ma.length;i++)n=ma[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ya(e){this.src=e,this.g={},this.h=0}function ka(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Dr(a,t);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(da(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ba(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.ba&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}ya.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=ba(e,t,r,a);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ha(t,this.src,i,!!r,a)).ea=n,e.push(t)),t};var wa="closure_lm_"+(1e6*Math.random()|0),xa={};function Sa(e,t,n,r,a){if(r&&r.once)return _a(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Sa(e,t[i],n,r,a);return null}return n=Oa(n),e&&e[la]?e.N(t,n,Tr(r)?!!r.capture:!!r,a):Ea(e,t,n,!1,r,a)}function Ea(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=Tr(a)?!!a.capture:!!a,s=Aa(e);if(s||(e[wa]=s=new ya(e)),(n=s.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ia;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fr||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(Na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _a(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)_a(e,t[i],n,r,a);return null}return n=Oa(n),e&&e[la]?e.O(t,n,Tr(r)?!!r.capture:!!r,a):Ea(e,t,n,!0,r,a)}function Ta(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Ta(e,t[i],n,r,a);else r=Tr(r)?!!r.capture:!!r,n=Oa(n),e&&e[la]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ba(i=e.g[t],n,r,a))&&(da(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Aa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ba(t,n,r,a)),(n=-1<e?t[e]:null)&&Ca(n))}function Ca(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[la])ka(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Aa(t))?(ka(n,e),0==n.h&&(n.src=null,t[wa]=null)):da(e)}}}function Na(e){return e in xa?xa[e]:xa[e]="on"+e}function Ia(e,t){if(e.ba)e=!0;else{t=new ua(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ca(e),e=n.call(r,t)}return e}function Aa(e){return(e=e[wa])instanceof ya?e:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(e){return"function"===typeof e?e:(e[ja]||(e[ja]=function(t){return e.handleEvent(t)}),e[ja])}function Ra(){Pr.call(this),this.i=new ya(this),this.P=this,this.I=null}function Pa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ur(t,e);else if(t instanceof Ur)t.target=t.target||e;else{var a=t;ga(t=new Ur(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=Da(o,r,!0,t)&&a}if(a=Da(o=t.g=e,r,!0,t)&&a,a=Da(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Da(o=t.g=n[i],r,!1,t)&&a}function Da(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&ka(e.i,o),a=!1!==s.call(u,r)&&a}}return a&&!r.defaultPrevented}Rr(Ra,Pr),Ra.prototype[la]=!0,Ra.prototype.removeEventListener=function(e,t,n,r){Ta(this,e,t,n,r)},Ra.prototype.M=function(){if(Ra.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)da(n[r]);delete t.g[e],t.h--}}this.I=null},Ra.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ra.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var La=Sr.JSON.stringify;function Ma(){var e=Wa,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ua,Fa=function(){function e(){re(this,e),this.h=this.g=null}return ie(e,[{key:"add",value:function(e,t){var n=za.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),za=new(function(){function e(t,n){re(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ie(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Va}),(function(e){return e.reset()})),Va=function(){function e(){re(this,e),this.next=this.g=this.h=null}return ie(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ba(e){Sr.setTimeout((function(){throw e}),0)}function qa(e,t){Ua||function(){var e=Sr.Promise.resolve(void 0);Ua=function(){e.then(Ga)}}(),Ha||(Ua(),Ha=!0),Wa.add(e,t)}var Ha=!1,Wa=new Fa;function Ga(){for(var e;e=Ma();){try{e.h.call(e.g)}catch(n){Ba(n)}var t=za;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ha=!1}function Qa(e,t){Ra.call(this),this.h=e||1,this.g=t||Sr,this.j=jr(this.lb,this),this.l=Date.now()}function Ka(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ya(e,t,n){if("function"===typeof e)n&&(e=jr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sr.setTimeout(e,t||0)}function Xa(e){e.g=Ya((function(){e.g=null,e.i&&(e.i=!1,Xa(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Rr(Qa,Ra),(kr=Qa.prototype).ca=!1,kr.R=null,kr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pa(this,"tick"),this.ca&&(Ka(this),this.start()))}},kr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kr.M=function(){Qa.X.M.call(this),Ka(this),delete this.g};var Ja=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this)).m=e,a.j=r,a.h=null,a.i=!1,a.g=null,a}return ie(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xa(this)}},{key:"M",value:function(){yr(ue(n.prototype),"M",this).call(this),this.g&&(Sr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Pr);function Za(e){Pr.call(this),this.h=e,this.g={}}Rr(Za,Pr);var $a=[];function ei(e,t,n,r){Array.isArray(n)||(n&&($a[0]=n.toString()),n=$a);for(var a=0;a<n.length;a++){var i=Sa(t,n[a],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ti(e){pa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ca(e)}),e),e.g={}}function ni(){this.g=!0}function ri(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return La(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Za.prototype.M=function(){Za.X.M.call(this),ti(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ni.prototype.Aa=function(){this.g=!1},ni.prototype.info=function(){};var ai={},ii=null;function oi(){return ii=ii||new Ra}function si(e){Ur.call(this,ai.Pa,e)}function ui(e){var t=oi();Pa(t,new si(t))}function ci(e,t){Ur.call(this,ai.STAT_EVENT,e),this.stat=t}function li(e){var t=oi();Pa(t,new ci(t,e))}function fi(e,t){Ur.call(this,ai.Qa,e),this.size=t}function hi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Sr.setTimeout((function(){e()}),t)}ai.Pa="serverreachability",Rr(si,Ur),ai.STAT_EVENT="statevent",Rr(ci,Ur),ai.Qa="timingevent",Rr(fi,Ur);var di={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vi(){}function mi(e){return e.h||(e.h=e.i())}function gi(){}vi.prototype.h=null;var yi,ki={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bi(){Ur.call(this,"d")}function wi(){Ur.call(this,"c")}function xi(){}function Si(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Za(this),this.O=_i,e=Xr?125:void 0,this.T=new Qa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}Rr(bi,Ur),Rr(wi,Ur),Rr(xi,vi),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},yi=new xi;var _i=45e3,Ti={},Ci={};function Ni(e,t,n){e.K=1,e.v=Qi(Bi(t)),e.s=n,e.P=!0,Ii(e,null)}function Ii(e,t){e.F=Date.now(),Ri(e),e.A=Bi(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),oo(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Ei,e.g=us(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ja(jr(e.La,e,e.g),e.N)),ei(e.S,e.g,"readystatechange",e.ib),t=e.H?va(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ui(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var o="",s=i.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ai(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ji(e,t,n){for(var r,a=!0;!e.I&&e.C<n.length;){if((r=Oi(e,n))==Ci){4==t&&(e.o=4,li(14),a=!1),ri(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ti){e.o=4,li(15),ri(e.j,e.m,n,"[Invalid Chunk]"),a=!1;break}ri(e.j,e.m,r,null),Ui(e,r)}Ai(e)&&r!=Ci&&r!=Ti&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,li(16),a=!1),e.i=e.i&&a,a?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),es(t),t.K=!0,li(11))):(ri(e.j,e.m,n,"[Invalid Chunked Response]"),Mi(e),Li(e))}function Oi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ci:(n=Number(t.substring(n,r)),isNaN(n)?Ti:(r+=1)+n>t.length?Ci:(t=t.substr(r,n),e.C=r+n,t))}function Ri(e){e.V=Date.now()+e.O,Pi(e,e.O)}function Pi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hi(jr(e.gb,e),t)}function Di(e){e.B&&(Sr.clearTimeout(e.B),e.B=null)}function Li(e){0==e.l.G||e.I||rs(e.l,e)}function Mi(e){Di(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ka(e.T),ti(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ui(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vo(n.h,e)))if(!e.J&&vo(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ns(n),Go(n)}$o(n),li(18)}}else n.Ba=a[1],0<n.Ba-n.T&&37500>a[2]&&n.L&&0==n.A&&!n.v&&(n.v=hi(jr(n.cb,n),6e3));if(1>=po(n.h)&&n.ja){try{n.ja()}catch(i){}n.ja=void 0}}else is(n,11)}else if((e.J||n.g==e)&&ns(n),!zr(t))for(a=n.Fa.g.parse(t),t=0;t<a.length;t++){var i=a[t];if(n.T=i[0],i=i[1],2==n.G)if("c"==i[0]){n.I=i[1],n.ka=i[2];var o=i[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=i[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=i[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(mo(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Gi(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ss(r,r.H?r.ka:null,r.V),d.J){go(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Di(p),Ri(p)),r.g=d}else Zo(r);0<n.i.length&&Ko(n)}else"stop"!=i[0]&&"close"!=i[0]||is(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?is(n,7):Wo(n):"noop"!=i[0]&&n.l&&n.l.wa(i),n.A=0)}ui()}catch(i){}}function Fi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_r(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(_r(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(_r(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}(kr=Si.prototype).setTimeout=function(e){this.O=e},kr.ib=function(e){e=e.target;var t=this.L;t&&3==Fo(e)?t.l():this.La(e)},kr.La=function(e){try{if(e==this.g)e:{var t=Fo(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Xr||this.g&&(this.h.h||this.g.fa()||zo(this.g)))){this.I||4!=t||7==n||ui(),Di(this);var r=this.g.aa();this.Y=r;t:if(Ai(this)){var a=zo(this.g);e="";var i=a.length,o=4==Fo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Mi(this),Li(this);var s="";break t}this.h.i=new Sr.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:o&&n==i-1});a.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,a,i,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zr(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,li(12),Mi(this),Li(this);break e}ri(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ui(this,r)}this.P?(ji(this,t,s),Xr&&this.i&&3==t&&(ei(this.S,this.T,"tick",this.hb),this.T.start())):(ri(this.j,this.m,s,null),Ui(this,s)),4==t&&Mi(this),this.i&&!this.I&&(4==t?rs(this.l,this):(this.i=!1,Ri(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),Mi(this),Li(this)}}}catch(t){}},kr.hb=function(){if(this.g){var e=Fo(this.g),t=this.g.fa();this.C<t.length&&(Di(this),ji(this,e,t),this.i&&4!=e&&Ri(this))}},kr.cancel=function(){this.I=!0,Mi(this)},kr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ui(),li(17)),Mi(this),this.o=2,Li(this)):Pi(this,this.V-e)};var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vi(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vi){this.h=void 0!==t?t:e.h,qi(this,e.j),this.s=e.s,this.g=e.g,Hi(this,e.m),this.l=e.l,t=e.i;var n=new no;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wi(this,n),this.o=e.o}else e&&(n=String(e).match(zi))?(this.h=!!t,qi(this,n[1]||"",!0),this.s=Ki(n[2]||""),this.g=Ki(n[3]||"",!0),Hi(this,n[4]),this.l=Ki(n[5]||"",!0),Wi(this,n[6]||"",!0),this.o=Ki(n[7]||"")):(this.h=!!t,this.i=new no(null,this.h))}function Bi(e){return new Vi(e)}function qi(e,t,n){e.j=n?Ki(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wi(e,t,n){t instanceof no?(e.i=t,function(e,t){t&&!e.j&&(ro(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ao(this,t),oo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Yi(t,eo)),e.i=new no(t,e.h))}function Gi(e,t,n){e.i.set(t,n)}function Qi(e){return Gi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ki(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yi(t,Ji,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yi(t,Ji,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yi(n,"/"==n.charAt(0)?$i:Zi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yi(n,to)),e.join("")};var Ji=/[#\/\?@]/g,Zi=/[#\?:]/g,$i=/[#\?]/g,eo=/[#\?@]/g,to=/#/g;function no(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ro(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ao(e,t){ro(e),t=so(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function io(e,t){return ro(e),t=so(e,t),e.g.has(t)}function oo(e,t,n){ao(e,t),0<n.length&&(e.i=null,e.g.set(so(e,t),Lr(n)),e.h+=n.length)}function so(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kr=no.prototype).add=function(e,t){ro(this),this.i=null,e=so(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kr.forEach=function(e,t){ro(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},kr.oa=function(){ro(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var a=e[r],i=0;i<a.length;i++)n.push(t[r]);return n},kr.W=function(e){ro(this);var t=[];if("string"===typeof e)io(this,e)&&(t=t.concat(this.g.get(so(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},kr.set=function(e,t){return ro(this),this.i=null,io(this,e=so(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},kr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],a=encodeURIComponent(String(r)),i=this.W(r);for(r=0;r<i.length;r++){var o=a;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),e.push(o)}}return this.i=e.join("&")};var uo=ie((function e(t,n){re(this,e),this.h=t,this.g=n}));function co(e){this.l=e||fo,Sr.PerformanceNavigationTiming?e=0<(e=Sr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Sr.g&&Sr.g.Ga&&Sr.g.Ga()&&Sr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lo,fo=10;function ho(e){return!!e.h||!!e.g&&e.g.size>=e.j}function po(e){return e.h?1:e.g?e.g.size:0}function vo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mo(e,t){e.g?e.g.add(t):e.h=t}function go(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ve(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(i){r.e(i)}finally{r.f()}return n}return Lr(e.i)}function ko(){}function bo(){this.g=new ko}function wo(e,t,n){var r=n||"";try{Fi(e,(function(e,n){var a=e;Tr(e)&&(a=La(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function xo(e,t,n,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(_){}}function So(e){this.l=e.ac||null,this.j=e.jb||!1}function Eo(e,t){Ra.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}co.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ve(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ko.prototype.stringify=function(e){return Sr.JSON.stringify(e,void 0)},ko.prototype.parse=function(e){return Sr.JSON.parse(e,void 0)},Rr(So,vi),So.prototype.g=function(){return new Eo(this.l,this.j)},So.prototype.i=(lo={},function(){return lo}),Rr(Eo,Ra);var _o=0;function To(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Co(e){e.readyState=4,e.l=null,e.j=null,e.A=null,No(e)}function No(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kr=Eo.prototype).open=function(e,t){if(this.readyState!=_o)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,No(this)},kr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Sr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},kr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Co(this)),this.readyState=_o},kr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Sr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},kr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Co(this):No(this),3==this.readyState&&To(this)}},kr.Va=function(e){this.g&&(this.response=this.responseText=e,Co(this))},kr.Ua=function(e){this.g&&(this.response=e,Co(this))},kr.ga=function(){this.g&&Co(this)},kr.setRequestHeader=function(e,t){this.v.append(e,t)},kr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Io=Sr.JSON.parse;function Ao(e){Ra.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jo,this.K=this.L=!1}Rr(Ao,Ra);var jo="",Oo=/^https?$/i,Ro=["POST","PUT"];function Po(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Do(e),Mo(e)}function Do(e){e.D||(e.D=!0,Pa(e,"complete"),Pa(e,"error"))}function Lo(e){if(e.h&&"undefined"!=typeof xr&&(!e.C[1]||4!=Fo(e)||2!=e.aa()))if(e.v&&4==Fo(e))Ya(e.Ha,0,e);else if(Pa(e,"readystatechange"),4==Fo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var a;if(a=0===n){var i=String(e.H).match(zi)[1]||null;if(!i&&Sr.self&&Sr.self.location){var o=Sr.self.location.protocol;i=o.substr(0,o.length-1)}a=!Oo.test(i?i.toLowerCase():"")}t=a}if(t)Pa(e,"complete"),Pa(e,"success");else{e.m=6;try{var s=2<Fo(e)?e.g.statusText:""}catch(w){s=""}e.j=s+" ["+e.aa()+"]",Do(e)}}finally{Mo(e)}}}function Mo(e,t){if(e.g){Uo(e);var n=e.g,r=e.C[0]?Er:null;e.g=null,e.C=null,t||Pa(e,"ready");try{n.onreadystatechange=r}catch(a){}}}function Uo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Sr.clearTimeout(e.A),e.A=null)}function Fo(e){return e.g?e.g.readyState:0}function zo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(R){return null}}function Vo(e){var t="";return pa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gi(e,t,n))}function qo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ho(e){this.Ca=0,this.i=[],this.j=new ni,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=qo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=qo("baseRetryDelayMs",5e3,e),this.bb=qo("retryDelaySeedMs",1e4,e),this.$a=qo("forwardChannelMaxRetries",2,e),this.ta=qo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new co(e&&e.concurrentRequestLimit),this.Fa=new bo,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Wo(e){if(Qo(e),3==e.G){var t=e.U++,n=Bi(e.F);Gi(n,"SID",e.I),Gi(n,"RID",t),Gi(n,"TYPE","terminate"),Xo(e,n),(t=new Si(e,e.j,t,void 0)).K=2,t.v=Qi(Bi(n)),n=!1,Sr.navigator&&Sr.navigator.sendBeacon&&(n=Sr.navigator.sendBeacon(t.v.toString(),"")),!n&&Sr.Image&&((new Image).src=t.v,n=!0),n||(t.g=us(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ri(t)}os(e)}function Go(e){e.g&&(es(e),e.g.cancel(),e.g=null)}function Qo(e){Go(e),e.u&&(Sr.clearTimeout(e.u),e.u=null),ns(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Sr.clearTimeout(e.m),e.m=null)}function Ko(e){ho(e.h)||e.m||(e.m=!0,qa(e.Ja,e),e.C=0)}function Yo(e,t){var n;n=t?t.m:e.U++;var r=Bi(e.F);Gi(r,"SID",e.I),Gi(r,"RID",n),Gi(r,"AID",e.T),Xo(e,r),e.o&&e.s&&Bo(r,e.o,e.s),n=new Si(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Jo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),mo(e.h,n),Ni(n,r,t)}function Xo(e,t){e.ia&&pa(e.ia,(function(e,n){Gi(t,n,e)})),e.l&&Fi({},(function(e,n){Gi(t,n,e)}))}function Jo(e,t,n){n=Math.min(e.i.length,n);var r=e.l?jr(e.l.Ra,e.l,e):null;e:for(var a=e.i,i=-1;;){var o=["count="+n];-1==i?0<n?(i=a[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var s=!0,u=0;u<n;u++){var c=a[u].h,l=a[u].g;if(0>(c-=i))i=Math.max(0,a[u].h-100),s=!1;else try{wo(l,o,"req"+c+"_")}catch(G){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Zo(e){e.g||e.u||(e.Z=1,qa(e.Ia,e),e.A=0)}function $o(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=hi(jr(e.Ia,e),as(e,e.A)),e.A++,!0)}function es(e){null!=e.B&&(Sr.clearTimeout(e.B),e.B=null)}function ts(e){e.g=new Si(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Bi(e.sa);Gi(t,"RID","rpc"),Gi(t,"SID",e.I),Gi(t,"CI",e.L?"0":"1"),Gi(t,"AID",e.T),Gi(t,"TYPE","xmlhttp"),Xo(e,t),e.o&&e.s&&Bo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Qi(Bi(t)),n.s=null,n.P=!0,Ii(n,e)}function ns(e){null!=e.v&&(Sr.clearTimeout(e.v),e.v=null)}function rs(e,t){var n=null;if(e.g==t){ns(e),es(e),e.g=null;var r=2}else{if(!vo(e.h,t))return;n=t.D,go(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var a=e.C;Pa(r=oi(),new fi(r,n)),Ko(e)}else Zo(e);else if(3==(a=t.o)||0==a&&0<e.pa||!(1==r&&function(e,t){return!(po(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=hi(jr(e.Ja,e,t),as(e,e.C)),e.C++,!0))}(e,t)||2==r&&$o(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:is(e,5);break;case 4:is(e,10);break;case 3:is(e,6);break;default:is(e,2)}}function as(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function is(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=jr(e.kb,e);n||(n=new Vi("//www.google.com/images/cleardot.gif"),Sr.location&&"http"==Sr.location.protocol||qi(n,"https"),Qi(n)),function(e,t){var n=new ni;if(Sr.Image){var r=new Image;r.onload=Or(xo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Or(xo,n,r,"TestLoadImage: error",!1,t),r.onabort=Or(xo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Or(xo,n,r,"TestLoadImage: timeout",!1,t),Sr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else li(2);e.G=0,e.l&&e.l.va(t),os(e),Qo(e)}function os(e){if(e.G=0,e.la=[],e.l){var t=yo(e.h);0==t.length&&0==e.i.length||(Mr(e.la,t),Mr(e.la,e.i),e.h.i.length=0,Lr(e.i),e.i.length=0),e.l.ua()}}function ss(e,t,n){var r=n instanceof Vi?Bi(n):new Vi(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Hi(r,r.m);else{var a=Sr.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new Vi(null,void 0);r&&qi(i,r),t&&(i.g=t),a&&Hi(i,a),n&&(i.l=n),r=i}return n=e.D,t=e.za,n&&t&&Gi(r,n,t),Gi(r,"VER",e.ma),Xo(e,r),r}function us(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ao(new So({jb:!0})):new Ao(e.ra)).Ka(e.H),t}function cs(){}function ls(){if(Kr&&!(10<=Number(sa)))throw Error("Environmental error: no available transport.")}function fs(e,t){Ra.call(this),this.g=new Ho(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!zr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ps(this)}function hs(e){bi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ds(){wi.call(this),this.status=1}function ps(e){this.g=e}(kr=Ao.prototype).Ka=function(e){this.L=e},kr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yi.g(),this.C=this.u?mi(this.u):mi(yi),this.g.onreadystatechange=jr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Po(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var i,o=ve(r.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=Sr.FormData&&e instanceof Sr.FormData,!(0<=Dr(Ro,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=ve(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uo(this),0<this.B&&((this.K=function(e){return Kr&&ia()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jr(this.qa,this)):this.A=Ya(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Po(this,s)}},kr.qa=function(){"undefined"!=typeof xr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pa(this,"timeout"),this.abort(8))},kr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pa(this,"complete"),Pa(this,"abort"),Mo(this))},kr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mo(this,!0)),Ao.X.M.call(this)},kr.Ha=function(){this.s||(this.F||this.v||this.l?Lo(this):this.fb())},kr.fb=function(){Lo(this)},kr.aa=function(){try{return 2<Fo(this)?this.g.status:-1}catch(lo){return-1}},kr.fa=function(){try{return this.g?this.g.responseText:""}catch(lo){return""}},kr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Io(t)}},kr.Ea=function(){return this.m},kr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(kr=Ho.prototype).ma=8,kr.G=1,kr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Si(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ga(n=va(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,a=0;a<this.i.length;a++){var i=this.i[a];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=a;break e}if(4096===r||a===this.i.length-1){r=a+1;break e}}r=1e3}else r=1e3;r=Jo(this,t,r),Gi(a=Bi(this.F),"RID",e),Gi(a,"CVER",22),this.D&&Gi(a,"X-HTTP-Session-Id",this.D),Xo(this,a),n&&(this.N?r="headers="+encodeURIComponent(String(Vo(n)))+"&"+r:this.o&&Bo(a,this.o,n)),mo(this.h,t),this.Ya&&Gi(a,"TYPE","init"),this.O?(Gi(a,"$req",r),Gi(a,"SID","null"),t.Z=!0,Ni(t,a,null)):Ni(t,a,r),this.G=2}}else 3==this.G&&(e?Yo(this,e):0==this.i.length||ho(this.h)||Yo(this))},kr.Ia=function(){if(this.u=null,ts(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=hi(jr(this.eb,this),e)}},kr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,li(10),Go(this),ts(this))},kr.cb=function(){null!=this.v&&(this.v=null,Go(this),$o(this),li(19))},kr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),li(2)):(this.j.info("Failed to ping google.com"),li(1))},(kr=cs.prototype).xa=function(){},kr.wa=function(){},kr.va=function(){},kr.ua=function(){},kr.Ra=function(){},ls.prototype.g=function(e,t){return new fs(e,t)},Rr(fs,Ra),fs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;li(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ss(e,null,e.V),Ko(e)},fs.prototype.close=function(){Wo(this.g)},fs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=La(e),e=n);t.i.push(new uo(t.ab++,e)),3==t.G&&Ko(t)},fs.prototype.M=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,fs.X.M.call(this)},Rr(hs,bi),Rr(ds,wi),Rr(ps,cs),ps.prototype.xa=function(){Pa(this.g,"a")},ps.prototype.wa=function(e){Pa(this.g,new hs(e))},ps.prototype.va=function(e){Pa(this.g,new ds)},ps.prototype.ua=function(){Pa(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,pi.COMPLETE="complete",gi.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",Ra.prototype.listen=Ra.prototype.N,Ao.prototype.listenOnce=Ao.prototype.O,Ao.prototype.getLastError=Ao.prototype.Oa,Ao.prototype.getLastErrorCode=Ao.prototype.Ea,Ao.prototype.getStatus=Ao.prototype.aa,Ao.prototype.getResponseJson=Ao.prototype.Sa,Ao.prototype.getResponseText=Ao.prototype.fa,Ao.prototype.send=Ao.prototype.da,Ao.prototype.setWithCredentials=Ao.prototype.Ka;var vs=wr.createWebChannelTransport=function(){return new ls},ms=wr.getStatEventTarget=function(){return oi()},gs=wr.ErrorCode=di,ys=wr.EventType=pi,ks=wr.Event=ai,bs=wr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ws=wr.FetchXmlHttpFactory=So,xs=wr.WebChannel=gi,Ss=wr.XhrIo=Ao,Es="@firebase/firestore",_s=function(){function e(t){re(this,e),this.uid=t}return ie(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");var Ts="9.16.0",Cs=new bn("@firebase/firestore");function Ns(){return Cs.logLevel}function Is(e){if(Cs.logLevel<=dn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Os);Cs.debug.apply(Cs,["Firestore (".concat(Ts,"): ").concat(e)].concat(m(a)))}}function As(e){if(Cs.logLevel<=dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Os);Cs.error.apply(Cs,["Firestore (".concat(Ts,"): ").concat(e)].concat(m(a)))}}function js(e){if(Cs.logLevel<=dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Os);Cs.warn.apply(Cs,["Firestore (".concat(Ts,"): ").concat(e)].concat(m(a)))}}function Os(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ts,") INTERNAL ASSERTION FAILED: ")+e;throw As(t),new Error(t)}function Ps(e,t){e||Rs()}function Ds(e,t){return e}var Ls={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ms=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this,e,r)).code=e,a.message=r,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return ie(n)}(Xt),Us=ie((function e(){var t=this;re(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Fs=ie((function e(t,n){re(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zs=function(){function e(){re(this,e)}return ie(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_s.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vs=function(){function e(t){re(this,e),this.token=t,this.changeListener=null}return ie(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bs=function(){function e(t){re(this,e),this.t=t,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ie(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},i=new Us;this.o=function(){n.i++,n.currentUser=n.u(),i.resolve(),i=new Us,e.enqueueRetryable((function(){return a(n.currentUser)}))};var o=function(){var t=i;e.enqueueRetryable(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Is("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Is("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Us)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Is("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ps("string"==typeof n.accessToken),new Fs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ps(null===e||"string"==typeof e),new _s(e)}}]),e}(),qs=function(){function e(t,n,r,a){re(this,e),this.h=t,this.l=n,this.m=r,this.g=a,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.p=new Map}return ie(e,[{key:"I",value:function(){return this.g?this.g():(Ps(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Hs=function(){function e(t,n,r,a){re(this,e),this.h=t,this.l=n,this.m=r,this.g=a}return ie(e,[{key:"getToken",value:function(){return Promise.resolve(new qs(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_s.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ws=ie((function e(t){re(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gs=function(){function e(t){re(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return ie(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Is("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Is("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var a=function(e){Is("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return a(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?a(e):Is("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ps("string"==typeof t.token),e.A=t.token,new Ws(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Qs(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ks=function(){function e(){re(this,e)}return ie(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Qs(40),a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%e.length));return n}}]),e}();function Ys(e,t){return e<t?-1:e>t?1:0}function Xs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Js=function(){function e(t,n){if(re(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ms(Ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ms(Ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ms(Ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ms(Ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ie(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ys(this.nanoseconds,e.nanoseconds):Ys(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Zs=function(){function e(t){re(this,e),this.timestamp=t}return ie(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Js(0,0))}},{key:"max",value:function(){return new e(new Js(253402300799,999999999))}}]),e}(),$s=function(){function e(t,n,r){re(this,e),void 0===n?n=0:n>t.length&&Rs(),void 0===r?r=t.length-n:r>t.length-n&&Rs(),this.segments=t,this.offset=n,this.len=r}return ie(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var a=e.get(r),i=t.get(r);if(a<i)return-1;if(a>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),eu=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var i=0,o=r;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ms(Ls.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,m(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($s),tu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nu=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return tu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",a=0,i=function(){if(0===r.length)throw new Ms(Ls.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;a<e.length;){var s=e[a];if("\\"===s){if(a+1===e.length)throw new Ms(Ls.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[a+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ms(Ls.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,a+=2}else"`"===s?(o=!o,a++):"."!==s||o?(r+=s,a++):(i(),a++)}if(i(),o)throw new Ms(Ls.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($s),ru=function(){function e(t){re(this,e),this.path=t}return ie(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===eu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(eu.fromString(t))}},{key:"fromName",value:function(t){return new e(eu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(eu.emptyPath())}},{key:"comparator",value:function(e,t){return eu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new eu(t.slice()))}}]),e}(),au=ie((function e(t,n,r,a){re(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=a}));au.UNKNOWN_ID=-1;function iu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Zs.fromTimestamp(1e9===r?new Js(n+1,0):new Js(n,r));return new su(a,ru.empty(),t)}function ou(e){return new su(e.readTime,e.key,-1)}var su=function(){function e(t,n,r){re(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ie(e,null,[{key:"min",value:function(){return new e(Zs.min(),ru.empty(),-1)}},{key:"max",value:function(){return new e(Zs.max(),ru.empty(),-1)}}]),e}();function uu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ru.comparator(e.documentKey,t.documentKey))?n:Ys(e.largestBatchId,t.largestBatchId)}var cu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lu=function(){function e(){re(this,e),this.onCommittedListeners=[]}return ie(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function fu(e){return hu.apply(this,arguments)}function hu(){return hu=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ls.FAILED_PRECONDITION&&t.message===cu){e.next=2;break}throw t;case 2:Is("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}var du=function(){function e(t){var n=this;re(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ie(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Rs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,a){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,a)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,a)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,a=0,i=!1;t.forEach((function(t){++r,t.next((function(){++a,i&&a===r&&e()}),(function(e){return n(e)}))})),i=!0,a===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=ve(t);try{var i=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,a){r.push(t.call(n,e,a))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var a=t.length,i=new Array(a),o=0,s=function(){var s=u;n(t[s]).next((function(t){i[s]=t,++o===a&&e(i)}),(function(e){return r(e)}))},u=0;u<a;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function a(){!0===t()?n().next((function(){a()}),r):e()}()}))}}]),e}();function pu(e){return"IndexedDbTransactionError"===e.name}var vu=function(){function e(t,n){var r=this;re(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return ie(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();vu.at=-1;var mu=ie((function e(t,n,r,a,i,o,s,u){re(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),gu=function(){function e(t,n){re(this,e),this.projectId=t,this.database=n||"(default)"}return ie(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function yu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ku(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wu(e){return null==e}function xu(e){return 0===e&&1/e==-1/0}function Su(e){return"number"==typeof e&&Number.isInteger(e)&&!xu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Eu=function(e){function t(e){re(this,t),this.binaryString=e}return ie(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ys(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Eu.EMPTY_BYTE_STRING=new Eu("");var _u=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tu(e){if(Ps(!!e),"string"==typeof e){var t=0,n=_u.exec(e);if(Ps(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Cu(e.seconds),nanos:Cu(e.nanos)}}function Cu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nu(e){return"string"==typeof e?Eu.fromBase64String(e):Eu.fromUint8Array(e)}function Iu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Au(e){var t=e.mapValue.fields.__previous_value__;return Iu(t)?Au(t):t}function ju(e){var t=Tu(e.mapValue.fields.__local_write_time__.timestampValue);return new Js(t.seconds,t.nanos)}var Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ru(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iu(e)?4:Gu(e)?9007199254740991:10:Rs()}function Pu(e,t){if(e===t)return!0;var n=Ru(e);if(n!==Ru(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ju(e).isEqual(ju(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Tu(e.timestampValue),r=Tu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nu(e.bytesValue).isEqual(Nu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cu(e.geoPointValue.latitude)===Cu(t.geoPointValue.latitude)&&Cu(e.geoPointValue.longitude)===Cu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cu(e.integerValue)===Cu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Cu(e.doubleValue),r=Cu(t.doubleValue);return n===r?xu(n)===xu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xs(e.arrayValue.values||[],t.arrayValue.values||[],Pu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yu(n)!==yu(r))return!1;for(var a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Pu(n[a],r[a])))return!1;return!0}(e,t);default:return Rs()}}function Du(e,t){return void 0!==(e.values||[]).find((function(e){return Pu(e,t)}))}function Lu(e,t){if(e===t)return 0;var n=Ru(e),r=Ru(t);if(n!==r)return Ys(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ys(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Cu(e.integerValue||e.doubleValue),r=Cu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mu(e.timestampValue,t.timestampValue);case 4:return Mu(ju(e),ju(t));case 5:return Ys(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nu(e),r=Nu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0;a<n.length&&a<r.length;a++){var i=Ys(n[a],r[a]);if(0!==i)return i}return Ys(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ys(Cu(e.latitude),Cu(t.latitude));return 0!==n?n:Ys(Cu(e.longitude),Cu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],a=0;a<n.length&&a<r.length;++a){var i=Lu(n[a],r[a]);if(i)return i}return Ys(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ou.mapValue&&t===Ou.mapValue)return 0;if(e===Ou.mapValue)return 1;if(t===Ou.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(var o=0;o<r.length&&o<i.length;++o){var s=Ys(r[o],i[o]);if(0!==s)return s;var u=Lu(n[r[o]],a[i[o]]);if(0!==u)return u}return Ys(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Rs()}}function Mu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ys(e,t);var n=Tu(e),r=Tu(t),a=Ys(n.seconds,r.seconds);return 0!==a?a:Ys(n.nanos,r.nanos)}function Uu(e){return Fu(e)}function Fu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Tu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ru.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,a=ve(e.values||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+=Fu(i)}}catch(o){a.e(o)}finally{a.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,a=ve(Object.keys(e.fields||{}).sort());try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+="".concat(i,":").concat(Fu(e.fields[i]))}}catch(o){a.e(o)}finally{a.f()}return n+"}"}(e.mapValue):Rs();var t,n}function zu(e){return!!e&&"integerValue"in e}function Vu(e){return!!e&&"arrayValue"in e}function Bu(e){return!!e&&"nullValue"in e}function qu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hu(e){return!!e&&"mapValue"in e}function Wu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ku(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Wu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Wu(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Gu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Qu=ie((function e(t,n){re(this,e),this.position=t,this.inclusive=n}));function Ku(e,t,n){for(var r=0,a=0;a<e.position.length;a++){var i=t[a],o=e.position[a];if(r=i.field.isKeyField()?ru.comparator(ru.fromName(o.referenceValue),n.key):Lu(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Yu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pu(e.position[n],t.position[n]))return!1;return!0}var Xu=ie((function e(){re(this,e)})),Ju=function(e){se(n,e);var t=he(n);function n(e,r,a){var i;return re(this,n),(i=t.call(this)).field=e,i.op=r,i.value=a,i}return ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lu(t,this.value)):null!==t&&Ru(this.value)===Ru(t)&&this.matchesComparison(Lu(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rs()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ic(e,t,r):"array-contains"===t?new cc(e,r):"in"===t?new lc(e,r):"not-in"===t?new fc(e,r):"array-contains-any"===t?new hc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new oc(e,n):new sc(e,n)}}]),n}(Xu),Zu=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this)).filters=e,a.op=r,a.ht=null,a}return ie(n,[{key:"matches",value:function(e){return $u(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=ve(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Xu);function $u(e){return"and"===e.op}function ec(e){return tc(e)&&$u(e)}function tc(e){var t,n=ve(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Zu)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function nc(e){if(e instanceof Ju)return e.field.canonicalString()+e.op.toString()+Uu(e.value);if(ec(e))return e.filters.map((function(e){return nc(e)})).join(",");var t=e.filters.map((function(e){return nc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function rc(e,t){return e instanceof Ju?function(e,t){return t instanceof Ju&&e.op===t.op&&e.field.isEqual(t.field)&&Pu(e.value,t.value)}(e,t):e instanceof Zu?function(e,t){return t instanceof Zu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&rc(n,t.filters[r])}),!0)}(e,t):void Rs()}function ac(e){return e instanceof Ju?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Uu(e.value))}(e):e instanceof Zu?function(e){return e.op.toString()+" {"+e.getFilters().map(ac).join(" ,")+"}"}(e):"Filter"}var ic=function(e){se(n,e);var t=he(n);function n(e,r,a){var i;return re(this,n),(i=t.call(this,e,r,a)).key=ru.fromName(a.referenceValue),i}return ie(n,[{key:"matches",value:function(e){var t=ru.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ju),oc=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this,e,"in",r)).keys=uc("in",r),a}return ie(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ju),sc=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this,e,"not-in",r)).keys=uc("not-in",r),a}return ie(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ju);function uc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ru.fromName(e.referenceValue)}))}var cc=function(e){se(n,e);var t=he(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains",r)}return ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vu(t)&&Du(t.arrayValue,this.value)}}]),n}(Ju),lc=function(e){se(n,e);var t=he(n);function n(e,r){return re(this,n),t.call(this,e,"in",r)}return ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Du(this.value.arrayValue,t)}}]),n}(Ju),fc=function(e){se(n,e);var t=he(n);function n(e,r){return re(this,n),t.call(this,e,"not-in",r)}return ie(n,[{key:"matches",value:function(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Du(this.value.arrayValue,t)}}]),n}(Ju),hc=function(e){se(n,e);var t=he(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains-any",r)}return ie(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Du(t.value.arrayValue,e)}))}}]),n}(Ju),dc=ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";re(this,e),this.field=t,this.dir=n}));function pc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var vc=function(){function e(t,n){re(this,e),this.comparator=t,this.root=n||gc.EMPTY}return ie(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mc(this.root,e,this.comparator,!0)}}]),e}(),mc=function(){function e(t,n,r,a){re(this,e),this.isReverse=a,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ie(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),gc=function(){function e(t,n,r,a,i){re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return ie(e,[{key:"copy",value:function(t,n,r,a,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=i?i:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,a=n(e,r.key);return(r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(t,a.key)){if(a.right.isEmpty())return e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Rs();if(this.right.isRed())throw Rs();var e=this.left.check();if(e!==this.right.check())throw Rs();return e+(this.isRed()?0:1)}}]),e}();gc.EMPTY=null,gc.RED=!0,gc.BLACK=!1,gc.EMPTY=new(function(){function e(){re(this,e),this.size=0}return ie(e,[{key:"key",get:function(){throw Rs()}},{key:"value",get:function(){throw Rs()}},{key:"color",get:function(){throw Rs()}},{key:"left",get:function(){throw Rs()}},{key:"right",get:function(){throw Rs()}},{key:"copy",value:function(e,t,n,r,a){return this}},{key:"insert",value:function(e,t,n){return new gc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var yc=function(){function e(t){re(this,e),this.comparator=t,this.data=new vc(this.comparator)}return ie(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(a,i))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kc=function(){function e(t){re(this,e),this.iter=t}return ie(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var bc=function(){function e(t){re(this,e),this.fields=t,t.sort(nu.comparator)}return ie(e,[{key:"unionWith",value:function(t){var n,r=new yc(nu.comparator),a=ve(this.fields);try{for(a.s();!(n=a.n()).done;){var i=n.value;r=r.add(i)}}catch(c){a.e(c)}finally{a.f()}var o,s=ve(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ve(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),wc=function(){function e(t){re(this,e),this.value=t}return ie(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Hu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(t)}},{key:"setAll",value:function(e){var t=this,n=nu.emptyPath(),r={},a=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var o=t.getFieldsMap(n);t.applyChanges(o,r,a),r={},a=[],n=i.popLast()}e?r[i.lastSegment()]=Wu(e):a.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,a)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Hu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pu(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Hu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ku(t,(function(t,n){return e[t]=n}));var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;delete e[i]}}catch(o){a.e(o)}finally{a.f()}}},{key:"clone",value:function(){return new e(Wu(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xc(e){var t=[];return ku(e.fields,(function(e,n){var r=new nu([e]);if(Hu(n)){var a=xc(n.mapValue).fields;if(0===a.length)t.push(r);else{var i,o=ve(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new bc(t)}var Sc=function(){function e(t,n,r,a,i,o,s){re(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=o,this.documentState=s}return ie(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Zs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Zs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Zs.min(),Zs.min(),Zs.min(),wc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,a){return new e(t,1,n,Zs.min(),r,a,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zs.min(),Zs.min(),wc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zs.min(),Zs.min(),wc.empty(),2)}}]),e}(),Ec=ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;re(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=o,this.endAt=s,this.ft=null}));function _c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ec(e,t,n,r,a,i,o)}function Tc(e){var t=Ds(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return nc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uu(e)})).join(",")),t.ft=n}return t.ft}function Cc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!rc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yu(e.startAt,t.startAt)&&Yu(e.endAt,t.endAt)}function Nc(e){return ru.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ic=ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;re(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Ac(e,t,n,r,a,i,o,s){return new Ic(e,t,n,r,a,i,o,s)}function jc(e){return new Ic(e)}function Oc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pc(e){var t,n=ve(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(a){n.e(a)}finally{n.f()}return null}function Dc(e){return null!==e.collectionGroup}function Lc(e){var t=Ds(e);if(null===t.dt){t.dt=[];var n=Pc(t),r=Rc(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new dc(n)),t.dt.push(new dc(nu.keyField(),"asc"));else{var a,i=!1,o=ve(t.explicitOrderBy);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.dt.push(s),s.field.isKeyField()&&(i=!0)}}catch(c){o.e(c)}finally{o.f()}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new dc(nu.keyField(),u))}}}return t.dt}function Mc(e){var t=Ds(e);if(!t._t)if("F"===t.limitType)t._t=_c(t.path,t.collectionGroup,Lc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],a=ve(Lc(t));try{for(a.s();!(n=a.n()).done;){var i=n.value,o="desc"===i.dir?"asc":"desc";r.push(new dc(i.field,o))}}catch(c){a.e(c)}finally{a.f()}var s=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;t._t=_c(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Uc(e,t,n){return new Ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fc(e,t){return Cc(Mc(e),Mc(t))&&e.limitType===t.limitType}function zc(e){return"".concat(Tc(Mc(e)),"|lt:").concat(e.limitType)}function Vc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ac(e)})).join(", "),"]")),wu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uu(e)})).join(",")),"Target(".concat(t,")")}(Mc(e)),"; limitType=").concat(e.limitType,")")}function Bc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ru.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ve(Lc(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ve(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ku(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ku(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lc(e),t))}(e,t)}function qc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hc(e){return function(t,n){var r,a=!1,i=ve(Lc(e));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=Wc(o,t,n);if(0!==s)return s;a=a||o.field.isKeyField()}}catch(u){i.e(u)}finally{i.f()}return 0}}function Wc(e,t,n){var r=e.field.isKeyField()?ru.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Lu(r,a):Rs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rs()}}function Gc(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(t)?"-0":t}}function Qc(e){return{integerValue:""+e}}function Kc(e,t){return Su(t)?Qc(t):Gc(e,t)}var Yc=ie((function e(){re(this,e),this._=void 0}));function Xc(e,t,n){return e instanceof $c?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof el?tl(e,t):e instanceof nl?rl(e,t):function(e,t){var n=Zc(e,t),r=il(n)+il(e.gt);return zu(n)&&zu(e.gt)?Qc(r):Gc(e.yt,r)}(e,t)}function Jc(e,t,n){return e instanceof el?tl(e,t):e instanceof nl?rl(e,t):n}function Zc(e,t){return e instanceof al?zu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var $c=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n)}(Yc),el=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ie(n)}(Yc);function tl(e,t){var n,r=ol(t),a=ve(e.elements);try{var i=function(){var e=n.value;r.some((function(t){return Pu(t,e)}))||r.push(e)};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var nl=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ie(n)}(Yc);function rl(e,t){var n,r=ol(t),a=ve(e.elements);try{var i=function(){var e=n.value;r=r.filter((function(t){return!Pu(t,e)}))};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var al=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this)).yt=e,a.gt=r,a}return ie(n)}(Yc);function il(e){return Cu(e.integerValue||e.doubleValue)}function ol(e){return Vu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sl=ie((function e(t,n){re(this,e),this.field=t,this.transform=n}));var ul=ie((function e(t,n){re(this,e),this.version=t,this.transformResults=n})),cl=function(){function e(t,n){re(this,e),this.updateTime=t,this.exists=n}return ie(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ll(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fl=ie((function e(){re(this,e)}));function hl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new El(e.key,cl.none()):new gl(e.key,e.data,cl.none());var n,r=e.data,a=wc.empty(),i=new yc(nu.comparator),o=ve(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!i.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?a.delete(s):a.set(s,u),i=i.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new yl(e.key,a,new bc(i.toArray()),cl.none())}function dl(e,t,n){e instanceof gl?function(e,t,n){var r=e.value.clone(),a=bl(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yl?function(e,t,n){if(ll(e.precondition,t)){var r=bl(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(kl(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pl(e,t,n,r){return e instanceof gl?function(e,t,n,r){if(!ll(e.precondition,t))return n;var a=e.value.clone(),i=wl(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof yl?function(e,t,n,r){if(!ll(e.precondition,t))return n;var a=wl(e.fieldTransforms,r,t),i=t.data;return i.setAll(kl(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ll(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vl(e,t){var n,r=null,a=ve(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=t.data.field(i.field),s=Zc(i.transform,o||null);null!=s&&(null===r&&(r=wc.empty()),r.set(i.field,s))}}catch(u){a.e(u)}finally{a.f()}return r||null}function ml(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xs(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof el&&t instanceof el||e instanceof nl&&t instanceof nl?Xs(e.elements,t.elements,Pu):e instanceof al&&t instanceof al?Pu(e.gt,t.gt):e instanceof $c&&t instanceof $c}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gl=function(e){se(n,e);var t=he(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return re(this,n),(i=t.call(this)).key=e,i.value=r,i.precondition=a,i.fieldTransforms=o,i.type=0,i}return ie(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fl),yl=function(e){se(n,e);var t=he(n);function n(e,r,a,i){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return re(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=a,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return ie(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(fl);function kl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bl(e,t,n){var r=new Map;Ps(e.length===n.length);for(var a=0;a<n.length;a++){var i=e[a],o=i.transform,s=t.data.field(i.field);r.set(i.field,Jc(o,s,n[a]))}return r}function wl(e,t,n){var r,a=new Map,i=ve(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);a.set(o.field,Xc(s,u,t))}}catch(c){i.e(c)}finally{i.f()}return a}var xl,Sl,El=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=2,a.fieldTransforms=[],a}return ie(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fl),_l=function(e){se(n,e);var t=he(n);function n(e,r){var a;return re(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=3,a.fieldTransforms=[],a}return ie(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fl),Tl=ie((function e(t){re(this,e),this.count=t}));function Cl(e){switch(e){default:return Rs();case Ls.CANCELLED:case Ls.UNKNOWN:case Ls.DEADLINE_EXCEEDED:case Ls.RESOURCE_EXHAUSTED:case Ls.INTERNAL:case Ls.UNAVAILABLE:case Ls.UNAUTHENTICATED:return!1;case Ls.INVALID_ARGUMENT:case Ls.NOT_FOUND:case Ls.ALREADY_EXISTS:case Ls.PERMISSION_DENIED:case Ls.FAILED_PRECONDITION:case Ls.ABORTED:case Ls.OUT_OF_RANGE:case Ls.UNIMPLEMENTED:case Ls.DATA_LOSS:return!0}}function Nl(e){if(void 0===e)return As("GRPC error has no .code"),Ls.UNKNOWN;switch(e){case xl.OK:return Ls.OK;case xl.CANCELLED:return Ls.CANCELLED;case xl.UNKNOWN:return Ls.UNKNOWN;case xl.DEADLINE_EXCEEDED:return Ls.DEADLINE_EXCEEDED;case xl.RESOURCE_EXHAUSTED:return Ls.RESOURCE_EXHAUSTED;case xl.INTERNAL:return Ls.INTERNAL;case xl.UNAVAILABLE:return Ls.UNAVAILABLE;case xl.UNAUTHENTICATED:return Ls.UNAUTHENTICATED;case xl.INVALID_ARGUMENT:return Ls.INVALID_ARGUMENT;case xl.NOT_FOUND:return Ls.NOT_FOUND;case xl.ALREADY_EXISTS:return Ls.ALREADY_EXISTS;case xl.PERMISSION_DENIED:return Ls.PERMISSION_DENIED;case xl.FAILED_PRECONDITION:return Ls.FAILED_PRECONDITION;case xl.ABORTED:return Ls.ABORTED;case xl.OUT_OF_RANGE:return Ls.OUT_OF_RANGE;case xl.UNIMPLEMENTED:return Ls.UNIMPLEMENTED;case xl.DATA_LOSS:return Ls.DATA_LOSS;default:return Rs()}}(Sl=xl||(xl={}))[Sl.OK=0]="OK",Sl[Sl.CANCELLED=1]="CANCELLED",Sl[Sl.UNKNOWN=2]="UNKNOWN",Sl[Sl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sl[Sl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sl[Sl.NOT_FOUND=5]="NOT_FOUND",Sl[Sl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sl[Sl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sl[Sl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sl[Sl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sl[Sl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sl[Sl.ABORTED=10]="ABORTED",Sl[Sl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sl[Sl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sl[Sl.INTERNAL=13]="INTERNAL",Sl[Sl.UNAVAILABLE=14]="UNAVAILABLE",Sl[Sl.DATA_LOSS=15]="DATA_LOSS";var Il=function(){function e(t,n){re(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ie(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=f(r.value,2),o=i[0],s=i[1];if(this.equalsFn(o,e))return s}}catch(u){a.e(u)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ku(this.inner,(function(t,n){var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=f(r.value,2),o=i[0],s=i[1];e(o,s)}}catch(u){a.e(u)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return bu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Al=new vc(ru.comparator);function jl(){return Al}var Ol=new vc(ru.comparator);function Rl(){for(var e=Ol,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=e.insert(o.key,o)}return e}function Pl(e){var t=Ol;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Dl(){return Ml()}function Ll(){return Ml()}function Ml(){return new Il((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ul=new vc(ru.comparator),Fl=new yc(ru.comparator);function zl(){for(var e=Fl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=e.add(o)}return e}var Vl=new yc(Ys);function Bl(){return Vl}var ql=function(){function e(t,n,r,a,i){re(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}return ie(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var a=new Map;return a.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Zs.min(),a,Bl(),jl(),zl())}}]),e}(),Hl=function(){function e(t,n,r,a,i){re(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}return ie(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,zl(),zl(),zl())}}]),e}(),Wl=ie((function e(t,n,r,a){re(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=a})),Gl=ie((function e(t,n){re(this,e),this.targetId=t,this.Et=n})),Ql=ie((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eu.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;re(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a})),Kl=function(){function e(){re(this,e),this.At=0,this.Rt=Jl(),this.bt=Eu.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return ie(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=zl(),t=zl(),n=zl();return this.Rt.forEach((function(r,a){switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rs()}})),new Hl(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Jl()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Yl=function(){function e(t){re(this,e),this.$t=t,this.Bt=new Map,this.Lt=jl(),this.qt=Xl(),this.Ut=new yc(Ys)}return ie(e,[{key:"Kt",value:function(e){var t,n=ve(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var a,i=ve(e.removedTargetIds);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.Qt(o,e.key,e.Tt)}}catch(s){i.e(s)}finally{i.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Rs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var a=r.target;if(Nc(a))if(0===n){var i=new ru(a.path);this.Qt(t,i,Sc.newNoDocument(i,Zs.min()))}else Ps(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,a){var i=t.Yt(a);if(i){if(r.current&&Nc(i.target)){var o=new ru(i.target.path);null!==t.Lt.get(o)||t.te(a,o)||t.Qt(a,o,Sc.newNoDocument(o,e))}r.St&&(n.set(a,r.Ct()),r.xt())}}));var r=zl();this.qt.forEach((function(e,n){var a=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(a=!1,!1)})),a&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var a=new ql(e,n,this.Ut,this.Lt,r);return this.Lt=jl(),this.qt=Xl(),this.Ut=new yc(Ys),a}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Kl,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new yc(Ys),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Is("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Kl),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xl(){return new vc(ru.comparator)}function Jl(){return new vc(ru.comparator)}var Zl={asc:"ASCENDING",desc:"DESCENDING"},$l={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ef={and:"AND",or:"OR"},tf=ie((function e(t,n){re(this,e),this.databaseId=t,this.wt=n}));function nf(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rf(e,t){return e.wt?t.toBase64():t.toUint8Array()}function af(e,t){return nf(e,t.toTimestamp())}function of(e){return Ps(!!e),Zs.fromTimestamp(function(e){var t=Tu(e);return new Js(t.seconds,t.nanos)}(e))}function sf(e,t){return function(e){return new eu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function uf(e){var t=eu.fromString(e);return Ps(Nf(t)),t}function cf(e,t){return sf(e.databaseId,t.path)}function lf(e,t){var n=uf(t);if(n.get(1)!==e.databaseId.projectId)throw new Ms(Ls.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ms(Ls.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ru(pf(n))}function ff(e,t){return sf(e.databaseId,t)}function hf(e){var t=uf(e);return 4===t.length?eu.emptyPath():pf(t)}function df(e){return new eu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pf(e){return Ps(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vf(e,t,n){return{name:cf(e,t),fields:n.value.mapValue.fields}}function mf(e,t){var n;if(t instanceof gl)n={update:vf(e,t.key,t.value)};else if(t instanceof El)n={delete:cf(e,t.key)};else if(t instanceof yl)n={update:vf(e,t.key,t.data),updateMask:Cf(t.fieldMask)};else{if(!(t instanceof _l))return Rs();n={verify:cf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof $c)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof el)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof al)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Rs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:af(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rs()}(e,t.precondition)),n}function gf(e,t){return{documents:[ff(e,t.path)]}}function yf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ff(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ff(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var a=function(e){if(0!==e.length)return Tf(Zu.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ef(e.field),direction:wf(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var o,s=function(e,t){return e.wt||wu(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kf(e){var t=hf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,a=null;if(r>0){Ps(1===r);var i=n.from[0];i.allDescendants?a=i.collectionId:t=t.child(i.collectionId)}var o=[];n.where&&(o=function(e){var t=bf(e);return t instanceof Zu&&ec(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new dc(_f(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return wu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Qu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Qu(n,t)}(n.endAt)),Ac(t,a,s,o,u,"F",c,l)}function bf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_f(e.unaryFilter.field);return Ju.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_f(e.unaryFilter.field);return Ju.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_f(e.unaryFilter.field);return Ju.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=_f(e.unaryFilter.field);return Ju.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Rs()}}(e):void 0!==e.fieldFilter?function(e){return Ju.create(_f(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rs()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zu.create(e.compositeFilter.filters.map((function(e){return bf(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rs()}}(e.compositeFilter.op))}(e):Rs()}function wf(e){return Zl[e]}function xf(e){return $l[e]}function Sf(e){return ef[e]}function Ef(e){return{fieldPath:e.canonicalString()}}function _f(e){return nu.fromServerFormat(e.fieldPath)}function Tf(e){return e instanceof Ju?function(e){if("=="===e.op){if(qu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NAN"}};if(Bu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NAN"}};if(Bu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(e.field),op:xf(e.op),value:e.value}}}(e):e instanceof Zu?function(e){var t=e.getFilters().map((function(e){return Tf(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Sf(e.op),filters:t}}}(e):Rs()}function Cf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var If=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Af=([].concat(m(If),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),jf=Af;[].concat(jf,["indexConfiguration","indexState","indexEntries"]);var Of=function(){function e(t,n,r,a){re(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}return ie(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var a=this.mutations[r];a.key.isEqual(e.key)&&dl(a,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ve(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=pl(a,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var i,o=ve(this.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.key.isEqual(e.key)&&(t=pl(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ll();return this.mutations.forEach((function(a){var i=e.get(a.key),o=i.overlayedDocument,s=n.applyToLocalView(o,i.mutatedFields),u=hl(o,s=t.has(a.key)?null:s);null!==u&&r.set(a.key,u),o.isValidDocument()||o.convertToNoDocument(Zs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),zl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(function(e,t){return ml(e,t)}))&&Xs(this.baseMutations,e.baseMutations,(function(e,t){return ml(e,t)}))}}]),e}(),Rf=function(){function e(t,n,r,a){re(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return ie(e,null,[{key:"from",value:function(t,n,r){Ps(t.mutations.length===r.length);for(var a=Ul,i=t.mutations,o=0;o<i.length;o++)a=a.insert(i[o].key,r[o].version);return new e(t,n,r,a)}}]),e}(),Pf=function(){function e(t,n){re(this,e),this.largestBatchId=t,this.mutation=n}return ie(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Df=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zs.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Eu.EMPTY_BYTE_STRING;re(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ie(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lf=ie((function e(t){re(this,e),this.ie=t}));function Mf(e){var t=kf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uc(t,t.limit,"L"):t}var Uf=function(){function e(){re(this,e)}return ie(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Cu(e.integerValue));else if("doubleValue"in e){var n=Cu(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),xu(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Nu(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var a=e.geoPointValue;this.he(t,45),t.le(a.latitude||0),t.le(a.longitude||0)}else"mapValue"in e?Gu(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Rs()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];this.de(i,t),this.ce(n[i],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.ce(i,t)}}catch(o){a.e(o)}finally{a.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),ru.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();Uf.Ie=new Uf;var Ff=function(){function e(){re(this,e),this.Je=new zf}return ie(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),du.resolve()}},{key:"getCollectionParents",value:function(e,t){return du.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return du.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return du.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return du.resolve(null)}},{key:"getIndexType",value:function(e,t){return du.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return du.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return du.resolve(null)}},{key:"getMinOffset",value:function(e,t){return du.resolve(su.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return du.resolve(su.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return du.resolve()}},{key:"updateIndexEntries",value:function(e,t){return du.resolve()}}]),e}(),zf=function(){function e(){re(this,e),this.index={}}return ie(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yc(eu.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new yc(eu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Vf=function(){function e(t,n,r){re(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ie(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Vf.DEFAULT_COLLECTION_PERCENTILE=10,Vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vf.DEFAULT=new Vf(41943040,Vf.DEFAULT_COLLECTION_PERCENTILE,Vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vf.DISABLED=new Vf(-1,0,0);var Bf=function(){function e(t){re(this,e),this.bn=t}return ie(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var qf=function(){function e(){re(this,e),this.changes=new Il((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ie(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Sc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?du.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Hf=ie((function e(t,n){re(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Wf=function(){function e(t,n,r,a){re(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}return ie(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(a){return r=a,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&pl(r.mutation,e,bc.empty(),Js.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,zl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zl(),a=Dl();return this.populateOverlays(e,a,t).next((function(){return n.computeViews(e,t,a,r).next((function(e){var t=Rl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Dl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,zl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var a=jl(),i=Ml(),o=Ml();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yl)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),pl(o.mutation,t,o.mutation.getFieldMask(),Js.now())):i.set(t.key,bc.empty())})),this.recalculateAndSaveOverlays(e,a).next((function(e){return e.forEach((function(e,t){return i.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Hf(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ml(),a=new vc((function(e,t){return e-t})),i=zl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,i=ve(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var i=t.get(n);if(null!==i){var o=r.get(n)||bc.empty();o=e.applyToLocalView(i,o),r.set(n,o);var s=(a.get(e.batchId)||zl()).add(n);a=a.insert(e.batchId,s)}}))};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}})).next((function(){for(var o=[],s=a.getReverseIterator(),u=function(){var a=s.getNext(),u=a.key,c=a.value,l=Ll();c.forEach((function(e){if(!i.has(e)){var n=hl(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return du.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ru.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var a=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(i){var o=r-i.size>0?a.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):du.resolve(Dl()),s=-1,u=i;return o.next((function(t){return du.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?du.resolve():a.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return a.populateOverlays(e,t,i)})).next((function(){return a.computeViews(e,u,t,zl())})).next((function(e){return{batchId:s,changes:Pl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ru(t)).next((function(e){var t=Rl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,a=t.collectionGroup,i=Rl();return this.indexManager.getCollectionParents(e,a).next((function(o){return du.forEach(o,(function(o){var s=function(e,t){return new Ic(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,a=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(i){return r=i,a.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Sc.newInvalidDocument(n)))}));var n=Rl();return r.forEach((function(r,a){var i=e.get(r);void 0!==i&&pl(i.mutation,a,bc.empty(),Js.now()),Bc(t,a)&&(n=n.insert(r,a))})),n}))}}]),e}(),Gf=function(){function e(t){re(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return ie(e,[{key:"getBundleMetadata",value:function(e,t){return du.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:of(n.createTime)}),du.resolve()}},{key:"getNamedQuery",value:function(e,t){return du.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Mf(e.bundledQuery),readTime:of(e.readTime)}}(t)),du.resolve()}}]),e}(),Qf=function(){function e(){re(this,e),this.overlays=new vc(ru.comparator),this.es=new Map}return ie(e,[{key:"getOverlay",value:function(e,t){return du.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dl();return du.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,a){r.oe(e,t,a)})),du.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,a=this.es.get(n);return void 0!==a&&(a.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),du.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Dl(),a=t.length+1,i=new ru(t.child("")),o=this.overlays.getIteratorFrom(i);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===a&&s.largestBatchId>n&&r.set(s.getKey(),s)}return du.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var a=new vc((function(e,t){return e-t})),i=this.overlays.getIterator();i.hasNext();){var o=i.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=a.get(o.largestBatchId);null===s&&(s=Dl(),a=a.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Dl(),c=a.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return du.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var a=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Pf(t,n));var i=this.es.get(t);void 0===i&&(i=zl(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}]),e}(),Kf=function(){function e(){re(this,e),this.ns=new yc(Yf.ss),this.rs=new yc(Yf.os)}return ie(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Yf(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Yf(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ru(new eu([])),r=new Yf(n,e),a=new Yf(n,e+1),i=[];return this.rs.forEachInRange([r,a],(function(e){t.cs(e),i.push(e.key)})),i}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ru(new eu([])),n=new Yf(t,e),r=new Yf(t,e+1),a=zl();return this.rs.forEachInRange([n,r],(function(e){a=a.add(e.key)})),a}},{key:"containsKey",value:function(e){var t=new Yf(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Yf=function(){function e(t,n){re(this,e),this.key=t,this._s=n}return ie(e,null,[{key:"ss",value:function(e,t){return ru.comparator(e.key,t.key)||Ys(e._s,t._s)}},{key:"os",value:function(e,t){return Ys(e._s,t._s)||ru.comparator(e.key,t.key)}}]),e}(),Xf=function(){function e(t,n){re(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new yc(Yf.ss)}return ie(e,[{key:"checkEmpty",value:function(e){return du.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var i=new Of(a,t,n,r);this.mutationQueue.push(i);var o,s=ve(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Yf(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return du.resolve(i)}},{key:"lookupMutationBatch",value:function(e,t){return du.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),a=r<0?0:r;return du.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return du.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return du.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Yf(t,0),a=new Yf(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([r,a],(function(e){var t=n.ys(e._s);i.push(t)})),du.resolve(i)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new yc(Ys);return t.forEach((function(e){var t=new Yf(e,0),a=new Yf(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,a],(function(e){r=r.add(e._s)}))})),du.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,a=n;ru.isDocumentKey(a)||(a=a.child(""));var i=new Yf(new ru(a),0),o=new yc(Ys);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),i),du.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ps(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return du.forEach(t.mutations,(function(a){var i=new Yf(a.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Yf(t,0),r=this.gs.firstAfterOrEqual(n);return du.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,du.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Jf=function(){function e(t){re(this,e),this.Es=t,this.docs=new vc(ru.comparator),this.size=0}return ie(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return du.resolve(n?n.document.mutableCopy():Sc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Sc.newInvalidDocument(e))})),du.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=jl(),a=new ru(t.child("")),i=this.docs.getIteratorFrom(a);i.hasNext();){var o=i.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||uu(ou(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return du.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Rs()}},{key:"As",value:function(e,t){return du.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zf(this)}},{key:"getSize",value:function(e){return du.resolve(this.size)}}]),e}(),Zf=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this)).Yn=e,r}return ie(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,a){a.isValidDocument()?n.push(t.Yn.addEntry(e,a)):t.Yn.removeEntry(r)})),du.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(qf),$f=function(){function e(t){re(this,e),this.persistence=t,this.Rs=new Il((function(e){return Tc(e)}),Cc),this.lastRemoteSnapshotVersion=Zs.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Kf,this.targetCount=0,this.vs=Bf.Pn()}return ie(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),du.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return du.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return du.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),du.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),du.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Bf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,du.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),du.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,du.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),i.push(r.removeMatchingKeysForTargetId(e,s.targetId)),a++)})),du.waitFor(i).next((function(){return a}))}},{key:"getTargetCount",value:function(e){return du.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return du.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),du.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((function(t){a.push(r.markPotentiallyOrphaned(e,t))})),du.waitFor(a)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),du.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return du.resolve(n)}},{key:"containsKey",value:function(e,t){return du.resolve(this.Ps.containsKey(t))}}]),e}(),eh=function(){function e(t,n){var r=this;re(this,e),this.Vs={},this.overlays={},this.Ss=new vu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new $f(this),this.indexManager=new Ff,this.remoteDocumentCache=new Jf((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Lf(n),this.Ns=new Gf(this.yt)}return ie(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Qf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Xf(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Is("MemoryPersistence","Starting transaction:",e);var a=new th(this.Ss.next());return this.referenceDelegate.ks(),n(a).next((function(e){return r.referenceDelegate.Os(a).next((function(){return e}))})).toPromise().then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return du.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),th=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ie(n)}(lu),nh=function(){function e(t){re(this,e),this.persistence=t,this.Fs=new Kf,this.$s=null}return ie(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Rs()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),du.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),du.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),du.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return du.forEach(this.Ls,(function(r){var a=ru.fromPath(r);return t.qs(e,a).next((function(e){e||n.removeEntry(a,Zs.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return du.or([function(){return du.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var rh=function(){function e(t,n,r,a){re(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=a}return ie(e,null,[{key:"Ci",value:function(t,n){var r,a=zl(),i=zl(),o=ve(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:a=a.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,a,i)}}]),e}(),ah=function(){function e(){re(this,e),this.xi=!1}return ie(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this;return this.ki(e,t).next((function(i){return i||a.Oi(e,t,r,n)})).next((function(n){return n||a.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Oc(t))return du.resolve(null);var r=Mc(t);return this.indexManager.getIndexType(e,r).next((function(a){return 0===a?null:(null!==t.limit&&1===a&&(t=Uc(t,null,"F"),r=Mc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(a){var i=zl.apply(void 0,m(a));return n.Ni.getDocuments(e,i).next((function(a){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,a);return n.$i(t,o,i,r.readTime)?n.ki(e,Uc(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var a=this;return Oc(t)||r.isEqual(Zs.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(i){var o=a.Fi(t,i);return a.$i(t,o,n,r)?a.Mi(e,t):(Ns()<=dn.DEBUG&&Is("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vc(t)),a.Bi(e,o,t,iu(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new yc(Hc(e));return t.forEach((function(t,r){Bc(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Ns()<=dn.DEBUG&&Is("QueryEngine","Using full collection scan to execute query:",Vc(t)),this.Ni.getDocumentsMatchingQuery(e,t,su.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ih=function(){function e(t,n,r,a){re(this,e),this.persistence=t,this.Li=n,this.yt=a,this.qi=new vc(Ys),this.Ui=new Il((function(e){return Tc(e)}),Cc),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return ie(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function oh(e,t,n,r){return new ih(e,t,n,r)}function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ds(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(a){return t=a,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var a,i=[],o=[],s=zl(),u=ve(t);try{for(u.s();!(a=u.n()).done;){var c=a.value;i.push(c.batchId);var l,f=ve(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ve(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=ve(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e,t){var n=Ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var a=n.batch,i=a.keys(),o=du.resolve();return i.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);Ps(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,a)}))}(n,e,t,a).next((function(){return a.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=zl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lh(e){var t=Ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function fh(e,t){var n=Ds(e),r=t.snapshotVersion,a=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n.Gi.newChangeBuffer({trackRemovals:!0});a=n.qi;var o=[];t.targetChanges.forEach((function(i,s){var u=a.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,i.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,i.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Eu.EMPTY_BYTE_STRING,Zs.min()).withLastLimboFreeSnapshotVersion(Zs.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,i)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=jl(),u=zl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hh(e,i,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Zs.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return du.waitFor(o).next((function(){return i.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=a,e}))}function hh(e,t,n){var r=zl(),a=zl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jl();return n.forEach((function(n,i){var o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Zs.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Is("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)})),{Wi:r,zi:a}}))}function dh(e,t){var n=Ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ph(e,t){var n=Ds(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(a){return a?(r=a,du.resolve(r)):n.Cs.allocateTargetId(e).next((function(a){return r=new Df(t,a,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function vh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=Pt(Ot().mark((function e(t,n,r){var a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ds(t),i=a.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",o,(function(e){return a.persistence.referenceDelegate.removeTarget(e,i)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pu(e.t1)){e.next=12;break}throw e.t1;case 12:Is("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.qi=a.qi.remove(n),a.Ui.delete(i.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mh.apply(this,arguments)}function gh(e,t,n){var r=Ds(e),a=Zs.min(),i=zl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ds(e),a=r.Ui.get(n);return void 0!==a?du.resolve(r.qi.get(a)):r.Cs.getTargetData(t,n)}(r,e,Mc(t)).next((function(t){if(t)return a=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?a:Zs.min(),n?i:zl())})).next((function(e){return yh(r,qc(t),e),{documents:e,Hi:i}}))}))}function yh(e,t,n){var r=e.Ki.get(t)||Zs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var kh=function(){function e(){re(this,e),this.activeTargetIds=Bl()}return ie(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bh=function(){function e(){re(this,e),this.Lr=new kh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ie(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new kh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),wh=function(){function e(){re(this,e)}return ie(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xh=function(){function e(){var t=this;re(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return ie(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Is("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ve(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Is("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ve(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Eh=function(){function e(t){re(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return ie(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),_h=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ie(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(a,i){var o=new Ss;o.setWithCredentials(!0),o.listenOnce(ys.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case gs.NO_ERROR:var t=o.getResponseJson();Is("Connection","XHR received:",JSON.stringify(t)),a(t);break;case gs.TIMEOUT:Is("Connection",'RPC "'+e+'" timed out'),i(new Ms(Ls.DEADLINE_EXCEEDED,"Request time out"));break;case gs.HTTP_ERROR:var n=o.getStatus();if(Is("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ls).indexOf(t)>=0?t:Ls.UNKNOWN}(s.status);i(new Ms(u,s.message))}else i(new Ms(Ls.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Ms(Ls.UNAVAILABLE,"Connection failed."));break;default:Rs()}}finally{Is("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vs(),i=ms(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ws({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Is("Connection","Creating WebChannel: "+s,o);var u=a.createWebChannel(s,o),c=!1,l=!1,f=new Eh({Hr:function(e){l?Is("Connection","Not sending because WebChannel is closed:",e):(c||(Is("Connection","Opening WebChannel transport."),u.open(),c=!0),Is("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,xs.EventType.OPEN,(function(){l||Is("Connection","WebChannel transport opened.")})),h(u,xs.EventType.CLOSE,(function(){l||(l=!0,Is("Connection","WebChannel transport closed"),f.io())})),h(u,xs.EventType.ERROR,(function(e){l||(l=!0,js("Connection","WebChannel transport errored:",e),f.io(new Ms(Ls.UNAVAILABLE,"The operation could not be completed")))})),h(u,xs.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ps(!!n);var r=n,a=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(a){Is("Connection","WebChannel received error:",a);var i=a.status,o=function(e){var t=xl[e];if(void 0!==t)return Nl(t)}(i),s=a.message;void 0===o&&(o=Ls.INTERNAL,s="Unknown error status: "+i+" with message "+a.message),l=!0,f.io(new Ms(o,s)),u.close()}else Is("Connection","WebChannel received:",n),f.ro(n)}})),h(i,ks.STAT_EVENT,(function(e){e.stat===bs.PROXY?Is("Connection","Detected buffering proxy"):e.stat===bs.NOPROXY&&Is("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){re(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ie(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,a){var i=this.ho(e,t);Is("RestConnection","Sending: ",i,n);var o={};return this.lo(o,r,a),this.fo(e,i,o,n).then((function(e){return Is("RestConnection","Received: ",e),e}),(function(t){throw js("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,a,i){return this.ao(e,t,n,r,a)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Sh[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Th(){return"undefined"!=typeof document?document:null}function Ch(e){return new tf(e,!0)}var Nh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;re(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=a,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return ie(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),a=Math.max(0,n-r);a>0&&Is("ExponentialBackoff","Backing off for ".concat(a," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Ih=function(){function e(t,n,r,a,i,o,s,u){re(this,e),this.Hs=t,this.vo=r,this.Vo=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Nh(t,n)}return ie(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Ls.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Ls.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),a=r[0],i=r[1];e.So===n&&e.Go(a,i)}),(function(n){t((function(){var t=new Ms(Ls.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Pt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Is("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Is("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ah=function(e){se(n,e);var t=he(n);function n(e,r,a,i,o,s){var u;return re(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,i,s)).yt=o,u}return ie(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rs()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.wt?(Ps(void 0===t||"string"==typeof t),Eu.fromBase64String(t||"")):(Ps(void 0===t||t instanceof Uint8Array),Eu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ls.UNKNOWN:Nl(e.code);return new Ms(t,e.message||"")}(o);n=new Ql(r,a,i,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=lf(e,u.document.name),l=of(u.document.updateTime),f=u.document.createTime?of(u.document.createTime):Zs.min(),h=new wc({mapValue:{fields:u.document.fields}}),d=Sc.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Wl(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=lf(e,m.document),y=m.readTime?of(m.readTime):Zs.min(),k=Sc.newNoDocument(g,y),b=m.removedTargetIds||[];n=new Wl([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=lf(e,w.document),S=w.removedTargetIds||[];n=new Wl([],S,x,null)}else{if(!("filter"in t))return Rs();t.filter;var E=t.filter;E.targetId;var _=E.count||0,T=new Tl(_),C=E.targetId;n=new Gl(C,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Zs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Zs.min():t.readTime?of(t.readTime):Zs.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=df(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Nc(r)?{documents:gf(e,r)}:{query:yf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rf(e,t.resumeToken):t.snapshotVersion.compareTo(Zs.min())>0&&(n.readTime=nf(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=df(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Ih),jh=function(e){se(n,e);var t=he(n);function n(e,r,a,i,o,s){var u;return re(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,i,s)).yt=o,u.Jo=!1,u}return ie(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,yr(ue(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ps(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Ps(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?of(e.updateTime):of(t);return n.isEqual(Zs.min())&&(n=of(t)),new ul(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=of(e.commitTime);return this.listener.Zo(n,t)}return Ps(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=df(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mf(t.yt,e)}))};this.Bo(n)}}]),n}(Ih),Oh=function(e){se(n,e);var t=he(n);function n(e,r,a,i){var o;return re(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=a,o.yt=i,o.nu=!1,o}return ie(n,[{key:"su",value:function(){if(this.nu)throw new Ms(Ls.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var i=f(a,2),o=i[0],s=i[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ls.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ms(Ls.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var a=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=f(i,2),s=o[0],u=o[1];return a.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ls.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Ms(Ls.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return ie((function e(){re(this,e)}))}());var Rh=function(){function e(t,n){re(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return ie(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(As(t),this.ou=!1):Is("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Ph=ie((function e(t,n,r,a,i){var o=this;re(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur((function(e){r.enqueueAndForget(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Wh(o),!e.t0){e.next=5;break}return Is("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ds(t))._u.add(4),e.next=4,Mh(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Dh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Rh(r,a)}));function Dh(e){return Lh.apply(this,arguments)}function Lh(){return Lh=Pt(Ot().mark((function e(t){var n,r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wh(t)){e.next=18;break}n=ve(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Lh.apply(this,arguments)}function Mh(e){return Uh.apply(this,arguments)}function Uh(){return Uh=Pt(Ot().mark((function e(t){var n,r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ve(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Uh.apply(this,arguments)}function Fh(e,t){var n=Ds(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Hh(n)?qh(n):bd(n).ko()&&Vh(n,t))}function zh(e,t){var n=Ds(e),r=bd(n);n.du.delete(t),r.ko()&&Bh(n,t),0===n.du.size&&(r.ko()?r.Fo():Wh(n)&&n.gu.set("Unknown"))}function Vh(e,t){e.yu.Ot(t.targetId),bd(e).zo(t)}function Bh(e,t){e.yu.Ot(t),bd(e).Ho(t)}function qh(e){e.yu=new Yl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),bd(e).start(),e.gu.uu()}function Hh(e){return Wh(e)&&!bd(e).No()&&e.du.size>0}function Wh(e){return 0===Ds(e)._u.size}function Gh(e){e.yu=void 0}function Qh(e){return Kh.apply(this,arguments)}function Kh(){return Kh=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Vh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gh(t),Hh(t)?(t.gu.hu(n),qh(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return Zh=Pt(Ot().mark((function e(t,n,r){var a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Ql&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pt(Ot().mark((function e(t,n){var r,a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=ve(n.targetIds),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=14;break}if(o=i.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Is("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$h(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wl?t.yu.Kt(n):n instanceof Gl?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Zs.min())){e.next=29;break}return e.prev=14,e.next=17,lh(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var a=e.du.get(r);a&&e.du.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Eu.EMPTY_BYTE_STRING,n.snapshotVersion)),Bh(e,t);var r=new Df(n.target,t,1,n.sequenceNumber);Vh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Is("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$h(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zh.apply(this,arguments)}function $h(e,t,n){return ed.apply(this,arguments)}function ed(){return ed=Pt(Ot().mark((function e(t,n,r){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pu(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Mh(t);case 5:t.gu.set("Offline"),r||(r=function(){return lh(t.localStore)}),t.asyncQueue.enqueueRetryable(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Is("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Dh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t){return t().catch((function(n){return $h(e,n,t)}))}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=Pt(Ot().mark((function e(t){var n,r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ds(t),r=wd(n),a=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ad(n)){e.next=19;break}return e.prev=3,e.next=6,dh(n.localStore,a);case 6:if(null!==(i=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:a=i.batchId,id(n,i),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$h(n,e.t0);case 17:e.next=2;break;case 19:od(n)&&sd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),rd.apply(this,arguments)}function ad(e){return Wh(e)&&e.fu.length<10}function id(e,t){e.fu.push(t);var n=wd(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function od(e){return Wh(e)&&!wd(e).No()&&e.fu.length>0}function sd(e){wd(e).start()}function ud(e){return cd.apply(this,arguments)}function cd(){return cd=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wd(t).eu();case 1:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e){return fd.apply(this,arguments)}function fd(){return fd=Pt(Ot().mark((function e(t){var n,r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wd(t),r=ve(t.fu);try{for(r.s();!(a=r.n()).done;)i=a.value,n.Xo(i.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e,t,n){return dd.apply(this,arguments)}function dd(){return dd=Pt(Ot().mark((function e(t,n,r){var a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fu.shift(),i=Rf.from(a,n,r),e.next=3,td(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}));case 3:return e.next=5,nd(t);case 5:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wd(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cl(a=n.code)||a===Ls.ABORTED){e.next=7;break}return r=t.fu.shift(),wd(t).Mo(),e.next=5,td(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,nd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:od(t)&&sd(t);case 5:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ds(t)).asyncQueue.verifyOperationInProgress(),Is("RemoteStore","RemoteStore received new credentials"),a=Wh(r),r._u.add(3),e.next=6,Mh(r);case 6:return a&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Dh(r);case 12:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function yd(e,t){return kd.apply(this,arguments)}function kd(){return kd=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ds(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Dh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Mh(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e){return e.pu||(e.pu=function(e,t,n){var r=Ds(e);return r.su(),new Ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Qh.bind(null,e),Zr:Yh.bind(null,e),Wo:Jh.bind(null,e)}),e.wu.push(function(){var t=Pt(Ot().mark((function t(n){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Hh(e)?qh(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Gh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function wd(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ds(e);return r.su(),new jh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ud.bind(null,e),Zr:pd.bind(null,e),tu:ld.bind(null,e),Zo:hd.bind(null,e)}),e.wu.push(function(){var t=Pt(Ot().mark((function t(n){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,nd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Is("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var xd=function(){function e(t,n,r,a,i){re(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ie(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ms(Ls.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,a,i){var o=new e(t,n,Date.now()+r,a,i);return o.start(r),o}}]),e}();function Sd(e,t){if(As("AsyncQueue","".concat(t,": ").concat(e)),pu(e))return new Ms(Ls.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ed=function(){function e(t){re(this,e),this.comparator=t?function(e,n){return t(e,n)||ru.comparator(e.key,n.key)}:function(e,t){return ru.comparator(e.key,t.key)},this.keyedMap=Rl(),this.sortedSet=new vc(this.comparator)}return ie(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_d=function(){function e(){re(this,e),this.Tu=new vc(ru.comparator)}return ie(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Rs():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Td=function(){function e(t,n,r,a,i,o,s,u,c){re(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return ie(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,a,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ed.emptySet(n),o,r,a,!0,!1,i)}}]),e}(),Cd=ie((function e(){re(this,e),this.Au=void 0,this.listeners=[]})),Nd=ie((function e(){re(this,e),this.queries=new Il((function(e){return zc(e)}),Fc),this.onlineState="Unknown",this.Ru=new Set}));function Id(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=Pt(Ot().mark((function e(t,n){var r,a,i,o,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ds(t),a=n.query,i=!1,(o=r.queries.get(a))||(i=!0,o=new Cd),!i){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Sd(e.t0,"Initialization of query '".concat(Vc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(a,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Dd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ad.apply(this,arguments)}function jd(e,t){return Od.apply(this,arguments)}function Od(){return Od=Pt(Ot().mark((function e(t,n){var r,a,i,o,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ds(t),a=n.query,i=!1,(o=r.queries.get(a))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),!i){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Rd(e,t){var n,r=Ds(e),a=!1,i=ve(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ve(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(a=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){i.e(f)}finally{i.f()}a&&Dd(r)}function Pd(e,t,n){var r=Ds(e),a=r.queries.get(t);if(a){var i,o=ve(a.listeners);try{for(o.s();!(i=o.n()).done;){i.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Dd(e){e.Ru.forEach((function(e){e.next()}))}var Ld=function(){function e(t,n,r){re(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return ie(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ve(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(o){r.e(o)}finally{r.f()}e=new Td(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var i=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),i=!0):this.Cu(e,this.onlineState)&&(this.xu(e),i=!0),this.Su=e,i}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var Md=ie((function e(t){re(this,e),this.key=t})),Ud=ie((function e(t){re(this,e),this.key=t})),Fd=function(){function e(t,n){re(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zl(),this.mutatedKeys=zl(),this.Gu=Hc(t),this.Qu=new Ed(this.Gu)}return ie(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new _d,a=t?t.Qu:this.Qu,i=t?t.mutatedKeys:this.mutatedKeys,o=a,s=!1,u="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,c="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((function(e,t){var l=a.get(e),f=Bc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:i}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var i=e.zu.Eu();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rs()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==i.length||u?{snapshot:new Td(this.query,e.Qu,a,i,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _d,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=zl(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Ud(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Md(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=zl();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Td.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),zd=ie((function e(t,n,r){re(this,e),this.query=t,this.targetId=n,this.view=r})),Vd=ie((function e(t){re(this,e),this.key=t,this.nc=!1})),Bd=function(){function e(t,n,r,a,i,o){re(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Il((function(e){return zc(e)}),Fc),this.rc=new Map,this.oc=new Set,this.uc=new vc(ru.comparator),this.cc=new Map,this.ac=new Kf,this.hc={},this.lc=new Map,this.fc=Bf.vn(),this.onlineState="Unknown",this.dc=void 0}return ie(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function qd(e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=Pt(Ot().mark((function e(t,n){var r,a,i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yp(t),!(o=r.ic.get(n))){e.next=6;break}a=o.targetId,r.sharedClientState.addLocalQueryTarget(a),i=o.view.ec(),e.next=15;break;case 6:return e.next=8,ph(r.localStore,Mc(n));case 8:return s=e.sent,r.isPrimaryClient&&Fh(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.targetId,e.next=14,Wd(r,n,a,"current"===u,s.resumeToken);case 14:i=e.sent;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Wd(e,t,n,r,a){return Gd.apply(this,arguments)}function Gd(){return Gd=Pt(Ot().mark((function e(t,n,r,a,i){var o,s,u,c,l,f;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Pt(Ot().mark((function e(t,n,r,a){var i,o,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.view.Wu(r),e.t0=i.$i,!e.t0){e.next=6;break}return e.next=5,gh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,i)}));case 5:i=e.sent;case 6:return o=a&&a.targetChanges.get(n.targetId),s=n.view.applyChanges(i,t.isPrimaryClient,o),e.abrupt("return",(lp(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gh(t.localStore,n,!0);case 3:return o=e.sent,s=new Fd(n,o.Hi),u=s.Wu(o.documents),c=Hl.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,i),l=s.applyChanges(u,t.isPrimaryClient,c),lp(t,r,l.Xu),f=new zd(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Qd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=Pt(Ot().mark((function e(t,n){var r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ds(t),a=r.ic.get(n),!((i=r.rc.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(a.targetId,i.filter((function(e){return!Fc(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,vh(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),zh(r.remoteStore,a.targetId),up(r,a.targetId)})).catch(fu);case 9:e.next=14;break;case 11:return up(r,a.targetId),e.next=14,vh(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Yd(e,t,n){return Xd.apply(this,arguments)}function Xd(){return Xd=Pt(Ot().mark((function e(t,n,r){var a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kp(t),e.prev=1,e.next=4,function(e,t){var n,r,a=Ds(e),i=Js.now(),o=t.reduce((function(e,t){return e.add(t.key)}),zl());return a.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=jl(),u=zl();return a.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return a.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ve(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=vl(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new yl(c.key,l,xc(l.value.mapValue),cl.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return a.mutationQueue.addMutationBatch(e,i,s,t)})).next((function(t){r=t;var i=t.applyToLocalDocumentSet(n,u);return a.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((function(){return{batchId:r.batchId,changes:Pl(n)}}))}(a.localStore,n);case 4:return i=e.sent,a.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new vc(Ys)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(a,i.batchId,r),e.next=9,dp(a,i.changes);case 9:return e.next=11,nd(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Sd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ds(t),e.prev=1,e.next=4,fh(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Ps(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Ps(n.nc):e.removedDocuments.size>0&&(Ps(n.nc),n.nc=!1))})),e.next=8,dp(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Zd.apply(this,arguments)}function $d(e,t,n){var r=Ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&a.push(r.snapshot)})),function(e,t){var n=Ds(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var a,i=ve(n.listeners);try{for(i.s();!(a=i.n()).done;){a.value.bu(t)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}})),r&&Dd(n)}(r.eventManager,t),a.length&&r.sc.Wo(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=Pt(Ot().mark((function e(t,n,r){var a,i,o,s,u,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Ds(t)).sharedClientState.updateQueryState(n,"rejected",r),i=a.cc.get(n),!(o=i&&i.key)){e.next=14;break}return s=(s=new vc(ru.comparator)).insert(o,Sc.newNoDocument(o,Zs.min())),u=zl().add(o),c=new ql(Zs.min(),new Map,new yc(Ys),s,u),e.next=9,Jd(a,c);case 9:a.uc=a.uc.remove(o),a.cc.delete(n),hp(a),e.next=16;break;case 14:return e.next=16,vh(a.localStore,n,!1).then((function(){return up(a,n,r)})).catch(fu);case 16:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=Pt(Ot().mark((function e(t,n){var r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ds(t),a=n.batch.batchId,e.prev=1,e.next=4,ch(r.localStore,n);case 4:return i=e.sent,sp(r,a,null),op(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,dp(r,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rp.apply(this,arguments)}function ap(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=Pt(Ot().mark((function e(t,n,r){var a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ds(t),e.prev=1,e.next=4,function(e,t){var n=Ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ps(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(a.localStore,n);case 4:return i=e.sent,sp(a,n,r),op(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dp(a,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ip.apply(this,arguments)}function op(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function sp(e,t,n){var r=Ds(e),a=r.hc[r.currentUser.toKey()];if(a){var i=a.get(t);i&&(n?i.reject(n):i.resolve(),a=a.remove(t)),r.hc[r.currentUser.toKey()]=a}}function up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=ve(e.rc.get(t));try{for(a.s();!(r=a.n()).done;){var i=r.value;e.ic.delete(i),n&&e.sc.wc(i,n)}}catch(o){a.e(o)}finally{a.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||cp(e,t)}))}function cp(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(zh(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),hp(e))}function lp(e,t,n){var r,a=ve(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i instanceof Md?(e.ac.addReference(i.key,t),fp(e,i)):i instanceof Ud?(Is("SyncEngine","Document no longer in limbo: "+i.key),e.ac.removeReference(i.key,t),e.ac.containsKey(i.key)||cp(e,i.key)):Rs()}}catch(o){a.e(o)}finally{a.f()}}function fp(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Is("SyncEngine","New document in limbo: "+n),e.oc.add(r),hp(e))}function hp(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ru(eu.fromString(t)),r=e.fc.next();e.cc.set(r,new Vd(n)),e.uc=e.uc.insert(n,r),Fh(e.remoteStore,new Df(Mc(jc(n.path)),r,2,vu.at))}}function dp(e,t,n){return pp.apply(this,arguments)}function pp(){return pp=Pt(Ot().mark((function e(t,n,r){var a,i,o,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ds(t),i=[],o=[],s=[],e.t0=a.ic.isEmpty(),e.t0){e.next=9;break}return a.ic.forEach((function(e,t){s.push(a._c(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);var n=rh.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.sc.Wo(i),e.next=9,function(){var e=Pt(Ot().mark((function e(t,n){var r,a,i,o,s,u,c,l;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ds(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return du.forEach(n,(function(t){return du.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return du.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pu(e.t0)){e.next=10;break}throw e.t0;case 10:Is("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=ve(n);try{for(a.s();!(i=a.n()).done;)o=i.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){a.e(f)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){return mp.apply(this,arguments)}function mp(){return mp=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ds(t)).currentUser.isEqual(n)){e.next=11;break}return Is("SyncEngine","User change. New user:",n.toKey()),e.next=5,sh(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Ms(Ls.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,dp(r,a.ji);case 11:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function gp(e,t){var n=Ds(e),r=n.cc.get(t);if(r&&r.nc)return zl().add(r.key);var a=zl(),i=n.rc.get(t);if(!i)return a;var o,s=ve(i);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);a=a.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return a}function yp(e){var t=Ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ep.bind(null,t),t.sc.Wo=Rd.bind(null,t.eventManager),t.sc.wc=Pd.bind(null,t.eventManager),t}function kp(e){var t=Ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=np.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ap.bind(null,t),t}var bp=function(){function e(){re(this,e),this.synchronizeTabs=!1}return ie(e,[{key:"initialize",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return oh(this.persistence,new ah,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new eh(nh.Bs,this.yt)}},{key:"gc",value:function(e){return new bh}},{key:"terminate",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wp=function(){function e(){re(this,e)}return ie(e,[{key:"initialize",value:function(){var e=Pt(Ot().mark((function e(t,n){var r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $d(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vp.bind(null,this.syncEngine),e.next=12,yd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Nd}},{key:"createDatastore",value:function(e){var t,n=Ch(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _h(t));return function(e,t,n,r){return new Oh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,a,i,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,a=function(e){return $d(o.syncEngine,e,0)},i=xh.C()?new xh:new wh,new Ph(t,n,r,a,i)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,a,i,o){var s=new Bd(e,t,n,r,a,i);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ds(t),Is("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Mh(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function xp(e,t,n){if(!n)throw new Ms(Ls.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Sp(e){if(!ru.isDocumentKey(e))throw new Ms(Ls.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ep(e){if(ru.isDocumentKey(e))throw new Ms(Ls.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _p(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Rs()}function Tp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ms(Ls.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_p(e);throw new Ms(Ls.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Cp=new Map,Np=function(){function e(t){var n;if(re(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ms(Ls.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ms(Ls.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Ms(Ls.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ie(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ip=function(){function e(t,n,r,a){re(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1}return ie(e,[{key:"app",get:function(){if(!this._app)throw new Ms(Ls.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ms(Ls.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zs;switch(e.type){case"gapi":var t=e.client;return new Hs(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ms(Ls.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Cp.get(e);t&&(Is("ComponentProvider","Removing Datastore"),Cp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ap(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e=Tp(e,Ip))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&js("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:"".concat(t,":").concat(n),ssl:!1})),a.mockUserToken){var o,s;if("string"==typeof a.mockUserToken)o=a.mockUserToken,s=_s.MOCK_USER;else{o=Gt(a.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=a.mockUserToken.sub||a.mockUserToken.user_id;if(!u)throw new Ms(Ls.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _s(u)}e._authCredentials=new Vs(new Fs(o,s))}}var jp=function(){function e(t,n,r){re(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ie(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Rp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Op=function(){function e(t,n,r){re(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ie(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Rp=function(e){se(n,e);var t=he(n);function n(e,r,a){var i;return re(this,n),(i=t.call(this,e,r,jc(a)))._path=a,i.type="collection",i}return ie(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jp(this.firestore,null,new ru(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Op);function Pp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=un(e),xp("collection","path",t),e instanceof Ip){var i=eu.fromString.apply(eu,[t].concat(r));return Ep(i),new Rp(e,null,i)}if(!(e instanceof jp||e instanceof Rp))throw new Ms(Ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(eu.fromString.apply(eu,[t].concat(r)));return Ep(o),new Rp(e.firestore,null,o)}function Dp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=un(e),1===arguments.length&&(t=Ks.R()),xp("doc","path",t),e instanceof Ip){var i=eu.fromString.apply(eu,[t].concat(r));return Sp(i),new jp(e,null,new ru(i))}if(!(e instanceof jp||e instanceof Rp))throw new Ms(Ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(eu.fromString.apply(eu,[t].concat(r)));return Sp(o),new jp(e.firestore,e instanceof Rp?e.converter:null,new ru(o))}var Lp=function(){function e(t){re(this,e),this.observer=t,this.muted=!1}return ie(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mp=function(){function e(t,n,r,a){var i=this;re(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=_s.UNAUTHENTICATED,this.clientId=Ks.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Is("FirestoreClient","Received user=",t.uid),e.next=3,i.authCredentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Is("FirestoreClient","Received new app check token=",e),i.appCheckCredentialListener(e,i.user)}))}return ie(e,[{key:"getConfiguration",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ms(Ls.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pt(Ot().mark((function n(){var r;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Sd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Up(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Is("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,sh(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function zp(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Bp(t);case 3:return r=e.sent,Is("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return md(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return md(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Bp(e){return qp.apply(this,arguments)}function qp(){return qp=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Is("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Up(t,new bp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Hp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Is("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,zp(t,new wp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Gp(e){return Hp(e).then((function(e){return e.syncEngine}))}function Qp(e){return Kp.apply(this,arguments)}function Kp(){return Kp=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=qd.bind(null,n.syncEngine),r.onUnlisten=Qd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}var Yp=function(){function e(){var t=this;re(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Nh(this,"async_queue_retry"),this.Wc=function(){var e=Th();e&&Is("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Th();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return ie(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Us;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Pt(Ot().mark((function e(){var t=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pu(e.t0)){e.next=12;break}throw e.t0;case 12:Is("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw As("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var a=xd.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(a),a}},{key:"zc",value:function(){this.Kc&&Rs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=ve(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ve(t.Uc);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(i){r.e(i)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Xp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,a=ve(["next","error","complete"]);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"==typeof r[i])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}(e)}var Jp=function(e){se(n,e);var t=he(n);function n(e,r,a,i){var o;return re(this,n),(o=t.call(this,e,r,a,i)).type="firestore",o._queue=new Yp,o._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]",o}return ie(n,[{key:"_terminate",value:function(){return this._firestoreClient||$p(this),this._firestoreClient.terminate()}}]),n}(Ip);function Zp(e){return e._firestoreClient||$p(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $p(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,r)}var ev=function(){function e(t){re(this,e),this._byteString=t}return ie(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Eu.fromBase64String(t))}catch(t){throw new Ms(Ls.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Eu.fromUint8Array(t))}}]),e}(),tv=function(){function e(){re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new Ms(Ls.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nu(n)}return ie(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nv=ie((function e(t){re(this,e),this._methodName=t})),rv=function(){function e(t,n){if(re(this,e),!isFinite(t)||t<-90||t>90)throw new Ms(Ls.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ms(Ls.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ie(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ys(this._lat,e._lat)||Ys(this._long,e._long)}}]),e}(),av=/^__.*__$/,iv=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ie(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}]),e}();function ov(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rs()}}var sv=function(){function e(t,n,r,a,i,o){re(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=a,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return ie(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return kv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ov(this.sa)&&av.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),uv=function(){function e(t,n,r){re(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Ch(t)}return ie(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sv({sa:e,methodName:t,fa:n,path:nu.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function cv(e){var t=e._freezeSettings(),n=Ch(e._databaseId);return new uv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lv(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(i.merge||i.mergeFields?2:0,t,n,a);vv("Data must be an object, but it was:",o,r);var s,u,c=dv(r,o);if(i.merge)s=new bc(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){var l,f=[],h=ve(i.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mv(t,d,n);if(!o.contains(p))throw new Ms(Ls.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));bv(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new bc(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new iv(new wc(c),s,u)}var fv=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"_toFieldTransform",value:function(e){return new sl(e.path,new $c)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nv);function hv(e,t){if(pv(e=un(e)))return vv("Unsupported field value:",t,e),dv(e,t);if(e instanceof nv)return function(e,t){if(!ov(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,i=ve(e);try{for(i.s();!(n=i.n()).done;){var o=hv(n.value,t.aa(a));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),a++}}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=un(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kc(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Js.fromDate(e);return{timestampValue:nf(t.yt,n)}}if(e instanceof Js){var r=new Js(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nf(t.yt,r)}}if(e instanceof rv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ev)return{bytesValue:rf(t.yt,e._byteString)};if(e instanceof jp){var a=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(a))throw t.ha("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(a.projectId,"/").concat(a.database));return{referenceValue:sf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(_p(e)))}(e,t)}function dv(e,t){var n={};return bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ku(e,(function(e,r){var a=hv(r,t.ra(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function pv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Js||e instanceof rv||e instanceof ev||e instanceof jp||e instanceof nv)}function vv(e,t,n){if(!pv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_p(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function mv(e,t,n){if((t=un(t))instanceof tv)return t._internalPath;if("string"==typeof t)return yv(e,t);throw kv("Field path arguments must be of type string or ",e,!1,void 0,n)}var gv=new RegExp("[~\\*/\\[\\]]");function yv(e,t,n){if(t.search(gv)>=0)throw kv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return de(tv,m(t.split(".")))._internalPath}catch(r){throw kv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kv(e,t,n,r,a){var i=r&&!r.isEmpty(),o=void 0!==a,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(i||o)&&(u+=" (found",i&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(a)),u+=")"),new Ms(Ls.INVALID_ARGUMENT,s+e+u)}function bv(e,t){return e.some((function(e){return e.isEqual(t)}))}var wv=function(){function e(t,n,r,a,i){re(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}return ie(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Sv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),xv=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"data",value:function(){return yr(ue(n.prototype),"data",this).call(this)}}]),n}(wv);function Sv(e,t){return"string"==typeof t?yv(e,t):t instanceof tv?t._internalPath:t._delegate._internalPath}function Ev(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ms(Ls.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _v=function(){function e(){re(this,e)}return ie(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ku(e.fields,(function(e,a){r[e]=n.convertValue(a,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rv(Cu(e.latitude),Cu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Au(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ju(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Tu(e);return new Js(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=eu.fromString(e);Ps(Nf(n));var r=new gu(n.get(1),n.get(3)),a=new ru(n.popFirst(5));return r.isEqual(t)||As("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}]),e}();function Tv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Cv=function(){function e(t,n){re(this,e),this.hasPendingWrites=t,this.fromCache=n}return ie(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Nv=function(e){se(n,e);var t=he(n);function n(e,r,a,i,o,s){var u;return re(this,n),(u=t.call(this,e,r,a,i,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ie(n,[{key:"exists",value:function(){return yr(ue(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Sv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wv),Iv=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yr(ue(n.prototype),"data",this).call(this,e)}}]),n}(Nv),Av=function(){function e(t,n,r,a){re(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cv(a.hasPendingWrites,a.fromCache),this.query=r}return ie(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Iv(n._firestore,n._userDataWriter,r.key,r,new Cv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ms(Ls.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Iv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Iv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jv(t.type),doc:n,oldIndex:a,newIndex:i}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function jv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rs()}}var Ov=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ie(n,[{key:"convertBytes",value:function(e){return new ev(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jp(this.firestore,null,t)}}]),n}(_v);function Rv(e,t,n){e=Tp(e,jp);var r=Tp(e.firestore,Jp),a=Tv(e.converter,t,n);return Lv(r,[lv(cv(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,cl.none())])}function Pv(e){return Lv(Tp(e.firestore,Jp),[new El(e._key,cl.none())])}function Dv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,i,o;e=un(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Xp(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Xp(n[u])){var d=n[u];n[u]=null===(a=d.next)||void 0===a?void 0:a.bind(d),n[u+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof jp)l=Tp(e.firestore,Jp),f=jc(e._key.path),c={next:function(t){n[u]&&n[u](Mv(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Tp(e,Op);l=Tp(p.firestore,Jp),f=p._query;var v=new Ov(l);c={next:function(e){n[u]&&n[u](new Av(l,v,p,e))},error:n[u+1],complete:n[u+2]},Ev(e._query)}return function(e,t,n,r){var a=new Lp(r),i=new Ld(t,a,n);return e.asyncQueue.enqueueAndForget(Pt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Id,t.next=3,Qp(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){a.bc(),e.asyncQueue.enqueueAndForget(Pt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jd,t.next=3,Qp(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zp(l),f,h,c)}function Lv(e,t){return function(e,t){var n=new Us;return e.asyncQueue.enqueueAndForget(Pt(Ot().mark((function r(){return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Yd,r.next=3,Gp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zp(e),t)}function Mv(e,t,n){var r=n.docs.get(t._key),a=new Ov(e);return new Nv(e,a,t._key,r,new Cv(n.hasPendingWrites,n.fromCache),t.converter)}function Uv(){return new fv("serverTimestamp")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ts=e}($n),Kn(new cn("firestore",(function(e,n){var r=n.instanceIdentifier,a=n.options,i=e.getProvider("app").getImmediate(),o=new Jp(new Bs(e.getProvider("auth-internal")),new Gs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ms(Ls.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),nr(Es,"3.8.1",e),nr(Es,"3.8.1","esm2017")}();var Fv="firebasestorage.googleapis.com",zv="storageBucket",Vv=function(e){se(n,e);var t=he(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(this,n),(a=t.call(this,Bv(e),"Firebase Storage: ".concat(r," (").concat(Bv(e),")"))).status_=i,a.customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf(le(a),n.prototype),a}return ie(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Bv(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Xt);function Bv(e){return"storage/"+e}function qv(){return new Vv("unknown","An unknown error occurred, please check the error payload for server response.")}function Hv(){return new Vv("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Wv(){return new Vv("canceled","User canceled the upload/download.")}function Gv(){return new Vv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qv(e){return new Vv("invalid-argument",e)}function Kv(){return new Vv("app-deleted","The Firebase app was deleted.")}function Yv(e,t){return new Vv("invalid-format","String does not match format '"+e+"': "+t)}function Xv(e){throw new Vv("internal-error","Internal error: "+e)}var Jv,Zv=function(){function e(t,n){re(this,e),this.bucket=t,this.path_=n}return ie(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw new Vv("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,a="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+a+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(a,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Fv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(a,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Vv("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),$v=function(){function e(t){re(this,e),this.promise_=Promise.reject(t)}return ie(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function em(e){return"string"===typeof e||e instanceof String}function tm(e){return nm()&&e instanceof Blob}function nm(){return"undefined"!==typeof Blob&&!Kt()}function rm(e,t,n,r){if(r<t)throw Qv("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Qv("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function am(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function im(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function om(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Jv||(Jv={}));var sm=function(){function e(t,n,r,a,i,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];re(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ie(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,a=e.reject_,i=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(i,i.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){a(u)}else if(null!==i){var s=qv();s.serverResponse=i.getErrorText(),e.errorCallback_?a(e.errorCallback_(i,s)):a(s)}else{if(n.canceled)a(e.appDelete_?Kv():Wv());else a(Hv())}};this.canceled_?t(0,new um(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,a=null,i=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){a=setTimeout((function(){a=null,e(d,u())}),t)}function h(){i&&clearTimeout(i)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var i;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),f(i)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==a?(e||(s=2),clearTimeout(a),f(0)):e||(s=1)))}return f(0),i=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new um(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var a=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(a),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(a),e.pendingConnection_=null;var n=r.getErrorCode()===Jv.NO_ERROR,i=r.getStatus();if(!n||om(i,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Jv.ABORT;t(!1,new um(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(i);t(!0,new um(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),um=ie((function e(t,n,r){re(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cm(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function lm(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function fm(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hm(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function dm(e,t,n,r,a,i){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=im(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return fm(c,t),cm(c,n),lm(c,i),hm(c,r),new sm(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o)}function pm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vm(){for(var e=pm(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var a=new e,i=0;i<n.length;i++)a.append(n[i]);return a.getBlob()}if(nm())return new Blob(n);throw new Vv("unsupported-environment","This browser doesn't seem to support creating Blobs")}function mm(e){if("undefined"===typeof atob)throw new Vv("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var gm="raw",ym="base64",km="base64url",bm="data_url",wm=ie((function e(t,n){re(this,e),this.data=t,this.contentType=n||null}));function xm(e,t){switch(e){case gm:return new wm(Sm(t));case ym:case km:return new wm(Em(e,t));case bm:return new wm(function(e){var t=new _m(e);return t.base64?Em(ym,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Yv(bm,"Malformed data URL.")}return Sm(t)}(t.rest)}(t),new _m(t).contentType)}throw qv()}function Sm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Em(e,t){switch(e){case ym:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Yv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case km:var a=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(a||i)throw Yv(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=mm(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Yv(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var _m=ie((function e(t){re(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Yv(bm,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Tm=function(){function e(t,n){re(this,e);var r=0,a="";tm(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}return ie(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(tm(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var a=new Uint8Array(this.data_.buffer,t,n-t);return new e(a,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(nm()){var a=n.map((function(t){return t instanceof e?t.data_:t}));return new e(vm.apply(null,a))}var i=n.map((function(e){return em(e)?xm(gm,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Cm(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Nm(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Im(e,t){return t}var Am=ie((function e(t,n,r,a){re(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||Im})),jm=null;function Om(){if(jm)return jm;var e=[];e.push(new Am("bucket")),e.push(new Am("generation")),e.push(new Am("metageneration")),e.push(new Am("name","fullPath",!0));var t=new Am("name");t.xform=function(e,t){return function(e){return!em(e)||e.length<2?e:Nm(e)}(t)},e.push(t);var n=new Am("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Am("timeCreated")),e.push(new Am("updated")),e.push(new Am("md5Hash",null,!0)),e.push(new Am("cacheControl",null,!0)),e.push(new Am("contentDisposition",null,!0)),e.push(new Am("contentEncoding",null,!0)),e.push(new Am("contentLanguage",null,!0)),e.push(new Am("contentType",null,!0)),e.push(new Am("metadata","customMetadata",!0)),jm=e}function Rm(e,t,n){for(var r={type:"file"},a=n.length,i=0;i<a;i++){var o=n[i];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,a=new Zv(n,r);return t._makeStorageReference(a)}})}(r,e),r}function Pm(e,t,n){var r=Cm(t);return null===r?null:Rm(e,r,n)}function Dm(e,t){for(var n={},r=t.length,a=0;a<r;a++){var i=t[a];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}var Lm=ie((function e(t,n,r,a){re(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Mm(e){if(!e)throw qv()}function Um(e,t){return function(n,r){var a=Pm(e,r,t);return Mm(null!==a),a}}function Fm(e,t){return function(n,r){var a=Pm(e,r,t);return Mm(null!==a),function(e,t,n,r){var a=Cm(t);if(null===a)return null;if(!em(a.downloadTokens))return null;var i=a.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var a=e.bucket,i=e.fullPath;return am("/b/"+o(a)+"/o/"+o(i),n,r)+im({alt:"media",token:t})}))[0]}(a,r,e.host,e._protocol)}}function zm(e){return function(t,n){var r,a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Vv("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Vv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Vv("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new Vv("unauthorized","User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Vm(e){var t=zm(e);return function(n,r){var a,i=t(n,r);return 404===n.getStatus()&&(a=e.path,i=new Vv("object-not-found","Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Bm(e,t,n){var r=am(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new Lm(r,"GET",Um(e,n),a);return i.errorHandler=Vm(t),i}function qm(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Hm(e,t,n,r,a){var i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=qm(t,r,a),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dm(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Tm.getBlob(c,r,l);if(null===f)throw Gv();var h={name:u.fullPath},d=am(i,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Lm(d,"POST",Um(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=zm(t),v}var Wm=ie((function e(t,n,r,a){re(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=a||null}));function Gm(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Mm(!1)}return Mm(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Qm=262144;function Km(e,t,n,r,a,i,o,s){var u=new Wm(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Vv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;a>0&&(l=Math.min(l,a));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw Gv();var v=t.maxUploadRetryTime,m=new Lm(n,"POST",(function(e,n){var a,o=Gm(e,["active","final"]),s=u.current+l,c=r.size();return a="final"===o?Um(t,i)(e,n):null,new Wm(s,c,"final"===o,a)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=zm(e),m}var Ym="running",Xm="paused",Jm="success",Zm="canceled",$m="error";function eg(e){switch(e){case"running":case"pausing":case"canceling":return Ym;case"paused":return Xm;case"success":return Jm;case"canceled":return Zm;default:return $m}}var tg=ie((function e(t,n,r){re(this,e);var a=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(a)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}));function ng(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var rg=function(){function e(){var t=this;re(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jv.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Jv.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Jv.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ie(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Xv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Xv("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Xv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Xv("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Xv("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ag=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.apply(this,arguments)}return ie(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(rg);function ig(){return new ag}var og=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;re(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=Om(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(om(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Hv()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ie(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=f(n,2),a=r[0],i=r[1];switch(t._state){case"running":e(a,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,a){var i=t.bucketOnlyServerUrl(),o=qm(t,r,a),s={name:o.fullPath},u=am(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Dm(o,n),f=e.maxUploadRetryTime,h=new Lm(u,"POST",(function(e){var t;Gm(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Mm(!1)}return Mm(em(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=zm(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(r,ig,t,n);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var a=function(e,t,n,r){var a=e.maxUploadRetryTime,i=new Lm(n,"POST",(function(e){var t=Gm(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(i){Mm(!1)}n||Mm(!1);var a=Number(n);return Mm(!isNaN(a)),new Wm(a,r.size(),"final"===t)}),a);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=zm(t),i}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(a,ig,n,r);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Qm*this._chunkMultiplier,n=new Wm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(a,i){var o;try{o=Km(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,ig,a,i,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(Qm*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Bm(e._ref.storage,e._ref._location,e._mappings),a=e._ref.storage._makeRequest(r,ig,t,n);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Hm(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(r,ig,t,n);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Wv(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=eg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var a=this,i=new tg(t||void 0,n||void 0,r||void 0);return this._addObserver(i),function(){a._removeObserver(i)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(eg(this._state)){case Jm:ng(this._resolve.bind(null,this.snapshot))();break;case Zm:case $m:ng(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(eg(this._state)){case Ym:case Xm:e.next&&ng(e.next.bind(e,this.snapshot))();break;case Jm:e.complete&&ng(e.complete.bind(e))();break;default:e.error&&ng(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),sg=function(){function e(t,n){re(this,e),this._service=t,this._location=n instanceof Zv?n:Zv.makeFromUrl(n,t.host)}return ie(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Zv(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Nm(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Zv(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Vv("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function ug(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=am(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new Lm(r,"GET",Fm(e,n),a);return i.errorHandler=Vm(t),i}(e.storage,e._location,Om());return e.storage.makeRequestWithTokens(t,ig).then((function(e){if(null===e)throw new Vv("no-download-url","The given file does not have any download URLs.");return e}))}function cg(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=am(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,a=new Lm(n,"DELETE",(function(e,t){}),r);return a.successCodes=[200,204],a.errorHandler=Vm(t),a}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ig)}function lg(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Zv(e._location.bucket,n);return new sg(e.storage,r)}function fg(e,t){if(e instanceof vg){var n=e;if(null==n._bucket)throw new Vv("no-default-bucket","No default bucket found. Did you set the '"+zv+"' property when initializing the app?");var r=new sg(n,n._bucket);return null!=t?fg(r,t):r}return void 0!==t?lg(e,t):e}function hg(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof vg)return new sg(e,t);throw Qv("To use ref(service, url), the first argument must be a Storage instance.")}return fg(e,t)}function dg(e,t){var n=null===t||void 0===t?void 0:t[zv];return null==n?null:Zv.makeFromBucketSpec(n,e)}function pg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var a=r.mockUserToken;a&&(e._overrideAuthToken="string"===typeof a?a:Gt(a,e.app.options.projectId))}var vg=function(){function e(t,n,r,a,i){re(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=Fv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Zv.makeFromBucketSpec(a,this._host):dg(this._host,this.app.options)}return ie(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Zv.makeFromBucketSpec(this._url,e):this._bucket=dg(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){rm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){rm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Pt(Ot().mark((function e(){var t,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Pt(Ot().mark((function e(){var t,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new sg(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var a=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new $v(Kv());var o=dm(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((function(){return a._requests.delete(o)}),(function(){return a._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Pt(Ot().mark((function e(t,n){var r,a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=f(r,2),i=a[0],o=a[1],e.abrupt("return",this._makeRequest(t,n,i,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),mg="@firebase/storage",gg="0.10.1",yg="storage";function kg(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new og(e,new Tm(t),n)}(e=un(e),t,n)}function bg(e){return ug(e=un(e))}function wg(e){return cg(e=un(e))}function xg(e,t){return hg(e=un(e),t)}function Sg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};pg(e,t,n,r)}function Eg(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new vg(r,a,i,n,$n)}Kn(new cn(yg,Eg,"PUBLIC").setMultipleInstances(!0)),nr(mg,gg,""),nr(mg,gg,"esm2017");function _g(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;var Tg;Object.create;function Cg(){return o({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ng=Cg,Ig=new Jt("auth","Firebase",Cg()),Ag=new bn("@firebase/auth");function jg(e){if(Ag.logLevel<=dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ag.error.apply(Ag,["Auth (".concat($n,"): ").concat(e)].concat(n))}}function Og(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Lg.apply(void 0,[e].concat(n))}function Rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Lg.apply(void 0,[e].concat(n))}function Pg(e,t,n){var r=Object.assign(Object.assign({},Ng()),o({},t,n));return new Jt("auth","Firebase",r).create(t,{appName:e.name})}function Dg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Og(e,"argument-error"),Pg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Lg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,i=n[0],o=m(n.slice(1));return o[0]&&(o[0].appName=e.name),(a=e._errorFactory).create.apply(a,[i].concat(m(o)))}return Ig.create.apply(Ig,[e].concat(n))}function Mg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Lg.apply(void 0,[t].concat(r))}}function Ug(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jg(t),new Error(t)}function Fg(e,t){e||Ug(t)}var zg=new Map;function Vg(e){Fg(e instanceof Function,"Expected a class definition");var t=zg.get(e);return t?(Fg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zg.set(e,t),t)}function Bg(e,t){var n=Yn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(en(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Og(r,"already-initialized")}return n.initialize({options:t})}function qg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hg(){return"http:"===Wg()||"https:"===Wg()}function Wg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Gg(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hg()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Qg=function(){function e(t,n){re(this,e),this.shortDelay=t,this.longDelay=n,Fg(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return ie(e,[{key:"get",value:function(){return Gg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Kg(e,t){Fg(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Yg=function(){function e(){re(this,e)}return ie(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ug("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ug("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ug("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Xg=(o(Tg={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),o(Tg,"MISSING_CUSTOM_TOKEN","internal-error"),o(Tg,"INVALID_IDENTIFIER","invalid-email"),o(Tg,"MISSING_CONTINUE_URI","internal-error"),o(Tg,"INVALID_PASSWORD","wrong-password"),o(Tg,"MISSING_PASSWORD","internal-error"),o(Tg,"EMAIL_EXISTS","email-already-in-use"),o(Tg,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),o(Tg,"INVALID_IDP_RESPONSE","invalid-credential"),o(Tg,"INVALID_PENDING_TOKEN","invalid-credential"),o(Tg,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),o(Tg,"MISSING_REQ_TYPE","internal-error"),o(Tg,"EMAIL_NOT_FOUND","user-not-found"),o(Tg,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),o(Tg,"EXPIRED_OOB_CODE","expired-action-code"),o(Tg,"INVALID_OOB_CODE","invalid-action-code"),o(Tg,"MISSING_OOB_CODE","internal-error"),o(Tg,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),o(Tg,"INVALID_ID_TOKEN","invalid-user-token"),o(Tg,"TOKEN_EXPIRED","user-token-expired"),o(Tg,"USER_NOT_FOUND","user-token-expired"),o(Tg,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),o(Tg,"INVALID_CODE","invalid-verification-code"),o(Tg,"INVALID_SESSION_INFO","invalid-verification-id"),o(Tg,"INVALID_TEMPORARY_PROOF","invalid-credential"),o(Tg,"MISSING_SESSION_INFO","missing-verification-id"),o(Tg,"SESSION_EXPIRED","code-expired"),o(Tg,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),o(Tg,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),o(Tg,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),o(Tg,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),o(Tg,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),o(Tg,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),o(Tg,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),o(Tg,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),o(Tg,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),o(Tg,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),o(Tg,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Tg),Jg=new Qg(3e4,6e4);function Zg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $g(e,t,n,r){return ey.apply(this,arguments)}function ey(){return ey=Pt(Ot().mark((function e(t,n,r,a){var i,o=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ty(t,i,Pt(Ot().mark((function e(){var i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},o={},a&&("GET"===n?o=a:i={body:JSON.stringify(a)}),s=nn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Yg.fetch()(iy(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t,n){return ny.apply(this,arguments)}function ny(){return ny=Pt(Ot().mark((function e(t,n,r){var a,i,o,s,u,c,l,h,d,p;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Xg),n),e.prev=2,i=new oy(t),e.next=6,Promise.race([r(),i.promise]);case 6:return o=e.sent,i.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw sy(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw sy(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw sy(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw sy(t,"user-disabled",s);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Pg(t,p,d);case 34:Og(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Xt)){e.next=41;break}throw e.t0;case 41:Og(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ny.apply(this,arguments)}function ry(e,t,n,r){return ay.apply(this,arguments)}function ay(){return ay=Pt(Ot().mark((function e(t,n,r,a){var i,o,s=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,$g(t,n,r,a,i);case 3:return"mfaPendingCredential"in(o=e.sent)&&Og(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function iy(e,t,n,r){var a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Kg(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var oy=function(){function e(t){var n=this;re(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Rg(n.auth,"network-request-failed"))}),Jg.get())}))}return ie(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sy(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var a=Rg(e,t,r);return a.customData._tokenResponse=n,a}function uy(e,t){return cy.apply(this,arguments)}function cy(){return cy=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$g(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$g(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function dy(){return dy=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=un(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,Mg((i=vy(a))&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error"),o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:i,token:a,authTime:hy(py(i.auth_time)),issuedAtTime:hy(py(i.iat)),expirationTime:hy(py(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e){return 1e3*Number(e)}function vy(e){var t=f(e.split("."),3),n=t[0],r=t[1],a=t[2];if(void 0===n||void 0===r||void 0===a)return jg("JWT malformed, contained fewer than 3 sections"),null;try{var i=Ut(r);return i?JSON.parse(i):(jg("Failed to decode base64 JWT payload"),null)}catch(o){return jg("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function my(e,t){return gy.apply(this,arguments)}function gy(){return gy=Pt(Ot().mark((function e(t,n){var r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Xt&&yy(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gy.apply(this,arguments)}function yy(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ky=function(){function e(t){re(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ie(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Pt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),by=function(){function e(t,n){re(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ie(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=hy(this.lastLoginAt),this.creationTime=hy(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function wy(e){return xy.apply(this,arguments)}function xy(){return xy=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u,c,l,f,h;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,my(t,ly(r,{idToken:a}));case 6:Mg(null===(i=e.sent)||void 0===i?void 0:i.users.length,r,"internal-error"),o=i.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?_y(o.providerUserInfo):[],u=Ey(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new by(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function Sy(){return(Sy=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=un(t),e.next=3,wy(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ey(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(m(n),m(t))}function _y(e){return e.map((function(e){var t=e.providerId,n=_g(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ty(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ty(t,{},Pt(Ot().mark((function e(){var r,a,i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nn({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,i=a.tokenApiHost,o=a.apiKey,s=iy(t,i,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Yg.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}var Ny=function(){function e(){re(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ie(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Mg(e.idToken,"internal-error"),Mg("undefined"!==typeof e.idToken,"internal-error"),Mg("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=vy(e);return Mg(t,"internal-error"),Mg("undefined"!==typeof t.exp,"internal-error"),Mg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Pt(Ot().mark((function e(t){var n,r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Mg(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Pt(Ot().mark((function e(t,n){var r,a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ty(t,n);case 2:r=e.sent,a=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(a,i,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ug("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,a=n.accessToken,i=n.expirationTime,o=new e;return r&&(Mg("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),a&&(Mg("string"===typeof a,"internal-error",{appName:t}),o.accessToken=a),i&&(Mg("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}}]),e}();function Iy(e,t){Mg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ay=function(){function e(t){re(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,i=_g(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ky(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?m(i.providerData):[],this.metadata=new by(i.createdAt||void 0,i.lastLoginAt||void 0)}return ie(e,[{key:"getIdToken",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,my(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Mg(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return dy.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Sy.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Mg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Mg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Pt(Ot().mark((function e(t){var n,r,a=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,wy(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,my(this,uy(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,a,i,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(a=n.email)&&void 0!==a?a:void 0,d=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Mg(k&&S,t,"internal-error");var E=Ny.fromJSON(this.name,S);Mg("string"===typeof k,t,"internal-error"),Iy(f,t.name),Iy(h,t.name),Mg("boolean"===typeof b,t,"internal-error"),Mg("boolean"===typeof w,t,"internal-error"),Iy(d,t.name),Iy(p,t.name),Iy(v,t.name),Iy(m,t.name),Iy(g,t.name),Iy(y,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Pt(Ot().mark((function t(n,r){var a,i,o,s=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],(i=new Ny).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:i,isAnonymous:a}),t.next=6,wy(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),jy=function(){function e(){re(this,e),this.type="NONE",this.storage={}}return ie(e,[{key:"_isAvailable",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();jy.type="NONE";var Oy=jy;function Ry(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Py=function(){function e(t,n,r){re(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,i=a.config,o=a.name;this.fullUserKey=Ry(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ry("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ie(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ay._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Pt(Ot().mark((function t(n,r){var a,i,o,s,u,c,l,f,h,d,p,v=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Vg(Oy),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:i=t.sent.filter((function(e){return e})),o=i[0]||Vg(Oy),s=Ry(a,n.config.apiKey,n.name),u=null,c=ve(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ay._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=i.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,a));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Dy(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ly(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vy(t))return"Blackberry";if(By(t))return"Webos";if(My(t))return"Safari";if((t.includes("chrome/")||Uy(t))&&!t.includes("edge/"))return"Chrome";if(zy(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/firefox\//i.test(e)}function My(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/crios\//i.test(e)}function Fy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iemobile/i.test(e)}function zy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/android/i.test(e)}function Vy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/blackberry/i.test(e)}function By(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/webos/i.test(e)}function qy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hy(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return qy(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Wy(){return function(){var e=Qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Gy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return qy(e)||zy(e)||By(e)||Vy(e)||/windows phone/i.test(e)||Fy(e)}function Qy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Dy(Qt());break;case"Worker":t="".concat(Dy(Qt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($n,"/").concat(r)}var Ky=function(){function e(t){re(this,e),this.auth=t,this.queue=[]}return ie(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(a){r(a)}}))};r.onAbort=t,this.queue.push(r);var a=this.queue.length-1;return function(){n.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ve(this.queue),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=11,i(t);case 11:i.onAbort&&n.push(i.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ve(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(P){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Yy=function(){function e(t,n,r){re(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jy(this),this.idTokenSubscription=new Jy(this),this.beforeStateQueue=new Ky(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ig,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ie(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Vg(t)),this._initializationPromise=this.queue(Pt(Ot().mark((function r(){var a,i;return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Py.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,i=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(a=u.user,i=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!i){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Mg(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wy(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?un(t):null)&&Mg(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Pt(Ot().mark((function e(t){var n,r=this,a=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Mg(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Pt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Vg(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Jt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Mg(n=t&&Vg(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Py.create(this,[Vg(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Pt(Ot().mark((function e(t){var n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var a=this;if(this._deleted)return function(){};var i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mg(o,this,"internal-error"),o.then((function(){return i(a.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Mg(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qy(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Pt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xy(e){return un(e)}var Jy=function(){function e(t){var n=this;re(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new on(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return ie(e,[{key:"next",get:function(){return Mg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Zy(e,t,n){var r=Xy(e);Mg(r._canInitEmulator,r,"emulator-config-failed"),Mg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=$y(t),o=function(e){var t=$y(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var i=a[1];return{host:i,port:ek(r.substr(i.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:ek(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(i,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $y(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ek(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var tk=function(){function e(t,n){re(this,e),this.providerId=t,this.signInMethod=n}return ie(e,[{key:"toJSON",value:function(){return Ug("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ug("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ug("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ug("not implemented")}}]),e}();function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$g(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ak(e,t){return ik.apply(this,arguments)}function ik(){return ik=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithPassword",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ok(e,t){return sk.apply(this,arguments)}function sk(){return sk=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithEmailLink",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function uk(e,t){return ck.apply(this,arguments)}function ck(){return ck=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithEmailLink",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}var lk=function(e){se(n,e);var t=he(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return re(this,n),(i=t.call(this,"password",a))._email=e,i._password=r,i._tenantId=o,i}return ie(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ak(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ok(t,{email:this._email,oobCode:this._password}));case 5:Og(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",nk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",uk(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Og(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(tk);function fk(e,t){return hk.apply(this,arguments)}function hk(){return hk=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithIdp",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}var dk=function(e){se(n,e);var t=he(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ie(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fk(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fk(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fk(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Og("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=_g(t,["providerId","signInMethod"]);if(!r||!a)return null;var o=new n(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}}]),n}(tk);function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$g(t,"POST","/v1/accounts:sendVerificationCode",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(){return mk=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithPhoneNumber",Zg(t,n)));case 1:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function gk(){return gk=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(t,"POST","/v1/accounts:signInWithPhoneNumber",Zg(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sy(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}var yk=o({},"USER_NOT_FOUND","user-not-found");function kk(){return kk=Pt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ry(t,"POST","/v1/accounts:signInWithPhoneNumber",Zg(t,r),yk));case 2:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}var bk=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ie(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mk.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return gk.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return kk.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,a=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,a=t.verificationCode,i=t.phoneNumber,o=t.temporaryProof;return a||r||i||o?new n({verificationId:r,verificationCode:a,phoneNumber:i,temporaryProof:o}):null}}]),n}(tk);var wk=function(){function e(t){var n,r,a,i,o,s;re(this,e);var u=rn(an(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=u.mode)&&void 0!==a?a:null);Mg(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ie(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=rn(an(e)).link,n=t?rn(an(t)).deep_link_id:null,r=rn(an(e)).deep_link_id;return(r?rn(an(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Cp){return null}}}]),e}();var xk=function(){function e(){re(this,e),this.providerId=e.PROVIDER_ID}return ie(e,null,[{key:"credential",value:function(e,t){return lk._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wk.parseLink(t);return Mg(n,"argument-error"),lk._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xk.PROVIDER_ID="password",xk.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xk.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Sk=function(){function e(t){re(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ie(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ek=function(e){se(n,e);var t=he(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ie(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return m(this.scopes)}}]),n}(Sk),_k=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.call(this,"facebook.com")}return ie(n,null,[{key:"credential",value:function(e){return dk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Cp){return null}}}]),n}(Ek);_k.FACEBOOK_SIGN_IN_METHOD="facebook.com",_k.PROVIDER_ID="facebook.com";var Tk=function(e){se(n,e);var t=he(n);function n(){var e;return re(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ie(n,null,[{key:"credential",value:function(e,t){return dk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(Cp){return null}}}]),n}(Ek);Tk.GOOGLE_SIGN_IN_METHOD="google.com",Tk.PROVIDER_ID="google.com";var Ck=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.call(this,"github.com")}return ie(n,null,[{key:"credential",value:function(e){return dk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Cp){return null}}}]),n}(Ek);Ck.GITHUB_SIGN_IN_METHOD="github.com",Ck.PROVIDER_ID="github.com";var Nk=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.call(this,"twitter.com")}return ie(n,null,[{key:"credential",value:function(e,t){return dk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(Cp){return null}}}]),n}(Ek);Nk.TWITTER_SIGN_IN_METHOD="twitter.com",Nk.PROVIDER_ID="twitter.com";var Ik=function(){function e(t){re(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ie(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Pt(Ot().mark((function t(n,r,a){var i,o,s,u,c=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ay._fromIdTokenResponse(n,a,i);case 3:return o=t.sent,s=Ak(a),u=new e({user:o,providerId:s,_tokenResponse:a,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Pt(Ot().mark((function t(n,r,a){var i;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return i=Ak(a),t.abrupt("return",new e({user:n,providerId:i,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ak(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var jk=function(e){se(n,e);var t=he(n);function n(e,r,a,i){var o,s;return re(this,n),(o=t.call(this,r.code,r.message)).operationType=a,o.user=i,Object.setPrototypeOf(le(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:a},o}return ie(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(Xt);function Ok(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jk._fromErrorAndOperation(e,n,t,r);throw n}))}function Rk(e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=Pt(Ot().mark((function e(t,n){var r,a,i=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.t0=my,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Ik._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Dk(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=Pt(Ot().mark((function e(t,n){var r,a,i,o,s,u,c=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,i="reauthenticate",e.prev=3,e.next=6,my(t,Ok(a,i,n,t),r);case 6:return Mg((o=e.sent).idToken,a,"internal-error"),Mg(s=vy(o.idToken),a,"internal-error"),u=s.sub,Mg(t.uid===u,a,"user-mismatch"),e.abrupt("return",Ik._forOperation(t,i,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Og(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Lk.apply(this,arguments)}function Mk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=Pt(Ot().mark((function e(t,n){var r,a,i,o,s=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,Ok(t,a,n);case 4:return i=e.sent,e.next=7,Ik._fromIdTokenResponse(t,a,i);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function Fk(e,t,n,r){return un(e).onIdTokenChanged(t,n,r)}function zk(e,t,n){return un(e).beforeAuthStateChanged(t,n)}function Vk(e,t){return $g(e,"POST","/v2/accounts/mfaEnrollment:start",Zg(e,t))}new WeakMap;var Bk="__sak",qk=function(){function e(t,n){re(this,e),this.storageRetriever=t,this.type=n}return ie(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bk,"1"),this.storage.removeItem(Bk),Promise.resolve(!0)):Promise.resolve(!1)}catch(Cp){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hk=function(e){se(n,e);var t=he(n);function n(){var e;return re(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qt();return My(e)||qy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Gy(),e._shouldAllowMigration=!0,e}return ie(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],a=this.storage.getItem(r),i=this.localCache[r];a!==i&&e(r,i,a)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var i=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wy()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Pt(Ot().mark((function e(t,r){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(ue(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Ot().mark((function e(t){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(ue(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(ue(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(qk);Hk.type="LOCAL";var Wk=Hk,Gk=function(e){se(n,e);var t=he(n);function n(){return re(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ie(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(qk);Gk.type="SESSION";var Qk=Gk;function Kk(e){return Promise.all(e.map(function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Yk=function(){function e(t){re(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ie(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,i=r.eventType,o=r.data,null===(s=this.handlersMap[i])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:i}),u=Array.from(s).map(function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Kk(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Xk(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yk.receivers=[];var Jk=function(){function e(t){re(this,e),this.target=t,this.handlers=new Set}return ie(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Pt(Ot().mark((function e(t,n){var r,a,i,o,s=this,u=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Xk("",20);a.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),i=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),e(n.data.response);break;default:clearTimeout(l),clearTimeout(i),u(new Error("invalid_response"))}}},s.handlers.add(o),a.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Zk(){return window}function $k(){return"undefined"!==typeof Zk().WorkerGlobalScope&&"function"===typeof Zk().importScripts}function eb(){return tb.apply(this,arguments)}function tb(){return(tb=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function nb(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var rb="firebaseLocalStorageDb",ab="firebaseLocalStorage",ib="fbase_key",ob=function(){function e(t){re(this,e),this.request=t}return ie(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function sb(e,t){return e.transaction([ab],t?"readwrite":"readonly").objectStore(ab)}function ub(){var e=indexedDB.deleteDatabase(rb);return new ob(e).toPromise()}function cb(){var e=indexedDB.open(rb,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ab,{keyPath:ib})}catch(r){n(r)}})),e.addEventListener("success",Pt(Ot().mark((function n(){var r;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ab)){n.next=12;break}return r.close(),n.next=5,ub();case 5:return n.t0=t,n.next=8,cb();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function lb(e,t,n){return fb.apply(this,arguments)}function fb(){return fb=Pt(Ot().mark((function e(t,n,r){var a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sb(t,!0).put((o(a={},ib,n),o(a,"value",r),a)),e.abrupt("return",new ob(i).toPromise());case 2:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t){return db.apply(this,arguments)}function db(){return db=Pt(Ot().mark((function e(t,n){var r,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sb(t,!1).get(n),e.next=3,new ob(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){var n=sb(e,!0).delete(t);return new ob(n).toPromise()}var vb=function(){function e(){re(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ie(e,[{key:"_openDb",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,cb();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$k()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Pt(Ot().mark((function e(){var t=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Yk._getInstance($k()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Pt(Ot().mark((function e(n,r){var a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Pt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eb();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Jk(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&nb()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,cb();case 5:return t=e.sent,e.next=8,lb(t,Bk,"1");case 8:return e.next=10,pb(t,Bk);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Ot().mark((function e(t,n){var r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return lb(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return hb(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Ot().mark((function e(t){var n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return pb(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Pt(Ot().mark((function e(){var t,n,r,a,i,o,s,u,c,l,f;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=sb(e,!1).getAll();return new ob(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=ve(t);try{for(a.s();!(i=a.n()).done;)o=i.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){a.e(h)}finally{a.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Pt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();vb.type="LOCAL";var mb=vb;function gb(e,t){return $g(e,"POST","/v2/accounts/mfaSignIn:start",Zg(e,t))}function yb(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Rg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function kb(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}kb("rcb"),new Qg(3e4,6e4);var bb="recaptcha";function wb(e,t,n){return xb.apply(this,arguments)}function xb(){return xb=Pt(Ot().mark((function e(t,n,r){var a,i,o,s,u,c,l,f,h;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(i=e.sent,e.prev=3,Mg("string"===typeof i,t,"argument-error"),Mg(r.type===bb,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Mg("enroll"===s.type,t,"internal-error"),e.next=13,Vk(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Mg("signin"===s.type,t,"internal-error"),Mg(c=(null===(a=o.multiFactorHint)||void 0===a?void 0:a.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gb(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:i}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pk(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xb.apply(this,arguments)}var Sb=function(){function e(t){re(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xy(t)}return ie(e,[{key:"verifyPhoneNumber",value:function(e,t){return wb(this.auth,e,un(t))}}],[{key:"credential",value:function(e,t){return bk._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bk._fromTokenResponse(n,r):null}}]),e}();function Eb(e,t){return t?Vg(t):(Mg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sb.PROVIDER_ID="phone",Sb.PHONE_SIGN_IN_METHOD="phone";var _b=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ie(n,[{key:"_getIdTokenResponse",value:function(e){return fk(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fk(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fk(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(tk);function Tb(e){return Mk(e.auth,new _b(e),e.bypassAuthState)}function Cb(e){var t=e.auth,n=e.user;return Mg(n,t,"internal-error"),Dk(n,new _b(e),e.bypassAuthState)}function Nb(e){return Ib.apply(this,arguments)}function Ib(){return Ib=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Mg(r=t.user,n,"internal-error"),e.abrupt("return",Rk(r,new _b(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}var Ab=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];re(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ie(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Pt(Ot().mark((function t(n,r){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Pt(Ot().mark((function e(t){var n,r,a,i,o,s,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,i=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tb;case"linkViaPopup":case"linkViaRedirect":return Nb;case"reauthViaPopup":case"reauthViaRedirect":return Cb;default:Og(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Fg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),jb=new Qg(2e3,1e4);function Ob(){return Ob=Pt(Ot().mark((function e(t,n,r){var a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xy(t),Dg(t,n,Sk),i=Eb(a,r),o=new Rb(a,"signInViaPopup",n,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}var Rb=function(e){se(n,e);var t=he(n);function n(e,r,a,i,o){var s;return re(this,n),(s=t.call(this,e,r,i,o)).provider=a,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=le(s),s}return ie(n,[{key:"executeNotNull",value:function(){var e=Pt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Mg(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Ot().mark((function e(){var t,n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fg(1===this.filter.length,"Popup operations only handle one event"),t=Xk(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Rg(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Rg(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Rg(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,jb.get())}()}}]),n}(Ab);Rb.currentPopupAction=null;var Pb=new Map,Db=function(e){se(n,e);var t=he(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return re(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)).eventId=null,a}return ie(n,[{key:"execute",value:function(){var e=Pt(Ot().mark((function e(){var t,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pb.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lb(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,yr(ue(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pb.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pb.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Pt(Ot().mark((function e(t){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",yr(ue(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",yr(ue(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ab);function Lb(e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=Pt(Ot().mark((function e(t,n){var r,a,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zb(n),a=Fb(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,i="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Ub(e,t){Pb.set(e._key(),t)}function Fb(e){return Vg(e._redirectPersistence)}function zb(e){return Ry("pendingRedirect",e.config.apiKey,e.name)}function Vb(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=Pt(Ot().mark((function e(t,n){var r,a,i,o,s,u=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a=Xy(t),i=Eb(a,n),o=new Db(a,i,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}var qb=function(){function e(t){re(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ie(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Wb(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rg(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hb(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hb(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Wb(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Gb(e){return Qb.apply(this,arguments)}function Qb(){return Qb=Pt(Ot().mark((function e(t){var n,r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$g(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}var Kb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yb=/^https?/;function Xb(){return Xb=Pt(Ot().mark((function e(t){var n,r,a,i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gb(t);case 4:n=e.sent,r=n.authorizedDomains,a=ve(r),e.prev=7,a.s();case 9:if((i=a.n()).done){e.next=20;break}if(o=i.value,e.prev=11,!Jb(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:Og(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Xb.apply(this,arguments)}function Jb(e){var t=qg(),n=new URL(t),r=n.protocol,a=n.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===a}if(!Yb.test(r))return!1;if(Kb.test(e))return a===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}var Zb=new Qg(3e4,6e4);function $b(){var e=Zk().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=m(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}var ew=null;function tw(e){return ew=ew||function(e){return new Promise((function(t,n){var r,a,i;function o(){$b(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$b(),n(Rg(e,"network-request-failed"))},timeout:Zb.get()})}if(null===(a=null===(r=Zk().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Zk().gapi)||void 0===i?void 0:i.load)){var s=kb("iframefcb");return Zk()[s]=function(){gapi.load?o():n(Rg(e,"network-request-failed"))},yb("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ew=null,e}))}(e),ew}var nw=new Qg(5e3,15e3),rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iw(e){var t=e.config;Mg(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Kg(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$n},a=aw.get(e.config.apiHost);a&&(r.eid=a);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(nn(r).slice(1))}function ow(e){return sw.apply(this,arguments)}function sw(){return sw=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw(t);case 2:return n=e.sent,Mg(r=Zk().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:iw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rw,dontclear:!0},(function(e){return new Promise(function(){var n=Pt(Ot().mark((function n(r,a){var i,o,s;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Zk().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:i=Rg(t,"network-request-failed"),o=Zk().setTimeout((function(){a(i)}),nw.get()),e.ping(s).then(s,(function(){a(i)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}var uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw="_blank",lw="http://localhost",fw=function(){function e(t){re(this,e),this.window=t,this.associatedEvent=null}return ie(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},uw),{width:r.toString(),height:a.toString(),top:i,left:o}),c=Qt().toLowerCase();n&&(s=Uy(c)?cw:n),Ly(c)&&(t=t||lw,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Hy(c)&&"_self"!==s)return dw(t||"",s),new fw(null);var h=window.open(t||"",s,l);Mg(h,e,"popup-blocked");try{h.focus()}catch(d){}return new fw(h)}function dw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pw="__/auth/handler",vw="emulator/auth/handler";function mw(e,t,n,r,a,i){Mg(e.config.authDomain,e,"auth-domain-config-required"),Mg(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$n,eventId:a};if(t instanceof Sk){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(i||{});s<u.length;s++){var c=f(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof Ek){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pw);return Kg(t,vw)}(e),"?").concat(nn(p).slice(1))}var gw="webStorageSupport",yw=function(){function e(){re(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qk,this._completeRedirectFn=Vb,this._overrideRedirectResult=Ub}return ie(e,[{key:"_openPopup",value:function(){var e=Pt(Ot().mark((function e(t,n,r,a){var i,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fg(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),o=mw(t,n,r,qg(),a),e.abrupt("return",hw(t,o,Xk()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pt(Ot().mark((function e(t,n,r,a){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=mw(t,n,r,qg(),a),Zk().location.href=i,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var i}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],a=r.manager,i=r.promise;return a?Promise.resolve(a):(Fg(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Pt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ow(t);case 2:return n=e.sent,r=new qb(t),n.register("authEvent",(function(e){return Mg(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(gw,{type:gw},(function(n){var r,a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[gw];void 0!==a&&t(!!a),Og(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Xb.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Gy()||My()||qy()}}]),e}(),kw=yw,bw=function(){function e(t){re(this,e),this.factorId=t}return ie(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ug("unexpected MultiFactorSessionType")}}}]),e}(),ww=function(e){se(n,e);var t=he(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone")).credential=e,r}return ie(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return $g(e,"POST","/v2/accounts/mfaEnrollment:finalize",Zg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return $g(e,"POST","/v2/accounts/mfaSignIn:finalize",Zg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(bw);(function(){function e(){re(this,e)}return ie(e,null,[{key:"assertion",value:function(e){return ww._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var xw="@firebase/auth",Sw="0.21.1",Ew=function(){function e(t){re(this,e),this.auth=t,this.internalListeners=new Map}return ie(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Mg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var _w,Tw=Ht("authIdTokenMaxAge")||300,Cw=null,Nw=function(e){return function(){var t=Pt(Ot().mark((function t(n){var r,a,i;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((a=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&a>Tw)){t.next=9;break}return t.abrupt("return");case 9:if(i=null===r||void 0===r?void 0:r.token,Cw!==i){t.next=12;break}return t.abrupt("return");case 12:return Cw=i,t.next=15,fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};_w="Browser",Kn(new cn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=r.options,o=i.apiKey,s=i.authDomain;return function(e,t){Mg(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Mg(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:_w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qy(_w)},a=new Yy(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(a,n),a}(r,a)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Kn(new cn("auth-internal",(function(e){return function(e){return new Ew(e)}(Xy(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),nr(xw,Sw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_w)),nr(xw,Sw,"esm2017");var Iw=er({apiKey:"AIzaSyBr3QU54ykZvRZJoP_Dd-uqbC-U6cpPh4c",authDomain:"activity-points-685b8.firebaseapp.com",projectId:"activity-points-685b8",storageBucket:"activity-points-685b8.appspot.com",messagingSenderId:"155441502987",appId:"1:155441502987:web:776cddd1b6949c7a31600e"}),Aw=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Yn("object"==typeof e?e:tr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var a=Bt("firestore");a&&Ap.apply(void 0,[r].concat(m(a)))}return r}(Iw),jw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr(),t=arguments.length>1?arguments[1]:void 0,n=Yn(e=un(e),yg),r=n.getImmediate({identifier:t}),a=Bt("storage");return a&&Sg.apply(void 0,[r].concat(m(a))),r}(Iw),Ow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr(),t=Yn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Bg(e,{popupRedirectResolver:kw,persistence:[mb,Wk,Qk]}),r=Ht("authTokenSyncURL");if(r){var a=Nw(r);zk(n,a,(function(){return a(n.currentUser)})),Fk(n,(function(e){return a(e)}))}var i=Vt("auth");return i&&Zy(n,"http://".concat(i)),n}(Iw),Rw=n.p+"static/media/googlelogo.b31361249fb7518952ee.png",Pw=function(){var t=new Tk,n=f((0,e.useState)(!1),2),r=n[0],a=n[1],i=(0,e.useContext)(At).dispatch,o=ct();return(0,$.jsxs)("div",{className:"login-page",children:[(0,$.jsxs)("div",{className:"login-container",children:[(0,$.jsxs)("div",{className:"login-headers mb-2",children:[(0,$.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAADjCAYAAAAmGpAvAAAkLklEQVR4Xu1dB3xUVdZ/M0kmyYT0AqE36TXigoiACIgoTVeKuhZU1OjaVlbU/SzrroIga6OIrLjIylJEAUUQpVgABWmBANIJJJBeZyZlZr7/fZmRZJjy3sx7M2/enLe//X3fklv/5/7n3HPuuedyHH2EACFACBAChAAhQAgQAgpCQKOgsfh9KO//MmRftC7Z0r/5ffNaxPbdnhjd6qTfB0EdBh0CIU2a707NemdX7oeZUWEJ4ZFhMVXpsX1OJEQ2z06MbrOrRWyfLcn69tnhWp0l6KRKA5YVgZAmTZkpN23xvrGnjdYivcYSxlm15t/BjtYkc20Trvu+c/KN/07Vd9rXtEmXLFklQY0HDQIhTRomJWibT3deXDiFqwtvJDSN1nqZRPjb4DZPvt45efhykOdQ0EiXBioLAiFPmiLD6a5Ls2/PNpjKOavFORx2AkVFRHN9k+/9ICP9zpmwf87IIhFqVPEIaBU/QpkHmKxvd6RD3PDvGm7NHLtkZGLbt+rqGg5a6eGP9k84sTfvf5l1lpqQx09m8SiyeRI6xNI+YdBKRgp3HyOOnTwmc2nY1yf/Nm9V9iM/lRhz2itSsjQo2RAg0gDaDolDVsXrWljYNszTZycPK3eyfOuAT4/cdeBY4ebbPNWjv6sHASINZBkdEV/SOqH/1+62aM62bMx5UGLKabL66KOfHcpfd696lgXNxB0CRBobOkK2aE6BtHnd1v72zMewc/5My039CBBpbDJuFddvCw45OSFbNKdaB/+44fTz75LGIdKoHwHbDGN0KbkJ0a1/83bCdicB0ziwcW73th2qp3wESNPYZMTCZVL1HfeLsWucaRxW/8vjz6+4VHm0TyDEX1b184Dfcqd/eOjsPV/nlSyfWllTmBqIcai5z8bH4GqeqYC5tYzN2JaVv2Yix6IBXBx0emwGNo4xvCjsyxMvfGasLesLJ0O5xzoSFEBf8Sdz//zJ3rP9x9TV1DdYULV0VGxkz0sVhgO3xOp7/ypBN9QEECBN02AZIEjzR31UnO8LA8TJM+xr/2vef1/wvTHPLeCQNQKEWQqSjGlYmpGnojqr6bG8u780VJ92e56Ub6iL8dwTlWAIEGkarIO4yPRzUi0Ldli6O3/xc9im9ZaqTVftXCj81/MgzFhGEruWsZe1EafZqYsvf+iqflWtRXP35sJtiw6VPyr3WNXQPpGmsRStcZHNc6UQLNveVdWUcFvOvLkQmsB9uIEPHWLrlXGq8LlXGTmsLs5m2d9AqmEo29dZVzERWmtylDZn2vby+TN2FL8NEul8GJLqqxJpGog4Iiy6Qq9JOy+Z1LFNY1EDJ4u3yxYxcCb/tTfs49W4Cb9lxCmu3HiXq7nd0CJqPaexcjP3GZ58cEvhJyUmcxPJcFBZQ0SaBgKFB82apu+8V2oZ/3h+wRvQNpJHlENz9C40rB7puCVzHD/TQOHQHRXGwwNdza1TQvh+zlwNdVXHLT9umpi5vegjECdWaizU0B6RxkGKifo22VIKltk2FysPdsgp2zNcynZZW3mlyx4W0qZdA1XXnW7tqnyb2IgzKdG2XZm1lhHnjkmbCtaCOIlC+gilMkQaB2nHhCfz2zNvIgOcLRw+wBNnN7suLH5NyoWFW6fpF0pnP+pJyzj0qYFr2pWXzMEisnDf5NTcAOKsho0TJeXYg70tIo2DBBOiWp2QxO3coF2mbXIrDvbHQm8l1YKpq8nu5U1bsNsMLuo13j5a2dVvnjjDYOMsAXFordiAIyAcVpAuLKbMm8Xorg7TNriDw2Xlf5EpVdtFlZsancm47d+mQyLD251ldpuzskUmc2qh0XYqai9gIw62apPnZ5U/KdXYg70dIo2DBPFLXCmXUI8VfztJirYRGhOPrdljIrdmXGx0959c9X+yvLYbNqVwBFxOLsKXtRFn+q6KuRvOVA2TYvzB3gaRxkGCYZoIuJDk+crrzrRDToIOvrZurbvg0qB31rbdEZDUZNQnrvreV1A7mNNEOP8zI47FzN3zbdFXiBxI83X8wV6fSOMgQbO1NlIOobItGkvekVeZda2v7eO8RVQUNXM3x0VefxTxZwdd9X22oq5T/d9cnJCCOIUmLurJH4rn+zr+YK9PpHEkjaVGNk8R86JdqjwyyJdFA+9XdEHFsgfEbs3apr78lKt+T5fVNt2cY7qFGf78Fs3VV++Kvh3btBG+zCHY6xJpHLdnWp1Rp21ilEuwZ8p/HubLQafVUtwMQZgthY6PaZnUmHvWJ8cN3+SqzuYc43hokSvtGacVLNyzO8tC+uCTSONIGk2EKSoirkToohRTjrme88qzrioynOoupl7DsmWGXUOE1mWEwdWA3Lbpcx9wV2fRkYoZQttkjoHsEnPLVSeqJguuo7KCRBoHgeL+i5Ez61ydZfgkfv6OTngdV2rK6ehtQ0XlX48TsjVjhGG6o3P6spub6FIKXPXHPGJ7CixtOWy9BH8WK/fCrtL34BQIyTAbIo2TlaIPTygSvIC8KFhrMXq12Jg9Y6rbN0BIlyCWJaPNz/3dGf8smhlbrdUcSCDqA8GwnYvcesEYki5oIo3z1SJyFYlactA0522eKnH1bPZMM3e1mIZJjO15YUCnA33iY/rvdlcWB5ZPZBfVJIrSMr83aOFe3VPxIYgn27UHcej4rzSRxgnWurDYUjlFUGw609Wb9gvKVt7tiTBwLR/u1nLd9dAwbl85OFRU3Xn6T4WzvRlH/caPt21ST5fXer3V9LrvAFck0jgRQERYpCw2jb2rAsOJnt7Ivdyw+3pXl82YhmmRMH1B51afX6ePbHfaXfuwRZLv21K4kdOgkmMEgJiBYVu37FiVWyeDmOaCpSyRxs+SYh40Y01RU9gnos6DUL5JtfnY1Wy4DS+bMbKw/7ZPmfVS+2b/fBxGv9vYORaxjAPKf++5ZBZn/DvFycItzq58Cm26CCXwM7h+6o5I4yegHboJExt5UFd7pmNJRVYSvzOyWVw2DxnXpdnSqW3SnntNyKtt03cUvY8DynH1B5m+f4U1mgiQRoJsJL6PxV8tEGn8hXTjfkTjjtCZsfYm7JoGZzBn+7U90Ds96Z4lQqaB+/9z52ex7RQI48u2zN4ZawO3PbOLa7oI6V8tZUQLTy0TdzePWnO1qK2TPzCBPTPcrlnY/02Kvf4ADP4h7lzK9nFBE0QywszcX/U0/29SEOZ3BodzG8+Z/ugPDJTSB5EmMJIQnS8A9gzvpbIZ/O93a/3lEBj8Zz0NH9eV47Ele48nDCKVWQ4AST8QcN1Z052StqnwxijDpnMBiV7UcsoZCTR67TnTO5310TF13l/Skx96B/aLw8WXK0cAL1kqriuvx+3L/pe3ZNJPLbvQEFLXBYg0TlZ7jbkiQU4SiG07v3zFM6xOl/Tl09ITpyDp32Mem0Dkcpuha/MPZBfVxXt3eOmxi5AtQKQJjKYR9XOvC2txuFfLb29FpPJXQlYq4smGXrMqbysfuSyRl0xIv6FShkgTGEmLIk2r1McEndyz8xJ2l3/0+rzZnAaildLgDwxOiuyVSBMYsYgijZAhYjvWEllj5i8/bhhTf9IvImpZSAcuy1i5bin6HEmTxfk0Hvkrk/dMfoyd9SAp7iuOV0y+ZUNB1vKT1fUZavxGGPQFjXZ/Z/07gYExML2SpnGCu6GuNEVmcTDS+KxtWAzZ3P3lr0zaeOlxLgypDcwOKZhknkQ9Qes45IF2eSvUH0Pwdx+S/uL5e/By9IcYL/ZDIjcuPre/55Lp6tFfXTowc2/l47z9EgjCaHArAGRtHRt+QQ5ZKLVN0jTOJSPrfRpfFgOM/WgY+9P7rTz/Kq9d/LkVczLwfqnaLDzVUerLnIKtLpHmSolpuDD5MtL4skBg7HeYsCF/5TcXajMCpl0aTkAbxk3rGvsee9/Gl3kFW12ftwnBNmFP40X0sc5orIj3VM7ff4exfyfOXk7gdD+jPhzGY0CAvEPE1ixFZ60b317/mbwdKa910jTKk0mjEbFQGNx/WTJpc+kt9eeULEKZxY/57EfwceZa7sFuTd5L04cX+9hQ0FUnTeNEZJpwq+wr0iwgKSFO9kciFOYY7r+AMEy74OyF1zCyD8/9QmZaJoozPtw9dm7QrXgJBkyaxplN459V6XLlIzJZP2tv2T9Gr7/4NKcNvLF/BUSwZZ7LiH2tXXyEdE8tSrCY/dUEaRoHpKEBomsslXp/CcBZP3i6bw3evnyaYy5di2z52L2bIpKkj2wR8XNmz7iZ3jUQ/LWINM41TcAky7TMgeK6Gzmr3XYJ2FAcOoaDDITBtqzqg6HJE0PNY9YQDNqeKWVNNh4Htm4ekpH7e9wsnk2r4ZYOT5qAbdk5f3evpP5I0yhJGhiLLkzDXGPYlylINOzdGhBm0eD4h0a3jdmsMMj8PhwFScbvc1dqhwF2jTnAwj/0ZOFmD4j967QecYuVCpo/x0XbM3+iLawv5ZDGpmFmD0h4dnpGwlvChq/+UkSaAMi42lzFelVu6Anz2uGD0V89b0jC5ElXxX4RAJgU2yWR5krR+GUxW6xm5WKPc5huiWGXVo5MHtIjOfKYYldvgAZGNk2AgFdkt3yov47L7B61aNu4tM5EGOdSItIocvUGYFC8/RLGPGQPzx+S+jBiytzmhA7ACBXTpXK3CIqBSLaBKMPg5+0XLdctOfzMnGvjH4BLeYtsM1ZJw0SagNk0dYHPtG8z+Ee20u3CKf8doRpLJpbLtD0Ti5hayjPC4IrBjIy4OZ+PTruOCCNcsEQaB6x0YTHq38vzof1a06Ib0h6aOTBpOuLIpHl3Q/i6C+qStD0LavGJHPxl++Ui3Mk3wDt2VGQLVJy3AOlTKAIS//jbCDPlqqh1cCf3JMJ4L3YizZXYKcOr5b1Mr6yJsxdmvywamvDw8pvSxsGdXChl86HWFm3P1Ewa+3YsMezcnGvT7yd3sjT0JtKolTSX3ck7be7kkEroJw09nLcSctsz3IyMQzqkKUi6p+RtmG/xb4wwON2HO/lNuJMHw51MhJGQRSFFGhAlBvfvVz+2veRT/P/JznAU++qyD7JwRwzvSMPIwl9J1tauGJEwAe7k5+BOlvi9QB9mrJKqIbM9g4ZJwlMU/11+omZEChK84HO6MJFYQ6fTNqk1cOWBPLEXT5rG7uShFGwpH0NDQtNAq+ihYZYgf9golt2l0GTh8o1mp5omPqp5QbPovlvlg9xjy2zbKI40l93Jq+FO7kGE8YixTwVCgjR43fhdEGbs70/pYb9faDQnuUKuR+qtH1i1sqd9dUUM9u/C7S3mTmbRyUMTHoI7+Q64k4t8WhFU2SMCqifN7L2lM+ZnGR+4/LoxMLFYud9K63q5Qqd1/B82JUa1qtQELq+3Z9Lwxn4kuyx2esPopGF0f9/jWpesgKpJs+28Ydj0XRVv1FswjTXH6pOGadi2OZ1/dER81bXNM1/1g7ZxJUj3crFtx0a2DP/+q9GpQ3D+EsjtpGSLMVgaUi1peDvmh9KlTKtc8YYLciLjuYqrT5fXXuVKUF2Tb56Xru97mguXx/lUZ6l2lcXTvT1jcydn9oxesOKm1JvhTs4JlsWmlnGqljT/PVZ5X3aJuYXLR49ApmXHqh50JUhoG+OtHV8fx9WFWwKwTbuSOLw7mY9OroI7eTxuV2YmRoUZ1LIQg2keqiQN3MsJb2dVvshn2nf1Qdsszq58Fg8ltXFVpGmTLlnju7w1lf3dj8RhkZqNSWPTLt2SdXkbx6Rdi+wwa4NpkaltrKokzaoTVVOgZZp7eviosEbDzd5f+qI7ofZIG/ufIa2f4e0iPxGnMWl4DRPOTekQuQLu5F79mkZlqW0RBtt8VEca2DIRi45UPOFWy9ilhMdd5x82PQSHwSB3ghvUOvMFRhzmGPATcepVpE3DzL62yV/gTp5M0cnKoJfqSMOM+z0Fli6C4cUWDg6DNXhxzO0z6Iw4o9u98QTfrkzOAduYmbs5nGkX2C8c3MnDkd0yJB9PEixDPxdUHWm+PmscL+pNSriis4v4J/re94R9Rvrk9/7YZcFt0ZrkakYcmbSONr+qTgt38qFtE5p2hjv5O0/jor/7FwFVkQZbs/AlxwyPiIfQwi0/bpi06FD5vZ7qdk4Z8fndPZdldIi7YYePWsepaxkBljXPZcS9tGxECruO/Jun8dDf/Y+AqkjDtjX4lW4qGkbbwee078s+xrWBWz3Vh1ct+45uC6+/vtVTr8foEvntmhdax+V5DLZjr5H94kkKgfu7qkiTbzAzu8S76GRGHNg3eEV5PR6IHexJJOFanWVwm8dfvLPLp71xCHrCCyeBuKBMTwOiv/sNAVWR5mxFbQcgZ/XkanaJrk3jjN5QvB0a5xYhUoDWOXhn9yW9hrac/po+Kk5uJ4GQIVEZmRFQFWlWnqy6q9BY49uc4IZmoTeTNhV9CRvnfiH4s+gBeNdegtbpBlvnR4HbNdI0QsBVYBnfFpjCJrQtt3acJENCtAD7YON8NGNH8SxEGEQLaRda58j4zv8aBq3zdwFah0gjBFQFllEVaeAEgE3jOapekBxsNs7M/VV/nbSp4DuE27QSUg9apxZa52VonR7QOjv5Mx2Hcx1jLZ/Ek0gjBFAFllEVaYCvtCHJNuJ8k1Nz7TWr8s4J3a4xOUPrHJ7S46OBTOu48LDJfstNgetNFUNSG2lYVm9pBcOIg+0ai1ObtjX/oymb8j+D1mkptBOb1ukOD9tBXr3Uh+JIPEiho6FyUiCgKtKkxbCrvhJtzxzRNVfzgZO4Nn0btE4OtI7LawWOVdm5zgN91vRG/NrzURHR5shIHWeoLW4mhQCpDf8joCrSjG0TtURyTfO7TEBGu9Yx8U6CDzO3Fyw6VFTdXqjYoHVm/qnrmp6JEV1+QR1VYS8UAzWUk+lnOTDQsGjloZ/n/iCbtmk4LVsEcorOys0bkjgOd1zWCZ01HAE6OAzg26YvGBFQ1a9dm9iIUynROhgN9U96y/oxrYMznUJoHUQRrLXZOulC+iTCCEFJuWVURZo0fRjLhu9frxQ700H4jc3WyUUkwW3KFTeNTAoEVEUaFiEMZ8AlKYAR1QYffmPhkxBC63wGrfM5PGwtRLVBhYMGAVWRhqE+tHnEhoDY2LyToD7oE9cMxsPDdh5aZ0LQrAQaqGAEVEeaqV1iF/KJAf1h1ziD2UYedq6D+LU10DqroXXIvSx4SSq/oOpI0yE+4hiuCUv89p4XgmTnOviQcP32WzYU7CdbxwsMFVpFdaRBLjDjxKuioW0C/dnOdZBwHZlxmjJbB+c6C6F1mgd6ZNS/bwio6pzGDsWeS6be/T4r2M9cwor5bKlkU6I4bunw5FG4+79JMWOjgYhCQHWahs2+a5IuC4nBLwTMrnFl69g8bLjkthG2zgpkwEkSJS0qrAgEVEkauJ4tL/eL/TN7gkJRX2MP28Run+YWwtYZr6gx0mA8IqBK0rBZj2yl/xra5hx7Tk9xn93DZuI0kzbmfw6ts5JsHcVJyeWAVEsaOARM0DZPcVoFm20smgC2DqIJ7oCHbSd52IKDOApeUdIAOHLtxZ9wiWygy9cDpOnG91bYi2b4MrtHLZjeJ+FVPKHh/8gG32cREi2onjTwpPUYtT5/L0JcIrzOUuOvpWB/HQDbyjnXxt8PD9sWf3VN/QhHQLXbMzsEyLJ/6PUBCZm8U4B3+yr40qQtcjq7qKY1PGzf4VxnHmwdQZHTwkVOJX1FQPWaxg4QyyrDkmSIyvPsK7q+1L98X6cW5zpj6FzHFzClrRsypGGw4dHa6dN3lL7JB3Ta0jRJC6fErdkORJkzA+/TrHzn+qRMer1ZYoy9aC6kSMPwwd3+h3BVeRGPlZIiBtwJz0aebsnhp+ARfIZeQvNipUtYJeRIw7BDrubh93xbtA63LpEEELGdDi8/S4ivdE3ZtmscAkEze8WTh006ZEW3FJKkYSix+LR7thSvQzBl66Cxc9jAL3vYztq0zhrRUqcKPiEQsqRhqCH2Kw2POS1afrJ6XFARhycPi3SwcJk9YxbaznUu+rQSqLJgBEKaNAwl9hAUnk+fikSAH3AaHDAGg4PALl7bI7bdkrTsXOdeeNi2CZY8FfQagZAnjR05pH8a+OzOkk/25Fvbc1Zktw0GO6cheXAONaNPzBvP9Il7Ex62Uq9XBFX0iACRpgFE2K4lzt1f/n8zfy1+mguLDB7vWgNbB3nY6laPSsHLBXrkf6NPDgSINE5QZd61Z3eWLccDtil8wGeQuabZmBHDtvCVaxL/Ruc60tOGSOMCU3ZB7JXdJXPnHzbdyzsJ2BcsWzYW/ImHqXCuc9YWw7ZV+qUTui0SaTzIHuH6Ex/bXrKCZdIMmjMd+5y02GIiR8GMqxNnPpcR/3eWPyF0l7p0MyfSCMCSPa3xwq4S5pq+Ofhc0whShZNgZIuIn+YOSnwQz6wfFTBlKuIGASKNwOUB13TYl2eqJkDrrApKrYMtG5wE1UjWfjfCcFYLnDYVc4IAkUbkssDTGp3+uafsXWidm4JP6+BAFE4CuKbn/N81CS+yNL4ip0/FgQCRxotlwLQODkQfemFX6YLLWoe9XBgEcNrCcBA1/fn8IclTYeeUegFBSFcJAikrVz6IX+sL4nz8TY6pF3/JLZhc0xhvv1Ttb6tGpo3C1erTykVZeSNT/c1NsZAfyl83tbKmEK9Ee/5wK3Tf56PTBszIiJvHHnfi48EClUPa83Avl7Alat9zydwJCT22Y8vZWUz1UC9LmqbBCqiz1IT95+Dk4/in2mFtnn2iXeJAwVkwoXWufuT7oo17Ciwp7IwkaGLY4CBAqqucpcOSRrOr4aFOCCHzJ03TGCWNPjzBnGfY1+mLk4+v/PHc/Nfx1F+MECCx4H7dPKZZBxjZ8/goAj6YUmHJCp1NBFtKXI9ohWsS66FxugiZa6iXIdI0XgF81g2NJYwzmMrjtp2f/fwXx57eeKnyaDchCwVGdfnMgUmPbxubPLRbss7AXoMOGuIU1bWd+E3Rd4iEaCpkrqFchkjTWPrsiQ7mBuOsFmiLunDuZPnWQYv337p7b97/nsT2TVC6TgRLbv9qdOpVM/rq363PgiOoWmDXIa5EINau+d2bC9fAO4gbrfS5QoBIcyUy9Q/L2D8QB59+w+nn316V/cj3Jcac1kKWEzxSudA6T64YkTAZMWBIQBsETgIQ55sLtQNf2136mpA5hmoZIk0DyYdrmQvsysRoTOuwLdup0u8HfHx43AF42B5kTgMhiwan7yugdTpm9oz+mC+vdK2D4FSkuvoLIr1HCZlfKJYh71lDpWKp0cB7dvZi5cFW/PbMyafR1icb7JJ8y9bh7Z67Oz6qea7QhRM0wZ9wYOA1OWP2nc3b4GpBgdD5hUo50jQNJF1rNiIsmNNata5fVbeT6UjJuhs+OTjlILTONKGLBVpn5e470luPbKU7+HvGTyV62HCOwzL14GrEP4TOLZTKEWmulLZH7Wt3EpTWnUte+9szH3x3atbyMlOuoCfQYevk4ED0D4sGxz+BX3M+AlmZHjYLN/9g2TScP/UMJUIImSuRxgvS/F6l3knA7by4cPLq49N+PVa4eYoQ0BEoWT2tR9x72yY07YqQfRwoQgxK0zgsagCJRt7aX/6qkDmFUhkijTO7BUa/0M+udfIqDjddffTRT78/+/7bCMNJEFKf3W1ZcVNq/0VDEx7ntY7inAQWDtHcEyjMprE0iTSN8fC4NXNJBpvW+f7CW0+uOHbfgdMlO0YKIQ4ORA3QOvM2jknrC1vnAE8c21s1QurLWoaPUbNy8w+VPyNrP0HWOJHGkTRhNfWvK3nx2V3T0DqtPz18zyZonX8hDKeJkKYQhrMfWue62QPj/sYHfzLiKGLLZuFWHjdOKzGZ44XMIxTKEGmk0jS2duzbNfY/f8h5+6lPD9+/B2E4vYQsJmidqukZCf9ECqbrELZf78pWgNbBg1jcNzkGQZpTyDyDvQyRRiYJ2l3TCP7svCzr7l8Q/DkXB6LMpe3xQxjODgR/dsWVg3f4woEM/mSJE+Go+OKU8U8eBx4iBYg0V2oa7+0ah0Vj1zpGa1Ekgj+fRhjODmidPkLWli348ykEfw5G8GdhoF9yO1Bc1xcxaVFCxq72MkQaf0gYTgIWhoPgzwxonZ8Q/PkytI4gcrJMmdvGpXVC8r8l9cTx2uTycqZsmBYuu9DQ8khxTUcvG1FVNSKNn8Rp1zomc6l+y/m/v3KyePs9QrtGKEvJ/CGpUxH8OZGzIheGv+0c/swmnNtbUHOd0DGruRyRprF0nQZsSrkA7LZOVW2R6F9thOGs2jOxZW84CU77N2qawaLl9hdV/0FKLIK1LSLNlZLzy/PPujB9qTeLBq7pg3AS9EHU9Ed8fT9qnROl5h7ejFltdYg0ASJNjdkQ5+1iYk4CbNceWDQ06VGc6Zjl1zr1ds15g6UdXVDjg57oCxAC7JaoTx8iCRbiTAfetfB8fwR+5lfVpZ4urxUUmOrTxBRemUgTIE2Dbl3fPxCxaNiZDrxrXZH8b62sxGHXBYw1+K85ScTwVFmUSNNArBFh0SbOrPNXZn2fNY196PCuFS8elvLH2QNin5c1JwHc3ZeM5nRVMkHEpIg0DcDCdWdzQmQrlvfMH59kpGGDxXWDOoTgzNwwOml4ShSubMsRMY3UVGXV1lR/gKPkPog0DtJpGtP5Vz8JTFLS2MeMx2q/wz2dzoiY3n3ZQSCFQ5AlQOTPY0N+zYQ8AI4ESdVf9Qv7N3suABkJJAtp2HhxT+c4IqZHwC1dH0XA3g+V6CursSRL1FTQNkOkcRBdsybdd0VG+iVURTbSsCnBLV3Gogh4O8eMrFQ+b9d+j/oJ+TUT8gA4/tzpwmJKwjRRfMJAmT8p9kweh8jbOWPSb4SdU+PzeY7VwhWZLGkeO1V5ASKNg4CjI+KNHeKGr1GT3GHnbIGd07Nf07DjErilBQWaqgk/x7kQaZxIt2fq+EXu0jgF44KAnfMbwm+uYY85+UgcIk0wLgC5xwy7Zme0JtngB2eA3FNp1D6zc3CeMxF2zgwfiEOk8avUgqQzbNEM/VtMfVtt2obBbzvPmYVrBrcjA069nUOfKARoe+YCrp5p4xfE6BItsmmbAP9e45rBGsStDULc2nkijijO0EGVK7iQo/n81alTZ6lR29jnjLi13UjOPgAHobsuZ7/x6NTzWEDcEgy+0qRp3MgsI33yHNg2Ri7cHx7owCwepMm9gDS5N/IOAvaxh6jcfMlR2kuBGalyeiXSuJFFE11K8U0dXnqUX0u21wIkE52Cfq9h5xiW35R2G7LfvOU6gQd7iJdfLgoauWTSENUQkcYDXD3Sxv6nV8odq2TYpilu8eERqmfhIJhQTxyXGkfWSAZRqzdAhYk0AoAf0e7FB9P1fU+oeZtmhwEOgi+QNmoAPGsmTntlzFq8TlsoADJVFyHSCBAvXNDlt3V+Z1R6bPe8UCAOHAQ/I7d0v25J2jwnxFGchhQgQkmLEGkEwpkY3erkre3m3BwqxEECj8PwrPUb2TJ8B08ctl1D7Bl9dDdC1Bpo2qTLgfEd3huGrdpJpnEkdw6IGo38hdlju7hiMGpKR92aejtHy8VHakrk71nZPZCmESmfZH27o3d2X9IXzoHVfFWVkwehNxUIvZmMDJ+LbJpGuss5IrFXSnH3TnmljFJh44CNU4G0spOSotq+8vOFj543caXhTOu4etzW6fADHBEgBlK4pGtR/uEZO4prO8RFHBVTV41lSdN4KVXkE7AMap350n29V3VtnzD4J9YMI46ILVvQGdRwST8OW2evl5CpphppGh9Fie3aCTQxCC+fDd9yds4CPK3RkX9CEwnP3WoeKCYfu6bqAUKASCMR8O0SB36LV896nSv75eZDBV9OO1r01U28vWN7v9MJgYJogyYRSCpphkgjoSDZrU80x259rmGa50LF/uHHir+962LlwZb28x07iTgN/kNfUCJApJFJbEzzoOlv8dLzrAvl+248X753RGl1bsfSupP9y6tzY3RavUGmrqlZQkBdCJQYczp+duTJrdBEo9U1M5oNIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEACFACBAChAAhQAgQAoQAIUAIEAKEQJAj8P9+Ei1HWwVWmAAAAABJRU5ErkJggg==",className:"logo",alt:"kongu logo"}),(0,$.jsx)("h3",{children:"Welcome back!"}),(0,$.jsx)("p",{className:"p",children:"We are so excited to see you again"})]}),(0,$.jsxs)("div",{className:"google-auth-container",onClick:function(){(function(e,t,n){return Ob.apply(this,arguments)})(Ow,t).then((function(e){var t=e.user;console.log(t),console.log(t.email),i({type:"LOGIN",payload:t}),o("/dashboard")})).catch((function(e){var t=e.message;a(t)}))},children:[(0,$.jsx)("img",{src:Rw,className:"googlelogo",alt:"signinimage"}),(0,$.jsx)("div",{className:"signin-button-text ms-2",children:" Sign in with Google account"})]}),r&&(0,$.jsx)("p",{className:"login-error",children:r})]}),(0,$.jsx)("div",{className:"footer",children:"Designed and developed by Manish"})]})},Dw=n.p+"static/media/login-error.26be6bf4d2e7d357e0b4.png",Lw=function(e){var t=e.deleteAccount,n=ct();return(0,$.jsx)("div",{className:"unauthorized-entry-body",children:(0,$.jsxs)("div",{className:"error-container",children:[(0,$.jsx)("img",{src:Dw,alt:"login error",width:"60%"}),(0,$.jsx)("h3",{className:"unauthorized-error",children:"Access granted only to KONGU mail id"}),(0,$.jsx)("p",{children:"You will be redirected to the login within 5 seconds"}),(0,$.jsx)("button",{className:"mt-3 redirect-login-btn",onClick:function(){t(),n("/")},children:"Return to login page"})]})})},Mw=function(){var t="Paper Presentation",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(!0),2),x=w[0],S=w[1],E=f((0,e.useState)({}),2),_=(E[0],E[1]),T=f((0,e.useState)({}),2),C=T[0],N=T[1],I=f((0,e.useState)(0),2),A=I[0],j=I[1],O=f((0,e.useState)("Loading..."),2),R=O[0],P=O[1],D=f((0,e.useState)([]),2),L=D[0],M=D[1],U=f((0,e.useState)(""),2),F=U[0],z=U[1],V=f((0,e.useState)("newticket"),2),B=V[0],q=V[1],H=f((0,e.useState)(!1),2),W=H[0],G=H[1],Q=f((0,e.useState)(!1),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)(0),2),te=ee[0],ne=ee[1],re=f((0,e.useState)(),2),ae=re[0],ie=re[1],oe=(0,e.useRef)(null),se=function(){return"submitted"===r?2:"presented"===r&&"inside"===s?5:"presented"===r&&"outside"===s?10:"presented"===r&&"premier"===s||"prize"===r&&"inside"===s?20:"prize"===r&&"outside"===s?30:"prize"===r&&"premier"===s?50:void 0},ue=function(){oe.current.value=""},ce=function(){a(""),h(""),h(""),m(""),z(""),m({}),ue()};(0,e.useEffect)((function(){("empty"!==r&&"submitted"===r&&l||"empty"!==r&&"empty"!==s&&r&&l&&s)&&G(!0)}),[r,s,l]);var le=function(e){if("submitted"!==r||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))}},fe=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(C+se()>75)){e.next=5;break}return alert("Maximum 75 points allowed in this category"),ce(),e.abrupt("return");case 5:if(se(),Y(!0),!W){e.next=22;break}if("success"!==B){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:se(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:Y(!1),ce();case 20:e.next=23;break;case 22:alert("fill all data");case 23:q("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l&&function(){if(L.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),z(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){q("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){ue(),h(null),z(""),q("changedstatus"),h("")}),[r,s]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=0,i=[];ne(0),ie(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),ie((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),ne((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&P("No data found"),M(i),j(a),_(r),N(n),S(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]);var he=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"nav1-container nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:fe,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",value:r,onChange:function(e){le(e),a(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"submitted",children:"Submitted"}),(0,$.jsx)("option",{value:"presented",children:"Presented"}),(0,$.jsx)("option",{value:"prize",children:"Prize"})]})]}),r&&"submitted"!==r&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",value:s,onChange:function(e){le(e),u(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"inside",children:"Inside"}),(0,$.jsx)("option",{value:"outside",children:"Outside"}),(0,$.jsx)("option",{value:"premier",children:"Premier"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",ref:oe,onChange:function(e){le(e),h(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==B||!1===W||K,value:""===F?"Upload New":null!==F&&F<100?"uploading ".concat(F," %"):"success"!==B?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count : ",x?"__":" "+A]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points: ",x?"__":" "+te]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",x?"__":" "+ae]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:x||0===C.length?(0,$.jsx)("p",{children:R}):C.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.level&&(0,$.jsxs)("div",{children:["level:",(0,$.jsx)("span",{children:e.level})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),"pending"===e.approval&&(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&he(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Uw=function(){var t="Project Presentation",n=f((0,e.useState)([]),2),r=n[0],a=n[1],i=localStorage.getItem("studentId"),s=localStorage.getItem("studentDept"),u=localStorage.getItem("studentSection"),c=localStorage.getItem("studentYear"),l=f((0,e.useState)(""),2),h=l[0],p=l[1],v=f((0,e.useState)(""),2),m=v[0],g=v[1],y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)(""),2),_=E[0],T=E[1],C=f((0,e.useState)("newticket"),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(!1),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)(0),2),z=F[0],V=F[1],B=f((0,e.useState)({}),2),q=(B[0],B[1]),H=f((0,e.useState)(),2),W=H[0],G=H[1],Q=f((0,e.useState)(0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)("Loading..."),2),J=X[0],Z=X[1],ee=f((0,e.useState)(!0),2),te=ee[0],ne=ee[1],re=f((0,e.useState)(!0),2),ae=re[0],ie=re[1],oe=function(){return"participation"===h&&"inside"===m?2:"participation"===h&&"outside"===m?5:"participation"===h&&"state"===m?10:"participation"===h&&"national/international"===m?20:"prize"===h&&"inside"===m?10:"prize"===h&&"outside"===m?20:"prize"===h&&"state"===m?30:"prize"===h&&"national/international"===m?50:void 0};(0,e.useEffect)((function(){("empty"!==h&&"submitted"===h&&k||"empty"!==h&&"submitted"!==h&&"empty"!==m&&h&&k&&m)&&O(!0)}),[h,m,k]);var se=function(e){if("submitted"!==h||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;S(d(d({},x),{},o({},t,n)))}},ue=function(){p(""),b(""),b(""),S(""),T(""),S({}),document.querySelector("form").reset(),I("newticket")},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(M+oe()>75)){e.next=5;break}return alert("Maximum 75 points allowed in this category"),ue(),e.abrupt("return");case 5:if(oe(),D(!0),!j){e.next=22;break}if("success"!==N){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(s,"/years/").concat(c,"/sections/").concat(u,"/allStudents/").concat(i,"/all"),r),d(d({},x),{},{weightage:oe(),approval:"pending",fileName:k.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ue(),D(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(s,"/years/").concat(c,"/sections/").concat(u,"/allStudents/").concat(i,"/all"),t));case 3:ie(!0),wg(xg(jw,"".concat(s,"/").concat(c,"/").concat(u,"/").concat(i,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){k&&function(){if(r.includes(k.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==i){var e=kg(xg(jw,"".concat(s,"/").concat(c,"/").concat(u,"/").concat(i,"/").concat(k.name)),k);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),T(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){I("success"),S((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[k,i]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(s,"/years/").concat(c,"/sections/").concat(u,"/allStudents/").concat(i,"/all")),(function(e){var n=[],r=[],i=0,o=[];U(0),V(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),V((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),i+=1),o.push(e.data().fileName)})),0===n.length&&Z("No data found"),a(o),Y(i),q(r),G(n),ne(!1),ie(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===ae]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){p(e.target.value),se(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"participation",children:"Participation"}),(0,$.jsx)("option",{value:"prize",children:"Prize"})]})]}),h&&"submitted"!==h&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",onChange:function(e){g(e.target.value),se(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"inside",children:"Inside"}),(0,$.jsx)("option",{value:"outside",children:"Outside"}),(0,$.jsx)("option",{value:"state",children:"State"}),(0,$.jsx)("option",{value:"national/international",children:"National/International"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){b(e.target.files[0]),se(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==N||!1===j||P,value:""===_?"Upload New":null!==_&&_<100?"uploading ".concat(_," %"):"success"!==N?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",te?"__":" "+K]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",te?"__":" "+M]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",te?"__":" "+z]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:te||0===W.length?(0,$.jsx)("p",{children:J}):W.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.level&&(0,$.jsxs)("div",{children:["Level:",(0,$.jsx)("span",{children:e.level})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Fw=function(){var t="Techno Managerial Events",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)("newticket"),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(!0),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)(),2),z=F[0],V=F[1],B=f((0,e.useState)(!0),2),q=B[0],H=B[1],W=f((0,e.useState)({}),2),G=(W[0],W[1]),Q=f((0,e.useState)({}),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(0),2),J=X[0],Z=X[1],ee=f((0,e.useState)("Loading..."),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"participation"===r&&"inside"===s?2:"participation"===r&&"outside"===s?5:"participation"===r&&"state"===s?10:"participation"===r&&"national/international"===s?20:"prize"===r&&"inside"===s?10:"prize"===r&&"outside"===s?20:"prize"===r&&"state"===s?30:"prize"===r&&"national/international"===s?50:void 0},se=function(){a(""),h(""),h(""),m(""),S(""),m({})};(0,e.useEffect)((function(){"empty"!==r&&"empty"!==s&&r&&l&&s&&I(!0)}),[r,s,l]);var ue=function(e){if("submitted"!==r||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))}},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(K+oe()>75)){e.next=5;break}return alert("Maximum 75 points allowed in this category"),se(),e.abrupt("return");case 5:if(oe(),O(!0),!N){e.next=22;break}if("success"!==_){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:oe(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:O(!1),se();case 20:e.next=23;break;case 22:alert("fill all data");case 23:T("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l&&function(){if(ae.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),S(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){T("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=[],i=0;U(0),V(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),V((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),i+=1),a.push(e.data().fileName)})),0===n.length&&ne("No data found"),ie(a),Z(i),G(r),Y(n),H(!1),D(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===P]);var le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:D(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"nav1-container nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){ue(e),a(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"participation",children:"Participation"}),(0,$.jsx)("option",{value:"prize",children:"Prize"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",onChange:function(e){ue(e),u(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"inside",children:"Inside"}),(0,$.jsx)("option",{value:"outside",children:"Outside"}),(0,$.jsx)("option",{value:"state",children:"state"}),(0,$.jsx)("option",{value:"national/international",children:"National/International"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){ue(e),h(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==_||!1===N||j,value:""===x?"Upload New":null!==x&&x<100?"uploading ".concat(x," %"):"success"!==_?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 75 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count : ",q?"__":" "+J]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points: ",q?"__":" "+M]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",q?"__":" "+z]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:q||0===K.length?(0,$.jsx)("p",{children:te}):K.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.level&&(0,$.jsxs)("div",{children:["level:",(0,$.jsx)("span",{children:e.level})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},zw=function(){var t="Sports and Games",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)("newticket"),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(!0),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)(),2),z=F[0],V=F[1],B=f((0,e.useState)(!0),2),q=B[0],H=B[1],W=f((0,e.useState)({}),2),G=(W[0],W[1]),Q=f((0,e.useState)({}),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(0),2),J=X[0],Z=X[1],ee=f((0,e.useState)("Loading..."),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"participation"===r&&"inside"===s?2:"participation"===r&&"zone/outside"===s?10:"participation"===r&&"state/interzone"===s?20:"participation"===r&&"national"===s?50:"participation"===r&&"international"===s?100:"prize"===r&&"inside"===s?5:"prize"===r&&"zone/outside"===s?20:"prize"===r&&"state/interzone"===s?40:"prize"===r&&"national/international"===s?100:void 0},se=function(){a(""),h(""),h(""),m(""),S(""),m({})};(0,e.useEffect)((function(){"empty"!==r&&"empty"!==s&&r&&l&&s&&I(!0)}),[r,s,l]);var ue=function(e){if("submitted"!==r||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))}},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(K+oe()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category"),se(),e.abrupt("return");case 5:if(oe(),O(!0),!N){e.next=22;break}if("success"!==_){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:oe(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:O(!1),se();case 20:e.next=23;break;case 22:alert("fill all data");case 23:T("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l&&function(){if(ae.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),S(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){T("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=0,i=[];U(0),V(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),V((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&ne("No data found"),ie(i),Z(a),G(r),Y(n),H(!1),D(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===P]);var le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:D(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"nav1-container nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){ue(e),a(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"participation",children:"Participation"}),(0,$.jsx)("option",{value:"prize",children:"Prize"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",onChange:function(e){ue(e),u(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"inside",children:"Inside"}),(0,$.jsx)("option",{value:"zone/outside",children:"Zone/Outside"}),(0,$.jsx)("option",{value:"state/interzone",children:"State/Inter zone"}),"participation"===r?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("option",{value:"national",children:"National"}),(0,$.jsx)("option",{value:"international",children:"International"})]}):(0,$.jsx)("option",{value:"national/international",children:"National/International"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){ue(e),h(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==_||!1===N||j,value:""===x?"Upload New":null!==x&&x<100?"uploading ".concat(x," %"):"success"!==_?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count : ",q?"__":" "+J]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points: ",q?"__":" "+M]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",q?"__":" "+z]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:q||0===K.length?(0,$.jsx)("p",{children:te}):K.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.level&&(0,$.jsxs)("div",{children:["level:",(0,$.jsx)("span",{children:e.level})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Vw=function(){var t="Membership",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=localStorage.getItem("studentId"),v=localStorage.getItem("studentDept"),m=localStorage.getItem("studentSection"),g=localStorage.getItem("studentYear"),y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)("newticket"),2),x=w[0],S=w[1],E=f((0,e.useState)(!1),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(0),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)({}),2),M=(L[0],L[1]),U=f((0,e.useState)(),2),F=U[0],z=U[1],V=f((0,e.useState)(0),2),B=V[0],q=V[1],H=f((0,e.useState)("Loading..."),2),W=H[0],G=H[1],Q=f((0,e.useState)(!0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=function(){return"ncc/nss"===r?20:"professional society"===r?5:"clubs"===r?2:void 0};(0,e.useEffect)((function(){"empty"!==r&&r&&s&&T(!0)}),[r,s]);var ae=function(e){var t=e.target.id,n=e.target.value;h(d(d({},l),{},o({},t,n)))},ie=function(){a(""),u(""),u(""),h(""),b(""),h({}),document.querySelector("form").reset(),S("newticket")},oe=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(j+re()>50)){e.next=5;break}return alert("Maximum 50 points allowed in this category"),ie(),e.abrupt("return");case 5:if(re(),I(!0),!_){e.next=22;break}if("success"!==x){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),r),d(d({},l),{},{weightage:re(),approval:"pending",fileName:s.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ie(),I(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s&&function(){if(te.includes(s.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==p){var e=kg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(s.name)),s);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){S("success"),h((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[s,p]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all")),(function(e){var n=[],r=[],a=0,i=[];O(0),D(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),O((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&G("No data found"),ne(i),q(a),M(r),z(n),Y(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:oe,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),ae(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"ncc/nss",children:"NCC/NSS"}),(0,$.jsx)("option",{value:"professional society",children:"Professional Society"}),(0,$.jsx)("option",{value:"clubs",children:"Clubs"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){u(e.target.files[0]),ae(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==x||!1===_||N,value:""===k?"Upload New":null!==k&&k<100?"uploading ".concat(k," %"):"success"!==x?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 50 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",K?"__":" "+B]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",K?"__":" "+j]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",K?"__":" "+P]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:K||0===F.length?(0,$.jsx)("p",{children:W}):F.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&se(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Bw=function(){var t="Leadership/Organizing Events",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=localStorage.getItem("studentId"),v=localStorage.getItem("studentDept"),m=localStorage.getItem("studentSection"),g=localStorage.getItem("studentYear"),y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)("newticket"),2),x=w[0],S=w[1],E=f((0,e.useState)(!1),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(0),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)({}),2),M=(L[0],L[1]),U=f((0,e.useState)(),2),F=U[0],z=U[1],V=f((0,e.useState)(0),2),B=V[0],q=V[1],H=f((0,e.useState)("Loading..."),2),W=H[0],G=H[1],Q=f((0,e.useState)(!0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=function(){return"chairman/ secretary/ treasurer etc."===r?30:"joint secretary/vice chairman etc."===r?20:"ec member"===r||"class representative/ placement coordinator/ cell coordinator/ iv or ipt coordinator"===r?10:void 0};(0,e.useEffect)((function(){"empty"!==r&&r&&s&&T(!0)}),[r,s]);var ae=function(e){var t=e.target.id,n=e.target.value;h(d(d({},l),{},o({},t,n)))},ie=function(){a(""),u(""),u(""),h(""),b(""),h({}),document.querySelector("form").reset(),S("newticket")},oe=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(j+re()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category"),ie(),e.abrupt("return");case 5:if(re(),I(!0),!_){e.next=22;break}if("success"!==x){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),r),d(d({},l),{},{weightage:re(),approval:"pending",fileName:s.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ie(),I(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s&&function(){if(te.includes(s.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==p){var e=kg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(s.name)),s);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){S("success"),h((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[s,p]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all")),(function(e){var n=[],r=[],a=0,i=[];O(0),D(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),O((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&G("No data found"),ne(i),q(a),M(r),z(n),Y(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:oe,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),ae(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"chairman/ secretary/ treasurer etc.",children:"Chairman/ Secretary/ Treasurer etc."}),(0,$.jsx)("option",{value:"joint secretary/vice chairman etc.",children:"Joint Secretary/ Vice Chairman etc."}),(0,$.jsx)("option",{value:"ec member",children:"EC Member"}),(0,$.jsx)("option",{value:"class representative/ placement coordinator/ cell coordinator/ iv or ipt coordinator",children:"Class Representative/ Placement Coordinator/ Cell Coordinator/ IV or IPT Coordinator"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){u(e.target.files[0]),ae(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==x||!1===_||N,value:""===k?"Upload New":null!==k&&k<100?"uploading ".concat(k," %"):"success"!==x?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",K?"__":" "+B]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",K?"__":" "+j]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",K?"__":" "+P]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:K||0===F.length?(0,$.jsx)("p",{children:W}):F.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&se(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},qw=function(){var t="VAC/Online Courses",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)("newticket"),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(!0),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)(),2),z=F[0],V=F[1],B=f((0,e.useState)(!0),2),q=B[0],H=B[1],W=f((0,e.useState)({}),2),G=(W[0],W[1]),Q=f((0,e.useState)({}),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(0),2),J=X[0],Z=X[1],ee=f((0,e.useState)("Loading..."),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"value added course (non credit course)"===r?5:"physical (industry collaboration)/ online courses like nptel etc."===r&&"one"===s?10:"physical (industry collaboration)/ online courses like nptel etc."===r&&"two"===s?20:"physical (industry collaboration)/ online courses like nptel etc."===r&&"more than two"===s?30:void 0},se=function(){a(""),h(""),h(""),m(""),S(""),m({})};(0,e.useEffect)((function(){"value added course (non credit course)"===r&&l&&I(!0),"empty"!==r&&"empty"!==s&&r&&l&&s&&I(!0)}),[r,s,l]);var ue=function(e){if("submitted"!==r||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))}},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(K+oe()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category"),se(),e.abrupt("return");case 5:if(oe(),O(!0),!N){e.next=22;break}if("success"!==_){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:oe(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:O(!1),se();case 20:e.next=23;break;case 22:alert("fill all data");case 23:T("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l&&function(){if(ae.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),S(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){T("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=0,i=[];U(0),V(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),V((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&ne("No data found"),ie(i),Z(a),G(r),Y(n),H(!1),D(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===P]);var le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:D(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"nav1-container nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){ue(e),a(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"value added course (non credit course)",children:"Value Added Course (Non credit Course)"}),(0,$.jsx)("option",{value:"physical (industry collaboration)/ online courses like nptel etc.",children:"Physical (industry collaboration)/online courses like nptel etc."})]})]}),"physical (industry collaboration)/ online courses like nptel etc."===r&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select Course credit"}),(0,$.jsxs)("select",{name:"courseCredits",id:"courseCredits",className:"form-select",onChange:function(e){ue(e),u(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"one",children:"One credit course"}),(0,$.jsx)("option",{value:"two",children:"Two credit courses"}),(0,$.jsx)("option",{value:"more than two",children:"More than two credit courses"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){ue(e),h(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==_||!1===N||j,value:""===x?"Upload New":null!==x&&x<100?"uploading ".concat(x," %"):"success"!==_?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count : ",q?"__":" "+J]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points: ",q?"__":" "+M]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",q?"__":" "+z]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:q||0===K.length?(0,$.jsx)("p",{children:te}):K.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.courseCredits&&(0,$.jsxs)("div",{children:["courseCredits:",(0,$.jsx)("span",{children:e.courseCredits})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Hw=function(){var t="Project to Paper/Patent/Copyright",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)("newticket"),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)({}),2),z=(F[0],F[1]),V=f((0,e.useState)(),2),B=V[0],q=V[1],H=f((0,e.useState)(0),2),W=H[0],G=H[1],Q=f((0,e.useState)("Loading..."),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)(!0),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"other journal/conference"===r?5:"sci indexed"===r&&"submitted"===s?10:"sci indexed"===r&&"published"===s?50:"wos/scopus journal/conference"===r&&"submitted"===s?10:"wos/scopus journal/conference"===r&&"published"===s?30:"patent"===r&&"applied"===s?10:"patent"===r&&"published"===s?20:"patent"===r&&"obtained"===s?100:"copyright"===r&&"applied"===s?5:"copyright"===r&&"published"===s?10:void 0};(0,e.useEffect)((function(){("other journal/conference"===r&&l||"empty"!==r&&"empty"!==s&&s&&r&&l)&&I(!0)}),[r,s,l]);var se=function(e){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))},ue=function(){a(""),h(""),h(""),m(""),S(""),m({}),document.querySelector("form").reset(),T("newticket")},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(P+oe()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category. But you get "+oe()),ue(),e.abrupt("return");case 5:if(oe(),O(!0),!N){e.next=22;break}if("success"!==_){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:oe(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ue(),O(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:ne(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){l&&function(){if(ae.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){if(ae.includes(l.name))return void alert("Database already has a file with the same name. Change the file name and try again");var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),S(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){T("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=0,i=[];D(0),U(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&Y("No data found"),ie(i),G(a),z(r),q(n),Z(!1),ne(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===te]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),se(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"sci indexed",children:"SCI Indexed"}),(0,$.jsx)("option",{value:"wos/scopus journal/conference",children:"WOS / Scopus Journal / Conference"}),(0,$.jsx)("option",{value:"other journal/conference",children:"Other Journal/Conference"}),(0,$.jsx)("option",{value:"patent",children:"Patent"}),(0,$.jsx)("option",{value:"copyright",children:"Copyright"})]})]}),"other journal/conference"!==r&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",onChange:function(e){u(e.target.value),se(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),("sci indexed"===r||"wos/scopus journal/conference"===r)&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("option",{value:"submitted",children:"Submitted"}),(0,$.jsx)("option",{value:"published",children:"Published"})]}),("patent"===r||"copyright"===r)&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("option",{value:"applied",children:"Applied"}),(0,$.jsx)("option",{value:"published",children:"Published"}),"patent"===r&&(0,$.jsx)("option",{value:"obtained",children:"Obtained"})]})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){h(e.target.files[0]),se(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==_||!1===N||j,value:""===x?"Upload New":null!==x&&x<100?"uploading ".concat(x," %"):"success"!==_?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",J?"__":" "+W]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",J?"__":" "+P]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",J?"__":" "+M]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:J||0===B.length?(0,$.jsx)("p",{children:K}):B.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.level&&(0,$.jsxs)("div",{children:["level:",(0,$.jsx)("span",{children:e.level})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Ww=function(){var t="GATE/CAT/Govt Exams",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=localStorage.getItem("studentId"),v=localStorage.getItem("studentDept"),m=localStorage.getItem("studentSection"),g=localStorage.getItem("studentYear"),y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)("newticket"),2),x=w[0],S=w[1],E=f((0,e.useState)(!1),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(0),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)({}),2),M=(L[0],L[1]),U=f((0,e.useState)(),2),F=U[0],z=U[1],V=f((0,e.useState)(0),2),B=V[0],q=V[1],H=f((0,e.useState)("Loading..."),2),W=H[0],G=H[1],Q=f((0,e.useState)(!0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=function(){return"appeared"===r?5:"qualified in gate/ cat etc."===r?30:"good national ranking in gate/ cat etc."===r||"cleared govt exam"===r?100:void 0};(0,e.useEffect)((function(){"empty"!==r&&r&&s&&T(!0)}),[r,s]);var ae=function(e){var t=e.target.id,n=e.target.value;h(d(d({},l),{},o({},t,n)))},ie=function(){a(""),u(""),u(""),h(""),b(""),h({}),document.querySelector("form").reset(),S("newticket")},oe=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(j+re()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category"),ie(),e.abrupt("return");case 5:if(re(),I(!0),!_){e.next=22;break}if("success"!==x){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),r),d(d({},l),{},{weightage:re(),approval:"pending",fileName:s.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ie(),I(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s&&function(){if(te.includes(s.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==p){var e=kg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(s.name)),s);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){S("success"),h((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[s,p]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all")),(function(e){var n=[],r=[],a=0,i=[];O(0),D(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),O((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&G("No data found"),ne(i),q(a),M(r),z(n),Y(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:oe,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),ae(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"appeared",children:"Appeared"}),(0,$.jsx)("option",{value:"qualified in gate/ cat etc.",children:"Qualified in GATE/ CAT etc."}),(0,$.jsx)("option",{value:"good national ranking in gate/ cat etc.",children:"Good National ranking in GATE/CAT"}),(0,$.jsx)("option",{value:"cleared govt exam",children:"Cleared Govt Exam"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){u(e.target.files[0]),ae(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==x||!1===_||N,value:""===k?"Upload New":null!==k&&k<100?"uploading ".concat(k," %"):"success"!==x?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",K?"__":" "+B]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",K?"__":" "+j]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",K?"__":" "+P]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:K||0===F.length?(0,$.jsx)("p",{children:W}):F.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&se(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Gw=function(){var t="Placement and Internship",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=localStorage.getItem("studentId"),v=localStorage.getItem("studentDept"),m=localStorage.getItem("studentSection"),g=localStorage.getItem("studentYear"),y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)("newticket"),2),x=w[0],S=w[1],E=f((0,e.useState)(!1),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(0),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)({}),2),M=(L[0],L[1]),U=f((0,e.useState)(),2),F=U[0],z=U[1],V=f((0,e.useState)(0),2),B=V[0],q=V[1],H=f((0,e.useState)("Loading..."),2),W=H[0],G=H[1],Q=f((0,e.useState)(!0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)(0),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"written test cleared"===r?5:"placed"===r?40:"placed with internship"===r?50:"internship without placement"===r?20:void 0};(0,e.useEffect)((function(){"empty"!==r&&r&&s&&T(!0)}),[r,s]);var se=function(e){var t=e.target.id,n=e.target.value;h(d(d({},l),{},o({},t,n)))},ue=function(){a(""),u(""),u(""),h(""),b(""),h({}),document.querySelector("form").reset(),S("newticket")},ce=function(){var e=Pt(Ot().mark((function e(n){var a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(te>=4&&"written test cleared"===r)){e.next=5;break}return alert("Maximum 4 written tests options allowed"),ue(),e.abrupt("return");case 5:if(!(j+oe()>50)){e.next=9;break}return alert("Maximum 50 points allowed in this category"),ue(),e.abrupt("return");case 9:if(oe(),I(!0),!_){e.next=26;break}if("success"!==x){e.next=24;break}return e.prev=13,a="id"+(new Date).getTime(),e.next=17,Rv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),a),d(d({},l),{},{weightage:oe(),approval:"pending",fileName:s.name,activityCategory:t,timeStamp:Uv()}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),alert(e.t0);case 22:ue(),I(!1);case 24:e.next=27;break;case 26:alert("fill all data");case 27:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s&&function(){if(ae.includes(s.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==p){var e=kg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(s.name)),s);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){S("success"),h((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[s,p]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all")),(function(e){var n=[],r=[],a=0,i=0;O(0),D(0);var o=[];e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),O((function(t){return t+e.data().weightage})),a+=1,"written test cleared"===e.data().category&&(i+=1)),o.push(e.data().fileName)})),0===n.length&&G("No data found"),ie(o),ne(i),q(a),M(r),z(n),Y(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),se(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"written test cleared",children:"Written test cleared"}),(0,$.jsx)("option",{value:"placed",children:"Placed"}),(0,$.jsx)("option",{value:"placed with internship",children:"Placed with Internship"}),(0,$.jsx)("option",{value:"internship without placement",children:"Internship without Placement"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){u(e.target.files[0]),se(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==x||!1===_||N,value:""===k?"Upload New":null!==k&&k<100?"uploading ".concat(k," %"):"success"!==x?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 50 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",K?"__":" "+B]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",K?"__":" "+j]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",K?"__":" "+P]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:K||0===F.length?(0,$.jsx)("p",{children:W}):F.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Qw=function(){var t="Entrepreneurship",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=localStorage.getItem("studentId"),v=localStorage.getItem("studentDept"),m=localStorage.getItem("studentSection"),g=localStorage.getItem("studentYear"),y=f((0,e.useState)(""),2),k=y[0],b=y[1],w=f((0,e.useState)("newticket"),2),x=w[0],S=w[1],E=f((0,e.useState)(!1),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(0),2),j=A[0],O=A[1],R=f((0,e.useState)(0),2),P=R[0],D=R[1],L=f((0,e.useState)({}),2),M=(L[0],L[1]),U=f((0,e.useState)(),2),F=U[0],z=U[1],V=f((0,e.useState)(0),2),B=V[0],q=V[1],H=f((0,e.useState)("Loading..."),2),W=H[0],G=H[1],Q=f((0,e.useState)(!0),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(!0),2),J=X[0],Z=X[1],ee=f((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=function(){return"workshop attended"===r?10:"registered for startup"===r?50:"released product"===r?100:void 0};(0,e.useEffect)((function(){"empty"!==r&&r&&s&&T(!0)}),[r,s]);var ae=function(e){var t=e.target.id,n=e.target.value;h(d(d({},l),{},o({},t,n)))},ie=function(){a(""),u(""),u(""),h(""),b(""),h({}),document.querySelector("form").reset(),S("newticket")},oe=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(j+re()>100)){e.next=5;break}return alert("Maximum 100 points allowed in this category"),ie(),e.abrupt("return");case 5:if(re(),I(!0),!_){e.next=22;break}if("success"!==x){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),r),d(d({},l),{},{weightage:re(),approval:"pending",fileName:s.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:ie(),I(!1);case 20:e.next=23;break;case 22:alert("fill all data");case 23:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all"),t));case 3:Z(!0),wg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(n))).then((function(){console.log("fully deleted")})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s&&function(){if(te.includes(s.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==p){var e=kg(xg(jw,"".concat(v,"/").concat(g,"/").concat(m,"/").concat(p,"/").concat(s.name)),s);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){S("success"),h((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[s,p]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(v,"/years/").concat(g,"/sections/").concat(m,"/allStudents/").concat(p,"/all")),(function(e){var n=[],r=[],a=0,i=[];O(0),D(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),D((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),O((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&G("No data found"),ne(i),q(a),M(r),z(n),Y(!1),Z(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===J]),(0,$.jsxs)("div",{className:"nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:oe,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){a(e.target.value),ae(e)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"workshop attended",children:"Workshop attended"}),(0,$.jsx)("option",{value:"registered for startup",children:"Registered for startups"}),(0,$.jsx)("option",{value:"released product",children:"Released product"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof(pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){u(e.target.files[0]),ae(e)}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==x||!1===_||N,value:""===k?"Upload New":null!==k&&k<100?"uploading ".concat(k," %"):"success"!==x?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 100 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count :",K?"__":" "+B]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points:",K?"__":" "+j]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",K?"__":" "+P]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:K||0===F.length?(0,$.jsx)("p",{children:W}):F.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&se(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Kw=function(){var t="Social Activities",n=f((0,e.useState)(""),2),r=n[0],a=n[1],i=f((0,e.useState)(""),2),s=i[0],u=i[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],g=localStorage.getItem("studentId"),y=localStorage.getItem("studentDept"),k=localStorage.getItem("studentSection"),b=localStorage.getItem("studentYear"),w=f((0,e.useState)(""),2),x=w[0],S=w[1],E=f((0,e.useState)("newticket"),2),_=E[0],T=E[1],C=f((0,e.useState)(!1),2),N=C[0],I=C[1],A=f((0,e.useState)(!1),2),j=A[0],O=A[1],R=f((0,e.useState)(!0),2),P=R[0],D=R[1],L=f((0,e.useState)(0),2),M=L[0],U=L[1],F=f((0,e.useState)(),2),z=F[0],V=F[1],B=f((0,e.useState)(!0),2),q=B[0],H=B[1],W=f((0,e.useState)({}),2),G=(W[0],W[1]),Q=f((0,e.useState)({}),2),K=Q[0],Y=Q[1],X=f((0,e.useState)(0),2),J=X[0],Z=X[1],ee=f((0,e.useState)("Loading..."),2),te=ee[0],ne=ee[1],re=f((0,e.useState)([]),2),ae=re[0],ie=re[1],oe=function(){return"nss/ncc camp etc."===r&&"more than 1 & less than 2 weeks"===s?30:"nss/ncc camp etc."===r&&"> 2 weeks"===s?50:"activities such as blood donation etc."===r?5:void 0},se=function(){a(""),h(""),h(""),m(""),S(""),m({})};(0,e.useEffect)((function(){("nss/ncc camp etc."===r&&s&&l||r&&l)&&I(!0)}),[r,l,s]);var ue=function(e){if("submitted"!==r||"empty"!==e.target.value){var t=e.target.id,n=e.target.value;m(d(d({},v),{},o({},t,n)))}},ce=function(){var e=Pt(Ot().mark((function e(n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(K+oe()>50)){e.next=5;break}return alert("Maximum 50 points allowed in this category"),se(),e.abrupt("return");case 5:if(oe(),O(!0),!N){e.next=22;break}if("success"!==_){e.next=20;break}return e.prev=9,r="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),r),d(d({},v),{},{weightage:oe(),approval:"pending",fileName:l.name,activityCategory:t,timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:O(!1),se();case 20:e.next=23;break;case 22:alert("fill all data");case 23:T("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l&&function(){if(ae.includes(l.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==g){var e=kg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(l.name)),l);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),S(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){T("success"),m((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[l,g]),(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all")),(function(e){var n=[],r=[],a=0,i=[];U(0),V(0),e.docs.forEach((function(e){r.push(d({id:e.id},e.data())),V((function(t){return t+e.data().weightage})),e.data().activityCategory===t&&(n.push(d({id:e.id},e.data())),U((function(t){return t+e.data().weightage})),a+=1),i.push(e.data().fileName)})),0===n.length&&ne("No data found"),ie(i),Z(a),G(r),Y(n),H(!1),D(!1)}),(function(e){alert("error fetching data")}));return function(){e()}}),[!0===P]);var le=function(){var e=Pt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv(Dp(Aw,"alldept/".concat(y,"/years/").concat(b,"/sections/").concat(k,"/allStudents/").concat(g,"/all"),t));case 3:D(!0),wg(xg(jw,"".concat(y,"/").concat(b,"/").concat(k,"/").concat(g,"/").concat(n))).then((function(){console.log("fully deleted")})).catch((function(e){alert(e)})),alert("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"nav1-container nav-body-container",children:[(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:ce,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){ue(e),a(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"activities such as blood donation etc.",children:"Activities Such as Blood Donation"}),(0,$.jsx)("option",{value:"nss/ncc camp etc.",children:"NSS/NCC Camp et.c"})]})]}),r&&"nss/ncc camp etc."===r&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select campDuration"}),(0,$.jsxs)("select",{name:"campDuration",id:"campDuration",className:"form-select",onChange:function(e){ue(e),u(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"more than 1 & less than 2 weeks",children:"More than 1 and less than 2 weeks"}),(0,$.jsx)("option",{value:"> 2 weeks",children:"More than two weeks"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){ue(e),h(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==_||!1===N||j,value:""===x?"Upload New":null!==x&&x<100?"uploading ".concat(x," %"):"success"!==_?"Proccessing...":"Upload"})})]})}),(0,$.jsxs)("div",{className:"display-data-container",children:[(0,$.jsxs)("div",{className:"category-header",children:[(0,$.jsxs)("h4",{children:[t,(0,$.jsx)("span",{style:{fontSize:"15px"},children:" (MAX - 50 points)"})]}),(0,$.jsxs)("div",{className:"category-values-container",children:[(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category Count : ",q?"__":" "+J]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Category points: ",q?"__":" "+M]})}),(0,$.jsx)("section",{className:"category-values-section",children:(0,$.jsxs)("h6",{children:["Total points: ",q?"__":" "+z]})})]})]}),(0,$.jsx)("div",{className:"data-container mt-4",children:q||0===K.length?(0,$.jsx)("p",{children:te}):K.map((function(e,t){return(0,$.jsxs)("div",{className:"individual-data-body",children:[(0,$.jsxs)("div",{className:"activity-header-bar",children:[(0,$.jsxs)("span",{className:"h1",children:["0",t+1]}),(0,$.jsxs)("span",{children:["Verification: ",e.approval]})]}),(0,$.jsxs)("div",{className:"activity-data",children:[(0,$.jsxs)("div",{className:"data text-overflow-hide",children:[(0,$.jsxs)("div",{children:["Weightage:",(0,$.jsx)("span",{children:e.weightage})]}),(0,$.jsxs)("div",{children:["Category:",(0,$.jsx)("span",{children:e.category})]}),e.campDuration&&(0,$.jsxs)("div",{children:["campDuration:",(0,$.jsx)("span",{children:e.campDuration})]})]}),(0,$.jsxs)("div",{className:"action-button-group",children:[(0,$.jsx)("a",{href:e.pdf,target:"_blank",rel:"noreferrer noopener",children:(0,$.jsx)("button",{className:"button view-proof-button zoom",children:"Preview PDF"})}),(0,$.jsx)("button",{className:"button delete-record-button zoom",onClick:function(){!0===window.confirm("Are you sure you want to delete this?")&&le(e.id,e.fileName)},children:"delete"})]})]})]},e.id)}))})]})]})},Yw=function(t){var n=t.setNavId,r=f((0,e.useState)(!0),2),a=r[0],i=r[1],o=(0,e.useContext)(te).dispatch,s=(0,e.useContext)(te).isNavbarOpen,u=f((0,e.useState)("nav1"),2),c=u[0],l=u[1];return(0,$.jsx)("div",{className:s?"open-nav fixed-navbar":"close-nav fixed-navbar",children:(0,$.jsxs)("div",{className:"navbar-container",children:[(0,$.jsx)("div",{className:"app-header",children:(0,$.jsx)("div",{className:s?"breadcrumb-container":"breadcrumb-container closed-breadcrumb-container",onClick:function(){i(!a),o({type:a?"NO":"YES"})},children:(0,$.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35px",height:"35px",fill:"currentColor",className:s?"bi bi-list custom-breadcrumb open-breadcrumb":"bi bi-list custom-breadcrumb closed-breadcrumb",viewBox:"0 0 16 16",children:(0,$.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})})}),s&&(0,$.jsx)("div",{className:"nav-items-container",children:(0,$.jsxs)("div",{className:"nav-items",children:[(0,$.jsx)("li",{className:"nav1"===c?"active":"",onClick:function(){l("nav1"),n((0,$.jsx)(Mw,{}))},children:"Paper Presentation"}),(0,$.jsx)("li",{className:"nav2"===c?"active":"",onClick:function(){l("nav2"),n((0,$.jsx)(Uw,{}))},children:"Project Presentation"}),(0,$.jsx)("li",{className:"nav3"===c?"active":"",onClick:function(){l("nav3"),n((0,$.jsx)(Fw,{}))},children:"Techo Managerial Events"}),(0,$.jsx)("li",{className:"nav4"===c?"active":"",onClick:function(){l("nav4"),n((0,$.jsx)(zw,{}))},children:"Sports and Games"}),(0,$.jsx)("li",{className:"nav5"===c?"active":"",onClick:function(){l("nav5"),n((0,$.jsx)(Vw,{}))},children:"Membership"}),(0,$.jsx)("li",{className:"nav6"===c?"active":"",onClick:function(){l("nav6"),n((0,$.jsx)(Bw,{}))},children:"Leadership/Oganizing Events"}),(0,$.jsx)("li",{className:"nav7"===c?"active":"",onClick:function(){l("nav7"),n((0,$.jsx)(qw,{}))},children:"VAC/Online Courses"}),(0,$.jsx)("li",{className:"nav8"===c?"active":"",onClick:function(){l("nav8"),n((0,$.jsx)(Hw,{}))},children:"Project to Paper/Patent/Copyright"}),(0,$.jsx)("li",{className:"nav9"===c?"active":"",onClick:function(){l("nav9"),n((0,$.jsx)(Ww,{}))},children:"GATE/CAT/Govt Exams"}),(0,$.jsx)("li",{className:"nav10"===c?"active":"",onClick:function(){l("nav10"),n((0,$.jsx)(Gw,{}))},children:"Placement and Internship"}),(0,$.jsx)("li",{className:"nav11"===c?"active":"",onClick:function(){l("nav11"),n((0,$.jsx)(Qw,{}))},children:"Entrepreneurship"}),(0,$.jsx)("li",{className:"nav12"===c?"active":"",onClick:function(){l("nav12"),n((0,$.jsx)(Kw,{}))},children:"Social Activities"})]})})]})})},Xw=function(){var e=ct();return(0,$.jsxs)("div",{className:"signout-container",children:[(0,$.jsx)("a",{href:"https://www.google.com",target:"_blank",children:(0,$.jsxs)("button",{className:"help-button button zoom",children:[(0,$.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"me-2 bi bi-question-circle",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[(0,$.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,$.jsx)("path",{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"})]}),"Get Help"]})}),(0,$.jsxs)("button",{className:"signout-button button zoom",onClick:function(){Ow.signOut().then((function(){console.log("success"),localStorage.removeItem("user"),localStorage.removeItem("studentSection"),localStorage.removeItem("studentYear"),localStorage.removeItem("studentDept"),e("/")})).catch((function(e){alert("Error signing out")}))},children:[(0,$.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"me-2 bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[(0,$.jsx)("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),(0,$.jsx)("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Log out"]})]})},Jw=function(t){var n=t.navId,r=(0,e.useContext)(te).isNavbarOpen;return(0,$.jsxs)("div",{className:r?"body-shrink body-container":"body-full-width body-container",children:[(0,$.jsx)(Xw,{}),n]})},Zw=function(){var t=f((0,e.useState)(""),2),n=t[0],r=t[1],a=f((0,e.useState)(""),2),i=a[0],s=a[1],u=f((0,e.useState)(""),2),c=u[0],l=u[1],h=f((0,e.useState)(""),2),p=h[0],v=h[1],m=localStorage.getItem("studentid"),g=f((0,e.useState)(""),2),y=g[0],k=g[1],b=f((0,e.useState)("newticket"),2),w=b[0],x=b[1],S=f((0,e.useState)(!1),2),E=S[0],_=S[1],T=f((0,e.useState)(!1),2),C=T[0],N=T[1],I=f((0,e.useState)(!0),2),A=(I[0],I[1],f((0,e.useState)(0),2)),j=(A[0],A[1],f((0,e.useState)(),2)),O=(j[0],j[1],f((0,e.useState)(!0),2)),R=(O[0],O[1],f((0,e.useState)({}),2)),P=(R[0],R[1],f((0,e.useState)({}),2)),D=P[0],L=(P[1],f((0,e.useState)(0),2)),M=(L[0],L[1],f((0,e.useState)("Loading..."),2)),U=(M[0],M[1],f((0,e.useState)([]),2)),F=U[0],z=(U[1],function(){return"submitted"===n?2:"presented"===n&&"inside"===i?5:"presented"===n&&"outside"===i?10:"presented"===n&&"premier"===i||"prize"===n&&"inside"===i?20:"prize"===n&&"outside"===i?30:"prize"===n&&"premier"===i?50:void 0}),V=function(){r(""),l(""),l(""),v(""),k(""),v({})};(0,e.useEffect)((function(){("empty"!==n&&"submitted"===n&&c||"empty"!==n&&"empty"!==i&&n&&c&&i)&&_(!0)}),[n,i,c]);var B=function(e){if("submitted"!==n||"empty"!==e.target.value){var t=e.target.id,r=e.target.value;v(d(d({},p),{},o({},t,r)))}},q=function(){var e=Pt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(D+z()>75)){e.next=5;break}return alert("Maximum 75 points allowed in this category"),V(),e.abrupt("return");case 5:if(z(),N(!0),!E){e.next=22;break}if("success"!==w){e.next=20;break}return e.prev=9,n="id"+(new Date).getTime(),e.next=13,Rv(Dp(Aw,"all/".concat(m,"/all"),n),d(d({},p),{},{weightage:z(),approval:"pending",fileName:c.name,activityCategory:"Paper Presentation",timeStamp:Uv()}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0);case 18:N(!1),V();case 20:e.next=23;break;case 22:alert("fill all data");case 23:x("newticket"),document.querySelector("form").reset();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){c&&function(){if(F.includes(c.name))alert("Database already has a file with the same name. Change the file name and try again");else if(null!==m){var e=kg(xg(jw,"".concat(m,"/")+c.name),c);e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),k(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is "+t+"% done"),console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){bg(e.snapshot.ref).then((function(e){x("success"),v((function(t){return d(d({},t),{},{pdf:e})}))}))}))}}()}),[c,m]),(0,$.jsx)("div",{className:"nav1-container nav-body-container",children:(0,$.jsx)("div",{className:"newdata-container mb-5",children:(0,$.jsxs)("form",{className:"add-newdata-form",onSubmit:q,children:[(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,$.jsxs)("select",{name:"category",id:"category",className:"form-select",onChange:function(e){B(e),r(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"submitted",children:"Submitted"}),(0,$.jsx)("option",{value:"presented",children:"Presented"}),(0,$.jsx)("option",{value:"prize",children:"Prize"})]})]}),n&&"submitted"!==n&&(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select level"}),(0,$.jsxs)("select",{name:"level",id:"level",className:"form-select",onChange:function(e){B(e),s(e.target.value)},children:[(0,$.jsx)("option",{value:"empty",className:"disabled-select",children:"Select a value"}),(0,$.jsx)("option",{value:"inside",children:"Inside"}),(0,$.jsx)("option",{value:"outside",children:"Outside"}),(0,$.jsx)("option",{value:"premier",children:"Premier"})]})]}),(0,$.jsxs)("section",{className:"form-group",children:[(0,$.jsx)("label",{htmlFor:"category",className:"form-label",children:"Upload Proof (pdf only)"}),(0,$.jsx)("input",{type:"file",className:"form-control",id:"pdf",name:"pdf",accept:"application/pdf",onChange:function(e){B(e),l(e.target.files[0])}})]}),(0,$.jsx)("section",{className:"form-group",children:(0,$.jsx)("input",{type:"submit",className:"form-control mt-3 addnew-button zoom",disabled:"success"!==w||!1===E||C,value:""===y?"Upload New":null!==y&&y<100?"uploading ".concat(y," %"):"success"!==w?"Proccessing...":"Upload"})})]})})})},$w=function(){var t=f((0,e.useState)((0,$.jsx)(Mw,{})),2),n=t[0],r=t[1],a=f((0,e.useState)({}),2),i=a[0],s=a[1],u=f((0,e.useState)(""),2),c=u[0],l=u[1],h=(0,e.useContext)(At).currentUser,p=f((0,e.useState)(!0),2),v=p[0],m=p[1],g=f((0,e.useState)(!1),2),y=g[0],k=g[1],b=f((0,e.useState)(""),2),w=b[0],x=b[1],S=f((0,e.useState)(""),2),E=S[0],_=S[1],T=f((0,e.useState)(""),2),C=T[0],N=T[1],I=c.match(/^\d{2}cs[lrt]\d{3}$/i),A=function(e,t,n,r){X.error(e,{position:t,autoClose:n,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:r})},j=function(){var e=Pt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h||!i){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!I){e.next=15;break}return e.next=7,Rv(Dp(Aw,"allUsers/".concat(w,"/allYears/").concat(E,"/allSections/").concat(C,"/allUsers/"),h.uid),d(d({},i),{},{email:h.email,uid:h.uid,name:h.displayName,timeStamp:Uv()}));case 7:n="\ud83d\ude80Roll Number added successfully",r="bottom-right",a="300",o="colored",X.success(n,{position:r,autoClose:a,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:o}),localStorage.setItem("studentDept",w),localStorage.setItem("studentSection",C),localStorage.setItem("studentYear",E),k(!1),m(!0),e.next=16;break;case 15:k("Please check your roll number");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),alert(e.t0),A("Error Storing your roll number!","top-right","300","colored");case 22:case"end":return e.stop()}var n,r,a,o}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=Dv(Pp(Aw,"allUsers/".concat(localStorage.getItem("studentDept"),"/allYears/").concat(localStorage.getItem("studentYear"),"/allSections/").concat(localStorage.getItem("studentSection"),"/allUsers")),(function(e){m(!1),e.docs.forEach((function(e){e.id===h.uid&&(console.log("found"),console.log(e.data()),localStorage.setItem("studentId",e.data().studentId),localStorage.setItem("studentSection",e.data().studentSection),localStorage.setItem("studentYear",e.data().studentYear),localStorage.setItem("studentDept",e.data().studentDept),m(!0))}))}),(function(e){A("Error fetching student data","top-right",500,"colored")}));return function(){e()}}),[v,h.uid]);var O=function(e){var t=e.target.id,n=e.target.value.toUpperCase();s(d(d({},i),{},o({},t,n)))};return console.log(i),(0,$.jsx)("div",{className:v?"App":"App app-blur",children:v?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Yw,{setNavId:r}),(0,$.jsx)(Zw,{}),(0,$.jsx)(Jw,{navId:n})]}):(0,$.jsxs)("div",{className:"studentId-input-container",children:[(0,$.jsxs)("div",{className:"studentId-input-header mb-3",children:[(0,$.jsx)("h3",{children:"Hey, New user!"}),(0,$.jsx)("p",{children:"Enter your college rollnumber and you are set to go \ud83d\ude80"})]}),(0,$.jsxs)("form",{onSubmit:j,className:"studentId-input-form",children:[(0,$.jsxs)("select",{name:"studentDept",id:"studentDept",required:!0,onChange:function(e){x(e.target.value),O(e)},children:[(0,$.jsx)("option",{value:"",style:{display:"none"}}),(0,$.jsx)("option",{value:"CSE",children:"CSE"}),(0,$.jsx)("option",{value:"MECH",children:"MECH"}),(0,$.jsx)("option",{value:"CHEM",children:"CHEM"}),(0,$.jsx)("option",{value:"ECE",children:"ECE"})]}),(0,$.jsxs)("select",{name:"studentYear",id:"studentYear",required:!0,onChange:function(e){_(e.target.value),O(e)},children:[(0,$.jsx)("option",{value:"",style:{display:"none"}}),(0,$.jsx)("option",{value:"1",children:"I"}),(0,$.jsx)("option",{value:"2",children:"II"}),(0,$.jsx)("option",{value:"3",children:"III"}),(0,$.jsx)("option",{value:"4",children:"IV"})]}),(0,$.jsxs)("select",{name:"studentSection",id:"studentSection",required:!0,onChange:function(e){N(e.target.value),O(e)},children:[(0,$.jsx)("option",{value:"",style:{display:"none"}}),(0,$.jsx)("option",{value:"A",children:"A"}),(0,$.jsx)("option",{value:"B",children:"B"}),(0,$.jsx)("option",{value:"C",children:"C"}),(0,$.jsx)("option",{value:"D",children:"D"})]}),(0,$.jsx)("input",{type:"text",id:"studentId",name:"studentId",className:"studentId-input",placeholder:"Enter roll number",required:!0,onChange:function(e){l(e.target.value),O(e)}}),(0,$.jsx)("input",{type:"submit",value:"Save",className:"save-rollno-button button zoom"})]}),y&&(0,$.jsx)("p",{className:"rollno-error text-danger",children:y})]})})},ex=function(){var t=ct(),n=(0,e.useContext)(At).currentUser.email.match(/.+@kongu.edu$/),r=f((0,e.useState)(!0),2),a=r[0],i=r[1],o=function(){var e=Pt(Ot().mark((function e(){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ow.currentUser,e.prev=1,e.next=4,n.delete();case 4:t("/"),localStorage.removeItem("user"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){n||(i(!1),setTimeout((function(){o()}),5e3))}),[]),(0,$.jsx)("div",{children:a?(0,$.jsx)($w,{}):(0,$.jsx)("div",{className:"unauthorised-entry",children:(0,$.jsx)(Lw,{deleteAccount:o})})})},tx=function(){var t=(0,e.useContext)(At).currentUser,n=function(e){var n=e.children;return t?n:(0,$.jsx)(kt,{to:"/"})};return(0,$.jsx)("div",{className:"router-component",children:(0,$.jsxs)(xt,{children:[(0,$.jsx)(bt,{path:"/",element:(0,$.jsx)(Pw,{})}),(0,$.jsx)(bt,{path:"dashboard",element:(0,$.jsx)(n,{children:(0,$.jsx)(ex,{})})})]})})};r.createRoot(document.getElementById("root")).render((0,$.jsx)(e.StrictMode,{children:(0,$.jsx)(_t,{children:(0,$.jsx)(jt,{children:(0,$.jsxs)(ne,{children:[(0,$.jsx)(z,{position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,$.jsx)(tx,{}),(0,$.jsx)(z,{})]})})})}))}()}();
//# sourceMappingURL=main.83e30b57.js.map